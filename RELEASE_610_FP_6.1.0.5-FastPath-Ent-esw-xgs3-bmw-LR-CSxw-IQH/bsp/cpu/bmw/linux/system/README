System Maintenance Notes -- CRM 3/22/2007

The rootfs directory contains all of the files to go into the root 
filesystem. The file "cpiolist" in that directory contains instructions 
on where these files go, and how to create dev nodes, links, etc. 
This file is input to the kernel's gen_init_cpio utility. 

Examples in cpiolist:

dir /bin 0755 0 0
Create directory /bin, mode 0755 (rwxr-xr-x), owner 0 (root), group 0. 
All files should be owner/group 0/0. 

nod /dev/null 0644 0 0 c 1 3
Create a device node at /dev/null, permissions 0644, owner/group 0/0, 
a character device, major 1, minor 3. 

file /bin/busybox rootfs/busybox 04755 0 0
Put the file rootfs/busybox (all the file paths must be prepended by rootfs/, 
because this file is read from the Makefile in the parent directory), at 
/bin/busybox, mode 04755 (rwsr-xr-x), owner/group 0/0. 

slink /bin/cp busybox 0777 0 0
slink /sbin/ifconfig ../bin/busybox 0777 0 0
Create a symbolic link. The two arguments are just like "ln -s", the second 
argument (the link target) should be a relative path from the location 
of the link. There's no good reason for symlinks to be any permission 
other than 0777 (permissions of the target file are what's actually used). 

