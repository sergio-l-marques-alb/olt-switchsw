<?xml version="1.0"?>
<device_data lib="dnx_data" device="jr2_a0"  module="l2">

    <sub_module name="general">

        <features>
            <feature name="learning_use_insert_cmd" value="0"></feature>
            <feature name="ivl_feature_support" value="0"></feature>
        </features>

        <defines>
            <define name="vsi_offset_shift" value="70"/>         <!--  70 = MACT_ENTRY_SIZE - MACT_KEY_SIZE -->
            <define name="lif_offset_shift" value="-74"/>        <!--  -74 = - MACT_KEY_SIZE + VMV_SIZE     -->
        </defines>

        <numerics>
            <numeric name="l2_learn_limit_mode" value="0">
                <property name="l2_learn_limit_mode" method="direct_map">
                    <map name="VLAN" value="0"/>
                    <map name="VLAN_PORT" value="1"/>
                    <map name="TUNNEL" value="2"/>
                    <doc>MACT learn limit mode</doc>
                </property>
            </numeric>
        </numerics>

        <tables>
        </tables>

    </sub_module>

    <sub_module name="hw_bug" doc="L2 related HW bugs">
        <features>
        <feature name="age_out_and_refresh_profile_selection"></feature>
        <feature name="age_machine_pause_after_flush"></feature>
        <feature name="age_state_not_updated" value="1"></feature>
        <feature name="appdb_id_for_olp" value="1"></feature>
        <feature name="eth_qual_is_mc" value="0"></feature>
        <feature name="bc_same_as_unknown_mc" value="0"></feature>
        <feature name="fid_mgmt_ecc_error" value="1"></feature>
        <feature name="wrong_limit_interrupt_handling" value="1"></feature>
        <feature name="transplant_instead_of_refresh" value="1"></feature>   
        <feature name="static_mac_age_out" value="1"></feature>
        <feature name="vmv_for_limit_in_wrong_location" value="1"></feature>
        <feature name="learn_limit" value="0"></feature>
        <feature name="limit_per_lif_counters" value="0">
            <property name="l2_learn_limit_mode" method="direct_map">
                <map name="VLAN" value="0"/>
                <map name="VLAN_PORT" value="1"/>
                <map name="TUNNEL" value="0"/>
                <doc>NULL</doc>
            </property>
        </feature>
        <feature name="learn_events_wrong_command" value="1"></feature>
        </features>

        <defines>
        </defines>

        <numerics>
        </numerics>

        <tables>
        </tables>
    </sub_module>
    
    <sub_module name="vsi">

        <features>
        </features>

        <defines>
            <define name="nof_vsi_aging_profiles" value="32"/>
            <define name="nof_event_forwarding_profiles" value="4"/>
            <define name="nof_vsi_learning_profiles" value="32"/>
        </defines>

        <numerics>
        </numerics>

        <tables>
        </tables>
         
    </sub_module>
    
    <sub_module name="vlan_domain">
        
        <features>
        </features>
        
        <defines>
            <define name= "nof_vlan_domains" value="512"></define>
            <define name= "nof_bits_next_layer_network_domain" value="9"/>
        </defines>

        <numerics>
        </numerics>

        <tables>
        </tables>

    </sub_module>

    <sub_module name="dma">

        <features>
        </features>

        <defines>
            <define name="flush_nof_dma_entries" value="64"/>
            <define name="flush_db_nof_dma_rules" value="16"/>
            <define name="flush_db_nof_dma_rules_per_table" value="8"/>
            <define name="flush_db_rule_size" value="67"/>
            <define name="flush_db_data_size" value="25"/>
            <define name="flush_group_size" value="4"/>
        </defines>

        <numerics>
            <numeric name= "learning_fifo_dma_buffer_size" value="200000">
                <property name="learning_fifo_dma_buffer_size" method="range" range_min="20" range_max="327680">
                    <doc>
                        Configure the size of the host memory in bytes. 
                        The valid range of memory size is 20-327680 bytes.
                        learning_fifo_dma_buffer_size=20-327680
                        Default: 200000
                    </doc>
                </property>
            </numeric>
            <numeric name="learning_fifo_dma_timeout" value="32767">
                <property name="learning_fifo_dma_timeout" method="range" range_min="0" range_max="65535">
                    <doc>
                        Configures the learning fifo dma timeout in microseconds.
                        The valid range is 0-65535.
                        learning_fifo_dma_timeout=0-65535
                        Default: 32767
                    </doc>
                </property>
            </numeric>
            <numeric name="learning_fifo_dma_threshold" value="4">
                <property name="learning_fifo_dma_threshold" method="range" range_min="1" range_max="16384">
                    <doc>
                        Configures the learning fifo dma threshold.
                        The valid range is 1-16384.
                        learning_fifo_dma_threshold=1-16384
                        Default: 4
                    </doc>
                </property>
            </numeric>
        </numerics>
   
        <tables>
        </tables>
    </sub_module>
    
    <sub_module name="age_and_flush_machine">

        <features>
        </features>

        <defines>
            <define name="max_age_states" value="8"/>
        </defines>

        <numerics>
        </numerics>

        <tables>
            <table name="filter_rules">
                <value name="table_name" default="MDB_MEM_23000m"></value>
                <value name="valid" default="ITEM_0_0f"></value>
                <value name="entry_mask" default="ITEM_8_264f"></value>
                <value name="entry_filter" default="ITEM_275_531f"></value>
                <value name="src_mask" default="ITEM_265_267f"></value>
                <value name="src_filter" default="ITEM_532_534f"></value>
                <value name="appdb_id_mask" default="ITEM_2_7f"></value>
                <value name="appdb_id_filter" default="ITEM_269_274f"></value>
                <value name="accessed_mask" default="ITEM_1_1f"></value>
                <value name="accessed_filter" default="ITEM_268_268f"></value>
            </table>

            <table name="data_rules">                
                <value name="table_name" default="MDB_MEM_24000m"></value>
                <value name="command" default="ITEM_0_3f"></value>
                <value name="payload_mask" default="ITEM_4_99f"></value>
                <value name="payload" default="ITEM_100_195f"></value>
            </table>

            <table name="flush">
                <value name="flush_pulse" default="MDB_REG_3021r"></value>
                <value name="traverse_thread_priority" default="50">
                    <property name="l2_flush_traverse_thread_priority" method="range" range_min="0" range_max="0xFFFF">
                        <doc>L2 flush match traverse non-blocking thread priority</doc>
                    </property>
                </value>
            </table>

            <table name="age">
                <value name="age_config" default="MDB_REG_181r"></value>
                <value name="disable_aging" default="ITEM_360_367f"></value>
                <value name="scan_pulse" default="MDB_REG_3020r"></value>
            </table>
        </tables>

    </sub_module>

    <sub_module name="olp">

        <features>
        </features>

        <defines>
            <define name="lpkgv_shift" value="26"/>
            <define name="lpkgv_mask" value="0x3f"/>
            <define name="lpkgv_with_outlif" value="0x20"/>
            <define name="lpkgv_wo_outlif" value="0x30"/>
            <define name="destination_offset" value="31"/>
            <define name="outlif_offset" value="9"/>
            <define name="eei_offset" value="7"/>
            <define name="fec_offset" value="31"/>
            <define name="jr_mode_enhanced_performance_enable" value="1"/>
        </defines>

        <numerics>
        </numerics>

        <tables>
        </tables>

    </sub_module>
</device_data>
