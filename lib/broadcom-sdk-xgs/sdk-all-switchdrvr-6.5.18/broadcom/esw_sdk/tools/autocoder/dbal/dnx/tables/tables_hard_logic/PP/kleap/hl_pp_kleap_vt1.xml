<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!--
    ******************************************************
    DBAL Hard-Logic Logical Tables:
    This xml contains the hard-logic logical DB for the DBAL.
    The data is loaded to the device during init process
    ******************************************************

    DB Rules:
    *********
--><AppDbCatalog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../hard_logic_schema.xsd">

    <AppDB Name="KLEAP_VT1_KBR_INFO">
        <OneLineDescription>Indicates per Context per KBR the KBR info - FFC and AppDB configured</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="CONTEXT_PROFILE" Size="6"/>
                <Field MaxValue="5" Name="KBR_IDX" Size="3" Type="UINT"/>
            </Key>
            <Result>
                <Field Name="APP_DB_ID"/>
                <Field Name="FFC_BITMAP" Size="10" Type="BITMAP"/>
            </Result>
            <TableLabels>L3</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping> 
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="FFC_BITMAP">
                    <Access>
                        <Memory Name="IPPF_VTT_ST_ONE_LE_KBRm"> 
                            <EntryOffset Formula="#KEY_VALUE(CONTEXT_PROFILE)"/>
                            <HwField Name="KBR_INSTRUCTIONS_VECTORf"/>
                            <DataOffset Formula="#KEY_VALUE(KBR_IDX)*#FULL_RESULT_SIZE()"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="APP_DB_ID">
                    <Access>
                        <Memory Name="IPPF_VTT_ST_ONE_LE_KBRm"> 
                            <EntryOffset Formula="#KEY_VALUE(CONTEXT_PROFILE)"/>
                            <HwField Name="KBR_INSTRUCTIONS_VECTORf"/>
                            <DataOffset Formula="#KEY_VALUE(KBR_IDX)*#FULL_RESULT_SIZE()+#RESULT_SIZE(FFC_BITMAP)"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="KLEAP_VT1_FFC_INSTRUCTION">
        <OneLineDescription>Indicates per Context per KBR the KBR info - FFC and AppDB configured</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="CONTEXT_PROFILE" Size="6"/>
                <Field MaxValue="9" Name="FFC_IDX" Size="4" Type="UINT"/>
            </Key>
            <Result>
                <Field Name="VT1_FFC_INSTRUCTION"/>
            </Result>
            <TableLabels>L3</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping> 
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="VT1_FFC_INSTRUCTION">
                    <Access>
                        <Memory Name="IPPF_VTT_ST_ONE_LE_FFCm"> 
                            <EntryOffset Formula="#KEY_VALUE(CONTEXT_PROFILE)"/>
                            <HwField Name="FFC_INSTRUCTIONS_VECf"/>
                            <DataOffset Formula="#KEY_VALUE(FFC_IDX)*#RESULT_SIZE(VT1_FFC_INSTRUCTION)"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="KLEAP_VT1_PD_INFO">
        <OneLineDescription>Indicates per prioriy decoder and context its parameters and profile</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="CONTEXT_PROFILE" Size="6"/>
                <Field MaxValue="2" Name="PD_IDX" Size="2" Type="UINT"/>
                <Field MaxValue="5" Name="KBR_IDX" Size="5" Type="UINT"/>
            </Key>
            <Result>
                <Field Name="PD_STRENGTH_WIDTH" Size="2" Type="UINT"/>
                <Field Name="PD_CONST_STRENGTH" Size="4" Type="UINT"/>
                <Field Name="PD_ORDER" Size="3" Type="UINT"/>
                <Field Name="PD_PROFILE" Size="7" Type="UINT"/>
            </Result>
            <TableLabels>L3</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping> 
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="PD_STRENGTH_WIDTH">
                    <Access>
                        <Memory Name="IPPF_VTT_ST_ONE_LE_PDm"> 
                            <EntryOffset Formula="#KEY_VALUE(CONTEXT_PROFILE)"/>
                            <DataOffset Formula="#KEY_VALUE(PD_IDX)*54+#KEY_VALUE(KBR_IDX)*#RESULT_SIZE(PD_STRENGTH_WIDTH)"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="PD_ORDER">
                    <Access>
                        <Memory Name="IPPF_VTT_ST_ONE_LE_PDm"> 
                            <EntryOffset Formula="#KEY_VALUE(CONTEXT_PROFILE)"/>
                            <DataOffset Formula="#KEY_VALUE(PD_IDX)*54+36+#KEY_VALUE(KBR_IDX)*#RESULT_SIZE(PD_ORDER)"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="PD_CONST_STRENGTH">
                    <Access>
                        <Memory Name="IPPF_VTT_ST_ONE_LE_PDm"> 
                            <EntryOffset Formula="#KEY_VALUE(CONTEXT_PROFILE)"/>
                            <DataOffset Formula="#KEY_VALUE(PD_IDX)*54+12+#KEY_VALUE(KBR_IDX)*#RESULT_SIZE(PD_CONST_STRENGTH)"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="PD_PROFILE">
                    <Access>
                        <Memory Name="IPPF_VTT_ST_ONE_LE_PD_CONTEXT_TO_PROFILES_DATAm"> 
                            <EntryOffset Formula="#KEY_VALUE(CONTEXT_PROFILE)"/>
                            <DataOffset Formula="#KEY_VALUE(PD_IDX)*42+#KEY_VALUE(KBR_IDX)*#RESULT_SIZE(PD_PROFILE)"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

</AppDbCatalog>
