<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Spanning Tree Groups</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Spanning Tree Groups </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>For chips which support multiple spanning tree groups (STGs), the following API functions allow manipulation of STG configuration. For chips not supporting multiple STGs, a default group (STG 1) is assumed to exist. All VLANS belong to this group by default. Enduser application should not use this default group.</p>
<p>Many of the following functions accept an stp_state argument or return value. Table <a class="el" href="stg.html#BCM_STG_STP_e">BCM_STG_STP_e</a> describes the possible values for spanning tree protocol states.</p>
<p><a class="anchor" id="BCM_STG_STP_e"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Spanning Tree Port States</caption>
<tr>
<th>State </th><th>Description  </th></tr>
<tr>
<td>BCM_STG_STP_DISABLE </td><td>Disabled  </td></tr>
<tr>
<td>BCM_STG_STP_BLOCK </td><td>Accepts BPDU, does not learn  </td></tr>
<tr>
<td>BCM_STG_STP_LISTEN </td><td>Accepts BPDU, does not learn  </td></tr>
<tr>
<td>BCM_STG_STP_LEARN </td><td>Accepts BPDU and learns, no forwarding  </td></tr>
<tr>
<td>BCM_STG_STP_FORWARD </td><td>Accepts BPDU, normal switching operation  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__stg.html#ga8767046c57dc3c18541d77e7139737d6" title="Initialize the Spanning Tree Group (STG) module to its initial configuration.">bcm_stg_init(int unit)</a>  </td><td>Initialize the Spanning Tree Group (STG) module to its initial configuration.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga60e14c435a74e085535804c77b4a1b0b" title="Destroy all STGs and initialize the Spanning Tree Group (STG) module to its initial configuration.">bcm_stg_clear(int unit)</a>  </td><td>Destroy all STGs and initialize the Spanning Tree Group (STG) module to its initial configuration.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga685b3a9fee97f4078ddf3452fb7ed956" title="Return the current default STG ID for the chip.">bcm_stg_default_get(int unit, bcm_stg_t* stg_ptr)</a>  </td><td>Return the current default STG ID for the chip.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga46fee6b269d051a4912e377b4f20767d" title="Designate the default STG ID for the chip.">bcm_stg_default_set(int unit, bcm_stg_t stg)</a>  </td><td>Designate the default STG ID for the chip.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga276596803ca0fb6ea696ca7c99c9d184" title="Add a VLAN to a specified STG.">bcm_stg_vlan_add(int unit, bcm_stg_t stg, bcm_vlan_t vid)</a>  </td><td>Add a VLAN to a specified STG.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga741e754fbfa6b2d948c8dea4529b9513" title="Remove a VLAN from a Spanning Tree Group.">bcm_stg_vlan_remove(int unit, bcm_stg_t stg, bcm_vlan_t vid)</a>  </td><td>Remove a VLAN from a Spanning Tree Group.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga2c8a0a76ffa5872c4eb0f4e2de53f966" title="Remove all VLANs from a Spanning Tree Group.">bcm_stg_vlan_remove_all(int unit, bcm_stg_t stg)</a>  </td><td>Remove all VLANs from a Spanning Tree Group.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga7cd6bde59bdc0f9c9e77a0d0853bcd9d" title="Generates a list of VLANs in a specified STG.">bcm_stg_vlan_list(int unit, bcm_stg_t stg, bcm_vlan_t** list, int* count)</a>  </td><td>Generates a list of VLANs in a specified STG.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga8c4864a59dcb61840d8d5b4a8adafed0" title="Destroy a list returned by bcm_stg_vlan_list .">bcm_stg_vlan_list_destroy(int unit, bcm_vlan_t* list, int count)</a>  </td><td>Destroy a list returned by <a class="el" href="group__stg.html#bcm_stg_vlan_list">bcm_stg_vlan_list</a> .   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga63b4a71b65af74f01526a71517d657af" title="Create a new STG, using a new STG ID.">bcm_stg_create(int unit, bcm_stg_t* stg_ptr)</a>  </td><td>Create a new STG, using a new STG ID.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga9cde21d6dd7cdeabae576a4a2affa69c" title="Create a new STG, using a specific STG ID.">bcm_stg_create_id(int unit, bcm_stg_t stg)</a>  </td><td>Create a new STG, using a specific STG ID.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga72a2168231d6f0ea8c145800377dadf5" title="Destroys the specified STG.">bcm_stg_destroy(int unit, bcm_stg_t stg)</a>  </td><td>Destroys the specified STG.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga620d6031b5f28c35ee8e09ffcfa7b912" title="Generates a list of IDs for currently defined STGs.">bcm_stg_list(int unit, bcm_stg_t** list, int* count)</a>  </td><td>Generates a list of IDs for currently defined STGs.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga3e617220cf4adae3ecaf27bff86e83a3" title="Destroys a previously returned list of STG IDs; the STGs themselves are not affected.">bcm_stg_list_destroy(int unit, bcm_stg_t* list, int count)</a>  </td><td>Destroys a previously returned list of STG IDs; the STGs themselves are not affected.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga359064a886866762999f178c88936cd5" title="Set the Spanning Tree Protocol state of a port/VP in the specified STG. VP GROUP STP state need to be...">bcm_stg_stp_set(int unit, bcm_stg_t stg, bcm_port_t port, int stp_state)</a>  </td><td><p class="starttd">Set the Spanning Tree Protocol state of a port/VP in the specified STG.</p>
<p class="endtd">VP GROUP STP state need to be setted per direction, Please use <a class="el" href="group__vlan.html#bcm_vlan_gport_add">bcm_vlan_gport_add</a> for this.   </p>
</td></tr>
<tr>
<td><a class="el" href="group__stg.html#ga182bf4e667ab5a1f75acf623ee1ac4db" title="Return the Spanning Tree Protocol state of a port in the specified STG.">bcm_stg_stp_get(int unit, bcm_stg_t stg, bcm_port_t port, int* stp_state)</a>  </td><td>Return the Spanning Tree Protocol state of a port in the specified STG.   </td></tr>
<tr>
<td><a class="el" href="group__stg.html#gab660321d7e3e6242a26ff0dda0e6ed99" title="Return the maximum number of STGs that the underlying hardware can support.">bcm_stg_count_get(int unit, int* max_stg)</a>  </td><td>Return the maximum number of STGs that the underlying hardware can support   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2019 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
