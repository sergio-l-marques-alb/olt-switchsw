<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Fabric</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Fabric </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Fabric configuration APIs allow the following functionality to be configured</p>
<ul>
<li>data slicing</li>
<li>crossbar/routing connection</li>
<li>defining enabled links</li>
<li>control functionality</li>
<li>replication</li>
</ul>
<p>There are often properties that do not fit well into other parts of the BCM APIs. They have been collected into one set of control APIs.</p>
<h1><a class="anchor" id="fabric_init"></a>
Fabric Initialization</h1>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga037eaf6e80e1bf37500edd7c5099e1dd" title="Initialize the BCM Fabric subsystem.">bcm_fabric_init(int unit)</a>  </td><td>Initialize the BCM Fabric subsystem.   </td></tr>
</table>
<h1><a class="anchor" id="fabric_control"></a>
Fabric Control</h1>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_fabric_crossbar_connection_set()  </td><td>Defines connection setup between two modules/nodes.   </td></tr>
<tr>
<td>bcm_fabric_crossbar_connection_get()  </td><td>Defines connection setup between two modules/nodes.   </td></tr>
<tr>
<td>bcm_fabric_crossbar_mapping_set()  </td><td>Defines switch fabric interface (SFI) link remap.   </td></tr>
<tr>
<td>bcm_fabric_crossbar_mapping_get()  </td><td>Defines switch fabric interface (SFI) link remap.   </td></tr>
<tr>
<td>bcm_fabric_crossbar_enable_set()  </td><td>Configure Link enable.   </td></tr>
<tr>
<td>bcm_fabric_crossbar_status_get()  </td><td>Retrieve runtime Link enable configuration.   </td></tr>
<tr>
<td>bcm_fabric_packet_adjust_set()  </td><td>Packet length adjustment   </td></tr>
<tr>
<td>bcm_fabric_packet_adjust_get()  </td><td>Packet length adjustment   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga07a9f7194ff574b63121f3ab7a997eeb" title="Create a fabric port on the parent physical port.">bcm_fabric_port_create(int unit, bcm_gport_t parent_port, int offset, uint32 flags, bcm_gport_t* port)</a>  </td><td>Create a fabric port on the parent physical port   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gad28967c90541afedf02e9a4ae9d4e92d" title="Destroy a fabric port.">bcm_fabric_port_destroy(int unit, bcm_gport_t parent_port)</a>  </td><td>Destroy a fabric port   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga6d04e933ec6dbb24dd1d70d6f38f2216" title="Given a child port retrieve the parent port.">bcm_fabric_port_get(int unit, bcm_gport_t child_port, uint32 flags, bcm_gport_t* parent_port)</a>  </td><td>Given a child port retrieve the parent port   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga5f481e65e9376d6d66f133b3e5838fd2" title="Set fabric control attributes.">bcm_fabric_control_set(int unit, bcm_fabric_control_t type, int arg)</a>  </td><td>Set fabric control attributes.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga0c0a491220a2dce0e066c37e17de3a6c" title="Set fabric control attributes.">bcm_fabric_control_get(int unit, bcm_fabric_control_t type, int* arg)</a>  </td><td>Set fabric control attributes.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga0f6a241584fbefa7c945be28b539dccd" title="Add\Delete thresholds set.">bcm_fabric_link_threshold_add(int unit, uint32 flags, int* fifo_type)</a>  </td><td>Add\Delete thresholds set   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga860f8ed685f3c1e0b4d1f42d148c269e" title="Add\Delete thresholds set.">bcm_fabric_link_threshold_delete(int unit, int fifo_type)</a>  </td><td>Add\Delete thresholds set   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga748b123e7fa73fd7b9c8df491a3160d6" title="Set\Get fifo_type thresholds.">bcm_fabric_link_thresholds_set(int unit, int fifo_type, uint32 count, bcm_fabric_link_threshold_type_t* type, int* value)</a>  </td><td>Set\Get fifo_type thresholds   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga0973435b3f97b4c503171df70cd0c624" title="Set\Get fifo_type thresholds.">bcm_fabric_link_thresholds_get(int unit, int fifo_type, uint32 count, bcm_fabric_link_threshold_type_t* type, int* value)</a>  </td><td>Set\Get fifo_type thresholds   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga472c0fc7403ecdd8d5b10d9a417ad301" title="Set\Get fifo_type thresholds per pipe.">bcm_fabric_link_thresholds_pipe_set(int unit, int fifo_type, bcm_fabric_pipe_t pipe, uint32 flags, uint32 count, bcm_fabric_link_threshold_type_t* type, int* value)</a>  </td><td>Set\Get fifo_type thresholds per pipe   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga4aa1b6d5ed5e8132c745e9f0419c8e0d" title="Set\Get fifo_type thresholds per pipe.">bcm_fabric_link_thresholds_pipe_get(int unit, int fifo_type, bcm_fabric_pipe_t pipe, uint32 flags, uint32 count, bcm_fabric_link_threshold_type_t* type, int* value)</a>  </td><td>Set\Get fifo_type thresholds per pipe   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga9609f6121772fc347553847d96950f5a" title="Attach list of links to a thresholds set (fifo_type) \br Retrieve list of links attached with a thres...">bcm_fabric_link_thresholds_attach(int unit, int fifo_type, uint32 links_count, bcm_port_t* links)</a>  </td><td>Attach list of links to a thresholds set (fifo_type) Retrieve list of links attached with a thresholds set (fifo_type)   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga1f2255488f2d8131c98d2e446a659606" title="Attach list of links to a thresholds set (fifo_type) \br Retrieve list of links attached with a thres...">bcm_fabric_link_thresholds_retrieve(int unit, int fifo_type, uint32 links_count_max, bcm_port_t* links, uint32* links_count)</a>  </td><td>Attach list of links to a thresholds set (fifo_type) Retrieve list of links attached with a thresholds set (fifo_type)   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gacf997d1eadf50f15c3c183f356516b5c" title="Set\Get fabric-link attribute per link. \br.">bcm_fabric_link_control_set(int unit, bcm_port_t link, bcm_fabric_link_control_t type, int arg)</a>  </td><td>Set\Get fabric-link attribute per link.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gabd47d884d66f83f8254f807616bb01fe" title="Set\Get fabric-link attribute per link. \br.">bcm_fabric_link_control_get(int unit, bcm_port_t link, bcm_fabric_link_control_t type, int* arg)</a>  </td><td>Set\Get fabric-link attribute per link.   </td></tr>
</table>
<h1><a class="anchor" id="fabric_redundancy"></a>
Fabric Redundancy</h1>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_fabric_port_failover_set()  </td><td>APS configuration   </td></tr>
<tr>
<td>bcm_fabric_port_failover_get()  </td><td>APS configuration   </td></tr>
<tr>
<td>bcm_fabric_control_redundancy_register()  </td><td>Register/unregister user callback for redundancy state changes.   </td></tr>
</table>
<h1><a class="anchor" id="fabric_multicast"></a>
Fabric Multicast</h1>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_fabric_distribution_create()  </td><td>Create/Destroy Distribution Group.   </td></tr>
<tr>
<td>bcm_fabric_distribution_set()  </td><td>Configure/Retrieve Distribution Group.   </td></tr>
<tr>
<td>bcm_fabric_distribution_control_set()  </td><td>Configure Distribution Group fabric forwarding settings.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga363f55cce767b9bed8e69519183f0348" title="Set the replications of the multicast group in the fabric element.">bcm_fabric_multicast_set(int unit, bcm_multicast_t group, uint32 flags, uint32 destid_count, bcm_module_t* destid_array)</a>  </td><td>Set the replications of the multicast group in the fabric element   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gacbd7483656022d1b648714956266d295" title="Get the replications of the multicast group in the fabric element.">bcm_fabric_multicast_get(int unit, bcm_multicast_t group, uint32 flags, int destid_count_max, int* destid_count, bcm_module_t* destid_array)</a>  </td><td>Get the replications of the multicast group in the fabric element   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga65c09ba8c01b72a0d134de9d28cd35d1" title="Set replications of the multicast groups in the fabric element.">bcm_fabric_multicast_multi_set(int unit, uint32 flags, uint32 ngroups, bcm_multicast_t* groups, bcm_fabric_module_vector_t* dest_array)</a>  </td><td>Set replications of the multicast groups in the fabric element   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaa25a61670d7724a08d95dc619609fd33" title="Get a set of replications of the multicast groups in the fabric element.">bcm_fabric_multicast_multi_get(int unit, uint32 flags, uint32 ngroups, bcm_multicast_t* groups, bcm_fabric_module_vector_t* dest_array)</a>  </td><td>Get a set of replications of the multicast groups in the fabric element   </td></tr>
<tr>
<td>bcm_fabric_calendar_active()  </td><td>Arm TDM calendar   </td></tr>
<tr>
<td>bcm_fabric_calendar_set()  </td><td>Set single calendar entry   </td></tr>
<tr>
<td>bcm_fabric_calendar_get()  </td><td>Get single calendar entry   </td></tr>
<tr>
<td>bcm_fabric_calendar_max_get()  </td><td>Get maximum TDM calendar size that is supported by the device.   </td></tr>
<tr>
<td>bcm_fabric_calendar_multi_set()  </td><td>Set multiple calendar entries   </td></tr>
<tr>
<td>bcm_fabric_calendar_multi_get()  </td><td>Get multiple calendar entries   </td></tr>
<tr>
<td>bcm_fabric_calendar_size_set()  </td><td>Configure TDM calendar size   </td></tr>
<tr>
<td>bcm_fabric_calendar_size_get()  </td><td>Retrieve TDM calendar size   </td></tr>
<tr>
<td>bcm_fabric_connection_bytes_get()  </td><td>Retrieve bytes per connection - bytes sent in a timeslot   </td></tr>
<tr>
<td>bcm_fabric_connection_interval_get()  </td><td>Gets fabric connection interval - timeslot size   </td></tr>
<tr>
<td>bcm_fabric_connection_max_get()  </td><td>Retrieves the number of timeslots in an epoch   </td></tr>
<tr>
<td>bcm_fabric_crossbar_connection_status_get()  </td><td>Retrieves the number of active crossbars between two modules   </td></tr>
<tr>
<td>bcm_fabric_operating_interval_get()  </td><td>Retrieve fabric operating interval - epoch time   </td></tr>
<tr>
<td>bcm_fabric_congestion_size_set()  </td><td>Configures/retrieves the number ports whose status will be present in a congestion message   </td></tr>
<tr>
<td>bcm_fabric_congestion_size_get()  </td><td>Configures/retrieves the number ports whose status will be present in a congestion message   </td></tr>
</table>
<h1><a class="anchor" id="fabric_priority"></a>
Fabric priority configuration</h1>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga642d4fd4e71f7f8168534d29c4c8c493" title="Allow configuration of the fabric cell priority.">bcm_fabric_priority_set(int unit, uint32 flags, bcm_cos_t ingress_pri, bcm_color_t color, int fabric_priority)</a>  </td><td>Allow configuration of the fabric cell priority   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga97ec58d02f20403494a9f013f6eb3efa" title="Getting fabric cell priority configuration.">bcm_fabric_priority_get(int unit, uint32 flags, bcm_cos_t ingress_pri, bcm_color_t color, int* fabric_priority)</a>  </td><td>Getting fabric cell priority configuration.   </td></tr>
</table>
<h1><a class="anchor" id="Topology"></a>
Topology</h1>
<p>To support multicast routing in Indirect-Mode, and to support load balancing and fault tolerance by Reachability Cells Generation, the driver needs to be provided with information on the system topology. One needs to associate with each link, a Link-Reachability-Class (LRC) that captures the set of Modules that are reachable by it, either directly, or via intermediary FE3s. Links with the same LRC are "reachability equivalent". Hence, they require a single fabric multicast copy, and constitute a load-balancing context.</p>
<p><a class="anchor" id="topology_macros"></a> </p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Topology MACROS</caption>
<tr>
<th>Macro </th><th>Description  </th></tr>
<tr>
<td>BCM_FABRIC_GROUP_MODID_SET(id) </td><td>The macro returns an ID representing FAPs group.  </td></tr>
<tr>
<td>BCM_FABRIC_LOCAL_MODID_SET(id) </td><td>The macro returns an ID representing local module.  </td></tr>
<tr>
<td>BCM_FABRIC_MODID_IS_GROUP(modid) </td><td>True if the modid represents a FAPs group  </td></tr>
<tr>
<td>BCM_FABRIC_MODID_IS_LOCAL(modid) </td><td>True if the modid represents a Module local index  </td></tr>
<tr>
<td>BCM_FABRIC_MODID_IS_MODULE(modid) </td><td>True if the modid represents a Module index  </td></tr>
<tr>
<td>BCM_FABRIC_GROUP_MODID_UNSET(id) </td><td>The macro clears group indicator.  </td></tr>
<tr>
<td>BCM_FABRIC_LOCAL_MODID_UNSET(id) </td><td>The macro clears local modid indicator.  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga1d961ef3e29e43879d857429f9b0b9f0" title="Set of Modules belong to a group.">bcm_fabric_modid_group_set(int unit, bcm_module_t group, int modid_count, bcm_module_t* modid_array)</a>  </td><td>Set of Modules belong to a group   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga1b7ad48767363137667e67768f1ccebf" title="Get of Modules belong to a group.">bcm_fabric_modid_group_get(int unit, bcm_module_t group, int modid_max_count, bcm_module_t* modid_array, int* modid_count)</a>  </td><td>Get of Modules belong to a group   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaf847faee819fe284810146e85becc65a" title="Find the relevant group for a given module id.">bcm_fabric_modid_group_find(int unit, bcm_module_t modid, bcm_module_t* group)</a>  </td><td>Find the relevant group for a given module id   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga83720edc378253174757284ad04a4550" title="Mapping\Getting a Module ID to local space.">bcm_fabric_modid_local_mapping_set(int unit, bcm_module_t local_modid, bcm_module_t modid)</a>  </td><td>Mapping\Getting a Module ID to local space   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga8465c9ea3e7d710f48567440a55189d0" title="Mapping\Getting a Module ID to local space.">bcm_fabric_modid_local_mapping_get(int unit, bcm_module_t local_modid, bcm_module_t* modid)</a>  </td><td>Mapping\Getting a Module ID to local space   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gab15ca650c0a81a1c1c946009f5d3f35f" title="Update links topology, set all the links connected to a destination.">bcm_fabric_link_topology_set(int unit, bcm_module_t destination, int links_count, bcm_port_t* links_array)</a>  </td><td>Update links topology, set all the links connected to a destination   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga476b55d9a67feeafa0673ca40637411d" title="Get links topology.">bcm_fabric_link_topology_get(int unit, bcm_module_t destination, int max_links_count, int* links_count, bcm_port_t* links_array)</a>  </td><td>Get links topology.   </td></tr>
</table>
<h1><a class="anchor" id="Status"></a>
Link Status</h1>
<p>Enable retrieving the status of the fabric elements links, connectivity map and reachability map.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#gafaa1e8efc5dfcd0382f75f68dd3770d1" title="Get the status of the link.">bcm_fabric_link_status_get(int unit, bcm_port_t link_id, uint32* link_status, uint32* errored_token_count)</a>  </td><td>Get the status of the link   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gafe5c7fd89b4761ec3be9a650feaa3c05" title="Retrieves the current link-partner information of a link for all existing links.">bcm_fabric_link_connectivity_status_get(int unit, int link_partner_max, bcm_fabric_link_connectivity_t* link_partner_array, int* link_partner_count)</a>  </td><td>Retrieves the current link-partner information of a link for all existing links   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga159198e8dab2dc6ec7ae5f029e76b392" title="Retrieves the current link-partner information of a single link.">bcm_fabric_link_connectivity_status_single_get(int unit, bcm_port_t link_id, bcm_fabric_link_connectivity_t* link_partner_info)</a>  </td><td>Retrieves the current link-partner information of a single link.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga432903e4efd3e67665db9526abedba75" title="Retrieves the links through which a remote module ID is reachable.">bcm_fabric_reachability_status_get(int unit, int moduleid, int links_max, uint32* links_array, int* links_count)</a>  </td><td>Retrieves the links through which a remote module ID is reachable   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gad8618bec9b4e08dc249361adb1090af4" title="Set retrieve fabric bandwidth profile on unit level.">bcm_fabric_bandwidth_profile_set(int unit, int profile_count, bcm_fabric_bandwidth_profile_t* profile_array)</a>  </td><td>Set retrieve fabric bandwidth profile on unit level   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga58f2ae3efbbe3c3c6ec97ba21c3dcf40" title="Set retrieve fabric bandwidth profile on unit level.">bcm_fabric_bandwidth_profile_get(int unit, int profile_count, bcm_fabric_bandwidth_profile_t* profile_array)</a>  </td><td>Set retrieve fabric bandwidth profile on unit level   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gac60b0ce796ad50597547459b72f4a4f0" title="Set retrieve fabric bandwidth profile per core.">bcm_fabric_bandwidth_core_profile_set(int unit, int core, uint32 flags, int profile_count, bcm_fabric_bandwidth_profile_t* profile_array)</a>  </td><td>Set retrieve fabric bandwidth profile per core   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga183dbc907e28ee36839d18064289acd7" title="Set retrieve fabric bandwidth profile per core.">bcm_fabric_bandwidth_core_profile_get(int unit, int core, uint32 flags, int profile_count, bcm_fabric_bandwidth_profile_t* profile_array)</a>  </td><td>Set retrieve fabric bandwidth profile per core   </td></tr>
</table>
<h1><a class="anchor" id="classification"></a>
Fabric classification and manipulation of packets</h1>
<p>Some fabric devices provide the ability to collect packets into categories, and to take specific actions with those packets based upon the category. These categories can be defined based upon metadata (information about a packet, such as ingress or egress interface), header information (such as fields from a HiGig header), or perhaps even bytes of the packet beyond the HiGig or fabric header. Some actions that can be taken will affect how the packet is handled, such as by influencing queue decisions. Some actions can manipulate the contents of the packet or its headers.</p>
<p>Classification is accomplished by way of predicates. Each predicate makes exactly one comparison against a field within a packet, or against a specific metadatum of that packet. The predicates are then combined into a vector, and the resulting vector is mapped to a particular action. This action is the action that will be taken with the packet.</p>
<h2><a class="anchor" id="bit_addressing"></a>
Bit Addressing</h2>
<p>A field within a packet or its header is specified starting with its least significant bit as the offset, and the number of bits in the field. When fields span multiple bytes, they are interpreted in network byte order. For example: to select all of byte 2, the offset would be 16 and the length would be 8; to select the highest bit of byte 1, the offset would be 15 and the length would be 1; to select the lowest bit of byte 4 and the upper nybble of byte 5, the offset is 44 and the length is 5.</p>
<div class="fragment"><div class="line">+----------------+----------------+----------------+----------------+----------------+----------------+...</div><div class="line">|     <span class="keywordtype">byte</span> 0     |     <span class="keywordtype">byte</span> 1     |     <span class="keywordtype">byte</span> 2     |     <span class="keywordtype">byte</span> 3     |     <span class="keywordtype">byte</span> 4     |     <span class="keywordtype">byte</span> 5     |...</div><div class="line">+----------------+----------------+----------------+----------------+----------------+----------------+...</div><div class="line"> 0 0 0 0 0 0 0 0  1 1 1 1 1 1 0 0  2 2 2 2 1 1 1 1  3 3 2 2 2 2 2 2  3 3 3 3 3 3 3 3  4 4 4 4 4 4 4 4  ...</div><div class="line"> 7 6 5 4 3 2 1 0  5 4 3 2 1 0 9 8  3 2 1 0 9 8 7 6  1 0 9 8 7 6 5 4  9 8 7 6 5 4 3 2  7 6 5 4 3 2 1 0  ...</div><div class="line"></div><div class="line">Bit numbering</div></div><!-- fragment --><p>Fields within a packet are specified using the bcm_fabric_action_field_t. This structure includes both the offset and length of the field to select.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__fabric__action__field__s.html#a9fe717faa7d9e17e39e2a6faf969687e">offset</a>;</div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__fabric__action__field__s.html#ac980581eac611ff72becec6a8782bcef">length</a>;</div><div class="line">} <a class="code" href="group__fabric.html#ga50304c9820957b52c94b46932e56845a">bcm_fabric_action_field_t</a>;</div></div><!-- fragment --><h2><a class="anchor" id="predicates"></a>
Fabric Predicates</h2>
<p>Fabric predicates are described with the bcm_fabric_predicate_info_t.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__fabric__predicate__info__s.html">bcm_fabric_predicate_info_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__fabric__predicate__info__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;</div><div class="line">    <a class="code" href="group__fabric.html#ga9e968e106a1012b030e7b6f35ce3ff04">bcm_fabric_predicate_type_t</a> <a class="code" href="structbcm__fabric__predicate__info__s.html#a7036c2ab6623c320aea8c1141a7012c8">source</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__predicate__info__s.html#ae509985060cd02374b46d7d29cc16ff0">field</a>;</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__fabric__predicate__info__s.html#a0be738b5bfc7096ec6dba081a978b471">data</a>;</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__fabric__predicate__info__s.html#a89109651152107e3fbb5351087301408">mask</a>;</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__fabric__predicate__info__s.html#a20f506de82b1005494274754403340f4">range_low</a>;</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__fabric__predicate__info__s.html#a937a33881caba6b6cb2b4fe754fba359">range_high</a>;</div><div class="line">} <a class="code" href="group__fabric.html#ga8a670ba8d82ce938c6a5a852bdfb5ef9">bcm_fabric_predicate_info_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Predicate Info flags</caption>
<tr>
<th>Flag Name </th><th>Description  </th></tr>
<tr>
<td>BCM_FABRIC_PREDICATE_INFO_INGRESS </td><td>Predicate is intended for ingress use  </td></tr>
<tr>
<td>BCM_FABRIC_PREDICATE_INFO_EGRESS </td><td>Predicate is intended for egress use  </td></tr>
<tr>
<td>BCM_FABRIC_PREDICATE_INFO_WITH_ID </td><td>When creating, allows the caller to specify the ID. This flag must be used when replacing.  </td></tr>
<tr>
<td>BCM_FABRIC_PREDICATE_INFO_REPLACE </td><td>Allows caller to replace an existing predicate. Must also specify the WITH_ID flag.  </td></tr>
<tr>
<td>BCM_FABRIC_PREDICATE_INFO_RANGE </td><td>Indicates the predicate is ranged instead of compare-under-mask. Use range_low and range_high fields if this is set, data and mask fields if it is clear.  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Predicate Source Types</caption>
<tr>
<th>Source Type </th><th>Predicate field is taken from...  </th></tr>
<tr>
<td>bcmFabricPredicateTypePacket </td><td>Packet or header contents (offset and length apply)  </td></tr>
<tr>
<td>bcmFabricPredicateTypeSysport </td><td>Sysport ID  </td></tr>
<tr>
<td>bcmFabricPredicateTypeChannel </td><td>Channel ID  </td></tr>
<tr>
<td>bcmFabricPredicateTypeFifo </td><td>FIFO ID  </td></tr>
<tr>
<td>bcmFabricPredicateTypeSubport </td><td>Subport ID  </td></tr>
<tr>
<td>bcmFabricPredicateTypePacketClass </td><td>Packet class (essentially the action ID without the ingress/egress bias applied; only used for statistics indexing)  </td></tr>
<tr>
<td>bcmFabricPredicateTypeFlags </td><td>Several flags describing the packet (Flush, Error, Purged, Aged; only used for statistics indexing)  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#gad4f80bfe6f4695824a6535f1fad4e891" title="Initialize a bcm_fabric_predicate_info_t to a &#39;safe&#39; default value.">bcm_fabric_predicate_info_t_init(int unit, bcm_fabric_predicate_info_t* pred_info)</a>  </td><td>Initialize a bcm_fabric_predicate_info_t to a 'safe' default value.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gabb09116ed8d48031127498faa900884d" title="Creates or replaces a fabric predicate.">bcm_fabric_predicate_create(int unit, bcm_fabric_predicate_info_t* pred_info, bcm_fabric_predicate_t* pred_id)</a>  </td><td>Creates or replaces a fabric predicate   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga06e6f8e16ab786d0e18874b0eb9bb3f5" title="Destroys a fabric predicate.">bcm_fabric_predicate_destroy(int unit, bcm_fabric_predicate_t pred_id)</a>  </td><td>Destroys a fabric predicate   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga513d3f449471d7145bf4e9c78e5581af" title="Destroys all fabric predicates on a unit.">bcm_fabric_predicate_destroy_all(int unit)</a>  </td><td>Destroys all fabric predicates on a unit   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gac499278ca0146d0bd5acd484ed35b596" title="Gets a fabric predicate.">bcm_fabric_predicate_get(int unit, bcm_fabric_predicate_t pred_id, bcm_fabric_predicate_info_t* pred_info)</a>  </td><td>Gets a fabric predicate   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga2ad5dc7f50a5d911d9c44d1d51751452" title="Traverse all of the fabric predicates.">bcm_fabric_predicate_traverse(int unit, bcm_fabric_predicate_traverse_cb cb, void* user_data)</a>  </td><td>Traverse all of the fabric predicates   </td></tr>
</table>
<h2><a class="anchor" id="qsel_offsets"></a>
Fabric qsel_offsets</h2>
<p>A fabric qsel_offset maps from a CoS value to an offset that is added to the base queue, to determine the specific queue into which a packet is placed. This allows for certain features that can be applied per queue to apply to specific CoS levels. A qsel_offset can be referenced either by entries in a qsel, or directly by an action. The number of entries in a qsel_offset is fixed according to the maximum number of CoS levels the host device understands.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Qsel Info Flags</caption>
<tr>
<th>Flag Name </th><th>Description  </th></tr>
<tr>
<td>BCM_FABRIC_QSEL_OFFSET_INGRESS </td><td>Indicates the qsel_offset will be used for ingress  </td></tr>
<tr>
<td>BCM_FABRIC_QSEL_OFFSET_EGRESS </td><td>Indicates the qsel_offset will be used for egress  </td></tr>
<tr>
<td>BCM_FABRIC_QSEL_OFFSET_WITH_ID </td><td>Allows the application to specify the ID for the qsel_offset. Must be used when replacing.  </td></tr>
<tr>
<td>BCM_FABRIC_QSEL_OFFSET_REPLACE </td><td>Allows the application to replace an existing qsel_offset. Must also specify WITH_ID.  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#gacdce677341ed13c11ee5c59965737e4e" title="Create a fabric qsel_offset.">bcm_fabric_qsel_offset_create(int unit, uint32 flags, bcm_fabric_qsel_offset_t* qsel_offset_id)</a>  </td><td>Create a fabric qsel_offset   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga84b904671974d62d5e215bcd119b5c59" title="Destroy a fabric qsel_offset.">bcm_fabric_qsel_offset_destroy(int unit, bcm_fabric_qsel_offset_t qsel_offset_id)</a>  </td><td>Destroy a fabric qsel_offset   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaa4d0f0069b0defa9edc0bba7302daec9" title="Destroy all qsel_offsets on a unit.">bcm_fabric_qsel_offset_destroy_all(int unit)</a>  </td><td>Destroy all qsel_offsets on a unit   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaf672a581c3094f5a74d1d2ddb664ae52" title="Traverse the qsel_offsets on a unit.">bcm_fabric_qsel_offset_traverse(int unit, bcm_fabric_qsel_offset_traverse_cb cb, void* user_data)</a>  </td><td>Traverse the qsel_offsets on a unit   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga4e9fbeab2b6e4348545dc36b23d795a1" title="Set/get an entry in a fabric qsel_offset.">bcm_fabric_qsel_offset_entry_set(int unit, bcm_fabric_qsel_offset_t qsel_offset_id, bcm_cos_t int_pri, int offset)</a>  </td><td>Set/get an entry in a fabric qsel_offset   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga8e6a05aededac13c7ccd449baabf7c3a" title="Set/get an entry in a fabric qsel_offset.">bcm_fabric_qsel_offset_entry_get(int unit, bcm_fabric_qsel_offset_t qsel_offset_id, bcm_cos_t int_pri, int* offset)</a>  </td><td>Set/get an entry in a fabric qsel_offset   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga053440b1777165e818a053916f73f201" title="Traverse the entries of a qsel_offset.">bcm_fabric_qsel_offset_entry_traverse(int unit, bcm_fabric_qsel_offset_t qsel_offset_id, bcm_fabric_qsel_offset_entry_traverse_cb cb, void* user_data)</a>  </td><td>Traverse the entries of a qsel_offset   </td></tr>
</table>
<h2><a class="anchor" id="qsels"></a>
Fabric qsels</h2>
<p>A fabric qsel is a block of elements that maps a queue index to a base queue ID, and to a qsel_offset. Actions can use a qsel as a way to modify some datum that is used as a queue index into an actual base queue. This base queue can be further modified, by the action, according to the packet CoS and the chosen qsel_offset.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Qsel Info Flags</caption>
<tr>
<th>Flag Name </th><th>Description  </th></tr>
<tr>
<td>BCM_FABRIC_QSEL_INGRESS </td><td>The qsel will be used for ingress  </td></tr>
<tr>
<td>BCM_FABRIC_QSEL_EGRESS </td><td>The qsel will be used for egress  </td></tr>
<tr>
<td>BCM_FABRIC_QSEL_WITH_ID </td><td>Allows the application to choose the qsel ID. This must be specified if replacing.  </td></tr>
<tr>
<td>BCM_FABRIC_QSEL_REPLACE </td><td>Allows the application to replace an existing qsel. When replacing, WITH_ID must also be specified.  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga8c6b3b3b3e29f33226c82c01278c7cb2" title="Create a fabric qsel.">bcm_fabric_qsel_create(int unit, uint32 flags, int base, int count, bcm_fabric_qsel_t* qsel_id)</a>  </td><td>Create a fabric qsel   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gabf39a121a6fa4a343eca3074dbd25625" title="Destroy a fabric qsel.">bcm_fabric_qsel_destroy(int unit, bcm_fabric_qsel_t qsel_id)</a>  </td><td>Destroy a fabric qsel   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaba7e0711d83259dbc5e45bd9cfdd26dd" title="Destroy all fabric qsels on a unit.">bcm_fabric_qsel_destroy_all(int unit)</a>  </td><td>Destroy all fabric qsels on a unit   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga8108cb86bff47cbfd37ade586887824e" title="Get information about a particular qsel.">bcm_fabric_qsel_get(int unit, bcm_fabric_qsel_t qsel_id, uint32* flags, int* base, int* count)</a>  </td><td>Get information about a particular qsel   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga6d9ad53ade399814fcb983d9cb1e4ae2" title="Traverse the qsels on a unit.">bcm_fabric_qsel_traverse(int unit, bcm_fabric_qsel_traverse_cb cb, void* user_data)</a>  </td><td>Traverse the qsels on a unit   </td></tr>
</table>
<h2><a class="anchor" id="qsel_entries"></a>
Fabric qsel entries</h2>
<p>Entries within a qsel are indexed by the range over which the qsel was created. Each entry corresponds to a specific index value, and provides both a qsel_offset and a base queue. Normally, the index value that is used will be selected from the packet by an action.</p>
<p>Note that the index must lie between the qsel base and (base + count - 1), according to the values that were specified when the qsel was created.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#gab186b5edeec97f06bf86a1f3f41030d2" title="Set/get the base queue and qsel_offset for a particular index within a qsel.">bcm_fabric_qsel_entry_set(int unit, bcm_fabric_qsel_t qsel_id, int offset, bcm_gport_t queue, bcm_fabric_qsel_offset_t qsel_offset_id)</a>  </td><td>Set/get the base queue and qsel_offset for a particular index within a qsel   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga5fca405929b657a0c1f140ab0ef7a80d" title="Set/get the base queue and qsel_offset for a particular index within a qsel.">bcm_fabric_qsel_entry_get(int unit, bcm_fabric_qsel_t qsel_id, int offset, bcm_gport_t* queue, bcm_fabric_qsel_offset_t* qsel_offset_id)</a>  </td><td>Set/get the base queue and qsel_offset for a particular index within a qsel   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gab8ddb60e92ba5afaf6233b019789fa57" title="Set/get a number of entries within a qsel.">bcm_fabric_qsel_entry_multi_set(int unit, bcm_fabric_qsel_t qsel_id, int offset, int count, bcm_gport_t* queue, bcm_fabric_qsel_offset_t* qsel_offset_id)</a>  </td><td>Set/get a number of entries within a qsel.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gad9a2ddc14781794fd27942c86b2346cd" title="Set/get a number of entries within a qsel.">bcm_fabric_qsel_entry_multi_get(int unit, bcm_fabric_qsel_t qsel_id, int offset, int count, bcm_gport_t* queue, bcm_fabric_qsel_offset_t* qsel_offset_id)</a>  </td><td>Set/get a number of entries within a qsel.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga342e25f111037fe7e84d01e039734552" title="Traverse the valid entries within a qsel.">bcm_fabric_qsel_entry_traverse(int unit, bcm_fabric_qsel_t qsel_id, bcm_fabric_qsel_entry_traverse_cb cb, void* user_data)</a>  </td><td>Traverse the valid entries within a qsel   </td></tr>
</table>
<h2><a class="anchor" id="actions"></a>
Fabric actions</h2>
<p>Fabric actions are described with the bcm_fabric_action_info_t.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__fabric__action__info__s.html">bcm_fabric_action_info_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__fabric__action__info__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a3976813248d56b4116d678530fb77674">queue_field_low</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#aaa39d9ced3e0c2c66ccb186cf3ccbf1d">queue_field_high</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a1cf0788ca1945d19f79c97475ccbbba5">qsel_offset_index_field</a>;</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__fabric__action__info__s.html#a202f6bed0407f393c0107f9475b80cdd">override_dp</a>;</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__fabric__action__info__s.html#ac0d5e45b784396c44763196ed95275a6">override_ecn</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a1c26b08f4352b29207e11ff5c984493b">len_adj_index_field</a>;</div><div class="line">    <a class="code" href="group__fabric.html#gade3af7c713ba05e11f0842e8424d131c">bcm_fabric_action_queue_idx_from_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#aae7cb8e54f0012bcf57efe233019d803">queue_id_source</a>;</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__fabric__action__info__s.html#a28a95b991d00a4aae1198174ed7c5307">queue_index_offset</a>;</div><div class="line">    <a class="code" href="group__fabric.html#ga374b9ff147a4f461867a9000085e13a9">bcm_fabric_qsel_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#ae01a3ee5490b426c87e8f42ec0472153">qsel</a>;</div><div class="line">    <a class="code" href="group__fabric.html#gac50600dc05b12200850ea8cf2a1da7c5">bcm_fabric_qsel_offset_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a3ddf20d21c53688fcdf2021cc7f5a749">qsel_offset</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a84312f52be2e896ecaee32b458b442ad">encap_id_field</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a970acd62bdbd7956e2e8c1fe03c18c9b">queue_id_field</a>;</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__fabric__action__info__s.html#a4533e0bba5d799680db0a56350e55cb0">clear_ehv_bit</a>;</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__fabric__action__info__s.html#a6d38a50cc0d8641d6c28f2356d0ae416">clear_mp_bit</a>;</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__fabric__action__info__s.html#a9f08fb8526ccfcb4567a58e07eec9366">four_byte_remove_offset</a>;</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__fabric__action__info__s.html#a048968b36f8e9eb157376d236fd5cf6e">header_bytes_remove</a>;</div><div class="line">    <a class="code" href="group__fabric.html#ga0b293983eccf0ef8de60e5e5c68e12ed">bcm_fabric_action_insert_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a2abdba36ed8ea428d92b56c8a202ae2e">insert_dest_select</a>;</div><div class="line">    <a class="code" href="group__fabric.html#ga72ae90869812040ea43b76817394a89e">bcm_fabric_stats_segment_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a8f073c81735814d7049fefe74bee58f9">stat0_segment</a>;</div><div class="line">    <a class="code" href="group__fabric.html#ga9e968e106a1012b030e7b6f35ce3ff04">bcm_fabric_predicate_type_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#adff6c3b60696fb3dcdaca75af4fbee10">stat0_field_low_type</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a6a99d440a0a5f60e2740f48df6f814ab">stat0_field_low</a>;</div><div class="line">    <a class="code" href="group__fabric.html#ga9e968e106a1012b030e7b6f35ce3ff04">bcm_fabric_predicate_type_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a5c49265c3662c864917e3bb23f684202">stat0_field_high_type</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a60a6148a58deb04ab317052b74bc1023">stat0_field_high</a>;</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__fabric__action__info__s.html#a69410a25606491a1020b13f31d2951c8">stat0_adjust</a>;</div><div class="line">    <a class="code" href="group__fabric.html#ga72ae90869812040ea43b76817394a89e">bcm_fabric_stats_segment_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a50e329f499dec97fe2dc14009d126832">stat1_segment</a>;</div><div class="line">    <a class="code" href="group__fabric.html#ga9e968e106a1012b030e7b6f35ce3ff04">bcm_fabric_predicate_type_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#afa57df1e0a0ba26ad41b0125d2e55f4b">stat1_field_low_type</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a85eaf04ebfa7b0e781b64199a8490736">stat1_field_low</a>;</div><div class="line">    <a class="code" href="group__fabric.html#ga9e968e106a1012b030e7b6f35ce3ff04">bcm_fabric_predicate_type_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a729eb7caa4fa098e0898c83a35d5e7c9">stat1_field_high_type</a>;</div><div class="line">    <a class="code" href="structbcm__fabric__action__field__s.html">bcm_fabric_action_field_t</a> <a class="code" href="structbcm__fabric__action__info__s.html#a21c4c881079d69cebbdafe4f5051257c">stat1_field_high</a>;</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__fabric__action__info__s.html#a04c6d9a5b6177d234fb43770d77f14a8">stat1_adjust</a>;</div><div class="line">} <a class="code" href="group__fabric.html#gad6ca8a1ca73896ce566d02d2e8e49a72">bcm_fabric_action_info_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Action Info Flags</caption>
<tr>
<th>Flag Name </th><th>Description  </th></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_INGRESS </td><td>Action is intended for ingress use  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_EGRESS </td><td>Action is intended for egress use  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_WITH_ID </td><td>When creating, allows the caller to specify the action ID. This flag must be used when replacing.  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_REPLACE </td><td>Allows caller to replace an existing action. Must also specify the WITH_ID flag.  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_QUEUE_DEFAULT </td><td>Use global default queue instead of deriving one from the packet  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_USE_TAG_OFFSET </td><td>Adjust queue ID by the value in the SBX queue tag extension to the HGX header  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_OVERWRITE_DEST </td><td>Replace bytes 2..3 of header with the queue ID  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_LENGTH_ADJUST </td><td>Apply packet length adjustment  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_CLEAR_TEST_BIT </td><td>Clear the HGX header test bit  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_LOOKUP_ENCAPID </td><td>Use multicast replicator ID to look up encap ID  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_CLEAR_MC_BIT </td><td>Clear the HGX header multicast bit  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_LEN_ADJ_ON_SHAPING </td><td>Apply packet length adjust to shaping  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_LOOKUP_QUEUEID </td><td>Use calculated queue index to look up a queue ID  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_XGS_MODE </td><td>Replace bytes 2..3 of header with the destination module and port, based upon the FIFO into which the packet is to be placed.  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_STAT0_ADJ_PER_PACKET </td><td>Indicates stat0 adjustment is per packet  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_STAT1_ADJ_PER_PACKET </td><td>Indicates stat1 adjustment is per packet  </td></tr>
<tr>
<td>BCM_FABRIC_ACTION_INFO_STAT_COMBINE </td><td>Combines stat0 and stat1 to a single stats index  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Action Queue Index Sources</caption>
<tr>
<th>Source Name </th><th>Queue index is taken from...  </th></tr>
<tr>
<td>bcmFabricActionQueueIdxFromPacket </td><td>A specified field in the packet  </td></tr>
<tr>
<td>bcmFabricActionQueueIdxFromReplicantId </td><td>Multicast replicator ID  </td></tr>
<tr>
<td>bcmFabricActionQueueIdxFromReplicantLookup </td><td>Multicast replicator lookup for EncapId  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Action Insertion Sources</caption>
<tr>
<th>Source Name </th><th>Description  </th></tr>
<tr>
<td>bcmFabricActionInsertRepId16 </td><td>Insert low 16b of multicast replicant ID  </td></tr>
<tr>
<td>bcmFabricActionInsertRepId18 </td><td>Insert low 18b of multicast replicant ID  </td></tr>
<tr>
<td>bcmFabricActionInsertEncapId16 </td><td>Insert low 16b of multicast replicant lookup result  </td></tr>
<tr>
<td>bcmFabricActionInsertEncapId18 </td><td>Insert low 18b of multicast replicant lookup result  </td></tr>
<tr>
<td>bcmFabricActionInsertQueueIndex16 </td><td>Insert low 16b of queue index  </td></tr>
<tr>
<td>bcmFabricActionInsertQueueIndex18 </td><td>Insert low 18b of queue index  </td></tr>
<tr>
<td>bcmFabricActionInsertQueueId16 </td><td>Insert low 16b of queue lookup result  </td></tr>
<tr>
<td>bcmFabricActionInsertQueueId18 </td><td>Insert low 18b of queue lookup result  </td></tr>
</table>
<p>Note that the 18b 'insertions' actually only insert 16b, and they overwrite the low two bits of the byte immediately prior to the insertion. If inserting something that is shorter than the chosen insertion length, it will be zero padded to fill.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga092ff63704a15e3c12bfe4919e41c8be" title="Set default values to a bcm_fabric_action_info_t.">bcm_fabric_action_info_t_init(int unit, bcm_fabric_action_info_t* action_info)</a>  </td><td>Set default values to a bcm_fabric_action_info_t.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga29f6fe50a3928ca10ced7917be06f8ed" title="Create or replace a fabric action.">bcm_fabric_action_create(int unit, bcm_fabric_action_info_t* action_info, bcm_fabric_action_t* action_id)</a>  </td><td>Create or replace a fabric action   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga5f2ced164d20136444588fb5caddaaac" title="Destroy a fabric action.">bcm_fabric_action_destroy(int unit, bcm_fabric_action_t action_id)</a>  </td><td>Destroy a fabric action   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaf4f0119ad40f7a5c9ff44d9fc3413b87" title="Destroy all fabric actions on a unit.">bcm_fabric_action_destroy_all(int unit)</a>  </td><td>Destroy all fabric actions on a unit   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga18e2fca493d78ca6994c9228c690d746" title="Get information about an action.">bcm_fabric_action_get(int unit, bcm_fabric_action_t action_id, bcm_fabric_action_info_t* action_info)</a>  </td><td>Get information about an action   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gacd4cdb7e5793e5d35b5e97927b6aa16b" title="Traverse all of the fabric actions on a unit.">bcm_fabric_action_traverse(int unit, bcm_fabric_action_traverse_cb cb, void* user_data)</a>  </td><td>Traverse all of the fabric actions on a unit   </td></tr>
</table>
<h2><a class="anchor" id="predicate_actions"></a>
Fabric predicate_actions</h2>
<p>Fabric predicates are mapped to fabric actions using fabric predicate_action rules. These rules specify what predicates matter in the decision, what their values must be, and what action will be taken if the predicates are as specified. There are also priorities, which allow for certain optimizations of rules to be performed and overlapping results to have a known result.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__fabric__predicate__action__info__s.html">bcm_fabric_predicate_action_info_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__fabric__predicate__action__info__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__fabric__predicate__action__info__s.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;</div><div class="line">    <a class="code" href="group__fabric.html#gab8823db5beac4190c123df78f3365e50">bcm_fabric_predicate_vector_t</a> <a class="code" href="structbcm__fabric__predicate__action__info__s.html#a50c32d8c21f3d2ba54d5faa2b5c2b19b">data</a>;</div><div class="line">    <a class="code" href="group__fabric.html#gab8823db5beac4190c123df78f3365e50">bcm_fabric_predicate_vector_t</a> <a class="code" href="structbcm__fabric__predicate__action__info__s.html#a4be067cf7d65e34e85d68d1fdd6a88e7">mask</a>;</div><div class="line">    <a class="code" href="group__fabric.html#gab61f66fc6ca98f961e0c03e62188264f">bcm_fabric_action_t</a> <a class="code" href="structbcm__fabric__predicate__action__info__s.html#a67db98e49909b8528f7ce75fe8678e88">action_id</a>;</div><div class="line">} <a class="code" href="group__fabric.html#ga4544ae973ea1dc9216448cb1856898cb">bcm_fabric_predicate_action_info_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Action Info Flags</caption>
<tr>
<th>Flag Name </th><th>Description  </th></tr>
<tr>
<td>BCM_FABRIC_PREDICATE_ACTION_INFO_INGRESS </td><td>Indicates the predicate_action rule is intended for ingress use  </td></tr>
<tr>
<td>BCM_FABRIC_PREDICATE_ACTION_INFO_EGRESS </td><td>Indicates the predicate_action rule is intended for egress use  </td></tr>
<tr>
<td>BCM_FABRIC_PREDICATE_ACTION_INFO_WITH_ID </td><td>Allows the application to specify ID when creating. Must be used when replacing.  </td></tr>
<tr>
<td>BCM_FABRIC_PREDICATE_ACTION_INFO_REPLACE </td><td>Allows an existing predicate_action rule to be replaced. Must also specify the WITH_ID flag.  </td></tr>
</table>
<p>Since predicates map into a bit vector, and the predicate_action rule specifies which predicates are important, as well as what their specific values must be, several macros are provided. These macros allow the state of a particular predicate to be checked, set, or unset. Each predicate ID is mapped by these macros to a particular bit in the vector. For the mask, a predicate's state matters if its corresponding bit is SET; it is ignored if its corresponding state is CLEAR. For the data, a predicate must resolve to TRUE if its corresponding bit is SET; the predicate must resolve to FALSE if its corresponding bit is CLEAR. It causes an impossible condition if the mask has a predicate CLEAR, but the data has it SET; the rule will never be matched in this case.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define BCM_FABRIC_PREDICATE_VECTOR_GET(_vec, _n)  SHR_BITGET((_vec), (_n))</span></div><div class="line"><span class="preprocessor">#define BCM_FABRIC_PREDICATE_VECTOR_SET(_vec, _n)  SHR_BITSET((_vec), (_n))</span></div><div class="line"><span class="preprocessor">#define BCM_FABRIC_PREDICATE_VECTOR_CLR(_vec, _n)  SHR_BITCLR((_vec), (_n))</span></div></div><!-- fragment --><table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaf12d961a46fc9caf8b43c7505aeaa37e" title="Set up default values for a bcm_fabric_predicate_action_info_t.">bcm_fabric_predicate_action_info_t_init(int unit, bcm_fabric_predicate_action_info_t* predicate_action_info)</a>  </td><td>Set up default values for a bcm_fabric_predicate_action_info_t   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga9af8085b74312bb2f13706c0b2cbebb8" title="Create or replace a fabric predicate_action rule.">bcm_fabric_predicate_action_create(int unit, bcm_fabric_predicate_action_info_t* predicate_action, bcm_fabric_predicate_action_t* predicate_action_id)</a>  </td><td>Create or replace a fabric predicate_action rule.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gabef9b237a93dd0f867f02be31e9d3585" title="Destroy a fabric predicate_action rule.">bcm_fabric_predicate_action_destroy(int unit, bcm_fabric_predicate_action_t predicate_action_id)</a>  </td><td>Destroy a fabric predicate_action rule   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaa4bbbcc337c32807358f629f8f0815bc" title="Destroy all predicate_action rules on a unit.">bcm_fabric_predicate_action_destroy_all(int unit)</a>  </td><td>Destroy all predicate_action rules on a unit   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gad6f10ca304106a6cc6b2839ea57dc01a" title="Traverse the fabric predicate_action rules on a unit.">bcm_fabric_predicate_action_traverse(int unit, bcm_fabric_predicate_action_traverse_cb cb, void* user_data)</a>  </td><td>Traverse the fabric predicate_action rules on a unit   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gae81fa6086515d4f9e6113561a467ad4d" title="Initialize bcm_fabric_tdm_editing_t to a &#39;safe&#39; default value.">bcm_fabric_tdm_editing_t_init(bcm_fabric_tdm_editing_t* editing)</a>  </td><td>Initialize bcm_fabric_tdm_editing_t to a 'safe' default value.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga02a365a6221c5304ba28dd8cc6b8463d" title="TDM configuration.">bcm_fabric_tdm_editing_set(int unit, bcm_gport_t gport, bcm_fabric_tdm_editing_t* editing)</a>  </td><td>TDM configuration   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga04cda1844f7b9cf1a63923927bdb0535" title="TDM configuration.">bcm_fabric_tdm_editing_get(int unit, bcm_gport_t gport, bcm_fabric_tdm_editing_t* editing)</a>  </td><td>TDM configuration   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaf76d0824e5bbc00783a30e6c93d7b6c4" title="TDM routing configuration.">bcm_fabric_tdm_direct_routing_set(int unit, bcm_gport_t gport, bcm_fabric_tdm_direct_routing_t* routing_info)</a>  </td><td>TDM routing configuration   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gad3240be92f04fbb81016f5d3c3d0c4ee" title="TDM routing configuration.">bcm_fabric_tdm_direct_routing_get(int unit, bcm_gport_t gport, bcm_fabric_tdm_direct_routing_t* routing_info)</a>  </td><td>TDM routing configuration   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga0cc6a13f69c72fee34f5b054dd79964b" title="Set discard aging configuration. Configuration to enable, disable aging and its settings.">bcm_fabric_config_discard_set(int unit, bcm_fabric_config_discard_t* discard)</a>  </td><td>Set discard aging configuration. Configuration to enable, disable aging and its settings.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gae8f7068d15b017276a467ff668c8a5f1" title="Set discard aging configuration. Configuration to enable, disable aging and its settings.">bcm_fabric_config_discard_get(int unit, bcm_fabric_config_discard_t* discard)</a>  </td><td>Set discard aging configuration. Configuration to enable, disable aging and its settings.   </td></tr>
</table>
<h2><a class="anchor" id="fabric_route"></a>
Fabric route</h2>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#gafc25149753215b727068768ee59337cc" title="Send fabric route cells.">bcm_fabric_route_tx(int unit, uint32 flags, bcm_fabric_route_t* route, uint32 data_in_size, uint32* data_in)</a>  </td><td>Send fabric route cells   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaa223f94af2fcd97f894e7925f9d0f214" title="Receive fabric route cells.">bcm_fabric_route_rx(int unit, uint32 flags, uint32 data_out_max_size, uint32* data_out, uint32* data_out_size)</a>  </td><td>Receive fabric route cells   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga6ccc3c5e9a1f936ca19fc2586a799eaf" title="Initialize a bcm_fabric_route_t to a &#39;safe&#39; default value.">bcm_fabric_route_t_init(bcm_fabric_route_t* fabric_route)</a>  </td><td>Initialize a bcm_fabric_route_t to a 'safe' default value.   </td></tr>
</table>
<h2><a class="anchor" id="fabric_pipe_mapping"></a>
Fabric Pipe Mapping</h2>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga25b191b0b6818e73ec4e9be5d4f90ed9" title="Set/get per link the mapping between the local pipe to the remote pipe.">bcm_fabric_link_remote_pipe_mapping_set(int unit, bcm_port_t port, bcm_fabric_link_remote_pipe_mapping_t* mapping_config)</a>  </td><td>Set/get per link the mapping between the local pipe to the remote pipe.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga1db2a9254e48542352bf86ca77117a20" title="Set/get per link the mapping between the local pipe to the remote pipe.">bcm_fabric_link_remote_pipe_mapping_get(int unit, bcm_port_t port, bcm_fabric_link_remote_pipe_mapping_t* mapping_config)</a>  </td><td>Set/get per link the mapping between the local pipe to the remote pipe.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga618e316d5f616d38237adf4ec3d5504c" title="Initialize a bcm_fabric_link_remote_pipe_mapping_t to a &#39;safe&#39; default value.">bcm_fabric_link_remote_pipe_mapping_t_init(bcm_fabric_link_remote_pipe_mapping_t* pipe_mapping)</a>  </td><td>Initialize a bcm_fabric_link_remote_pipe_mapping_t to a 'safe' default value.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga630aabaf6cff94cfdd43a1f8097d9f93" title="Set/Get PCP mode per VOQ/destination device.">bcm_fabric_pcp_dest_mode_config_set(int unit, uint32 flags, bcm_module_t modid, bcm_fabric_pcp_mode_config_t* pcp_config)</a>  </td><td>Set/Get PCP mode per VOQ/destination device.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga404ddb3c43523d51b57b9e44cc17cc3f" title="Set/Get PCP mode per VOQ/destination device.">bcm_fabric_pcp_dest_mode_config_get(int unit, uint32 flags, bcm_module_t modid, bcm_fabric_pcp_mode_config_t* pcp_config)</a>  </td><td>Set/Get PCP mode per VOQ/destination device.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga9607308ea46a0af7d2733ebcd6a08e4f" title="Configure minimum number of links per destination device.">bcm_fabric_destination_link_min_set(int unit, uint32 flags, bcm_module_t module_id, int num_of_links)</a>  </td><td>Configure minimum number of links per destination device.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga519e5d75726152430ca0f2b52fc05973" title="Configure minimum number of links per destination device.">bcm_fabric_destination_link_min_get(int unit, uint32 flags, bcm_module_t module_id, int* num_of_links)</a>  </td><td>Configure minimum number of links per destination device.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga04eda62dc054b2844deb6dc1b98969df" title="configure RCI related information">bcm_fabric_rci_config_set(int unit, bcm_fabric_rci_config_t rci_config)</a>  </td><td>configure RCI related information   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gabfc4ddb6fb7562de4248c745ff8102bf" title="configure RCI related information">bcm_fabric_rci_config_get(int unit, bcm_fabric_rci_config_t* rci_config)</a>  </td><td>configure RCI related information   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga9dfd40657083dfa7440e65aa00bdde8e" title="Initialize a bcm_fabric_rci_config_t to a &#39;safe&#39; default value.">bcm_fabric_rci_config_t_init(bcm_fabric_rci_config_t* rci_config)</a>  </td><td>Initialize a bcm_fabric_rci_config_t to a 'safe' default value.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaae8410708c1e6b4ba9dc5285c9283703" title="Per module configuration.">bcm_fabric_module_control_set(int unit, uint32 flags, bcm_module_t modid, bcm_fabric_module_control_t control, int value)</a>  </td><td>Per module configuration   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gaa59e905229ef6a75abb151928556ac4d" title="Per module configuration.">bcm_fabric_module_control_get(int unit, uint32 flags, bcm_module_t modid, bcm_fabric_module_control_t control, int* value)</a>  </td><td>Per module configuration   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#gad3afbf7fb88ad85e6494f607130d4e5a" title="Set the replications in the fabric element to external faps.">bcm_fabric_static_replication_set(int unit, bcm_port_t port, uint32 flags, uint32 destid_count, bcm_module_t* destid_array)</a>  </td><td>Set the replications in the fabric element to external faps   </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_fabric_threshold_type_t</caption>
<tr>
<th>Source Name </th><th>Queue index is taken from...  </th></tr>
<tr>
<td>bcmFabricMidTagDropClassTh </td><td>Ingress Admission Thresholds  </td></tr>
<tr>
<td>bcmFabricTxLinkLoadDropPipeTh  </td></tr>
<tr>
<td>bcmFabricTxFragGuaranteedPipeTh  </td></tr>
<tr>
<td>bcmFabricSharedDropClassTh  </td></tr>
<tr>
<td>bcmFabricSharedMcCopiesDropPrioTh  </td></tr>
<tr>
<td>bcmFabricMidFragDropClassTh  </td></tr>
<tr>
<td>bcmFabricSharedBankMcDropPrioTh </td><td>DTL Admission Thresholds  </td></tr>
<tr>
<td>bcmFabricTxTagDropClassTh  </td></tr>
<tr>
<td>bcmFabricTxFragDropClassTh  </td></tr>
<tr>
<td>bcmFabricTxTagGciPipeTh </td><td>GCI Generation  </td></tr>
<tr>
<td>bcmFabricTxFragGciPipeTh  </td></tr>
<tr>
<td>bcmFabricMidTagGciPipeTh  </td></tr>
<tr>
<td>bcmFabricMidFragGciPipeTh  </td></tr>
<tr>
<td>bcmFabricSharedGciPipeTh  </td></tr>
<tr>
<td>bcmFabricSharedFragCopiesGciPipeTh  </td></tr>
<tr>
<td>bcmFabricTxFragGuaranteedRciPipeTh </td><td>RCI Generation  </td></tr>
<tr>
<td>bcmFabricTxLinkLoadRciPipeTh  </td></tr>
<tr>
<td>bcmFabricTxTagRciPipeTh  </td></tr>
<tr>
<td>bcmFabricTxFragRciPipeTh  </td></tr>
<tr>
<td>bcmFabricMidTagRciPipeTh  </td></tr>
<tr>
<td>bcmFabricMidFragRciPipeTh  </td></tr>
<tr>
<td>bcmFabricSharedRciPipeTh  </td></tr>
<tr>
<td>bcmFabricMidMcCopiesFcPrioTh </td><td>FC Generation  </td></tr>
<tr>
<td>bcmFabricMidTagFcPipeTh  </td></tr>
<tr>
<td>bcmFabricMidFragFcPipeTh  </td></tr>
<tr>
<td>bcmFabricSharedFcPipeTh  </td></tr>
<tr>
<td>bcmFabricTxTagFcPipeTh  </td></tr>
<tr>
<td>bcmFabricTxFragFcPipeTh  </td></tr>
<tr>
<td>bcmFabricMidMaskFcPipeTh  </td></tr>
<tr>
<td>bcmFabricTxFE1BypassLLFCFcPipeTh  </td></tr>
<tr>
<td>bcmFabricTxFifoSizePipeTh </td><td>FIFO Sizes  </td></tr>
<tr>
<td>bcmFabricMidFifoSizePipeTh  </td></tr>
<tr>
<td>bcmFabricRxFragDropPipeTh </td><td>DCH Legacy Thresholds  </td></tr>
<tr>
<td>bcmFabricRxFragGciPipeTh  </td></tr>
<tr>
<td>bcmFabricRxLLFCFcPipeTh  </td></tr>
<tr>
<td>bcmFabricRxFifoSizePipeTh  </td></tr>
<tr>
<td>bcmFabricRxWfqDynamicWeightPipeTh </td><td>Dynamic weights  </td></tr>
<tr>
<td>bcmFabricMidWfqDynamicWeightPipeTh  </td></tr>
<tr>
<td>bcmFabricTxWfqDynamicWeightPipeTh  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga1b406fbfc63afcaafd59483ada6e8092" title="Configure all fabric flow control and drop thresholds.">bcm_fabric_profile_threshold_set(int unit, int profile_id, bcm_fabric_threshold_id_t threshold_id, bcm_fabric_threshold_type_t threshold_type, uint32 flags, int value)</a>  </td><td>Configure all fabric flow control and drop thresholds.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga8553e87379086cdb6c708244601d29d7" title="Configure all fabric flow control and drop thresholds.">bcm_fabric_profile_threshold_get(int unit, int profile_id, bcm_fabric_threshold_id_t threshold_id, bcm_fabric_threshold_type_t threshold_type, uint32 flags, int* value)</a>  </td><td>Configure all fabric flow control and drop thresholds.   </td></tr>
</table>
<p><a class="anchor" id="bcm_fabric_cast_e"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Types of casts</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>FabricCastUC </td><td>Unicast  </td></tr>
<tr>
<td>FabricCastMC </td><td>Multicast  </td></tr>
<tr>
<td>FabricCastAll </td><td>both Unicast and Multicast  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_fabric_cgm_control_type_t</caption>
<tr>
<th>Source Name </th><th>Fabric CGM controls types  </th></tr>
<tr>
<td>bcmFabricCgmRciLinkPipeLevelTh </td><td>RCI controls  </td></tr>
<tr>
<td>bcmFabricCgmRciEgressPipeLevelTh  </td></tr>
<tr>
<td>bcmFabricCgmRciTotalEgressPipeLevelTh  </td></tr>
<tr>
<td>bcmFabricCgmRciLocalLevelTh  </td></tr>
<tr>
<td>bcmFabricCgmRciTotalLocalLevelTh  </td></tr>
<tr>
<td>bcmFabricCgmRciLinkLevelFactor  </td></tr>
<tr>
<td>bcmFabricCgmRciEgressLevelFactor  </td></tr>
<tr>
<td>bcmFabricCgmRciHighSeverityMinLinksParam  </td></tr>
<tr>
<td>bcmFabricCgmRciHighSeverityFactor  </td></tr>
<tr>
<td>bcmFabricCgmRciCoreLevelMappingTh  </td></tr>
<tr>
<td>bcmFabricCgmRciDeviceLevelMappingTh  </td></tr>
<tr>
<td>bcmFabricCgmGciLeakyBucketEn </td><td>GCI controls  </td></tr>
<tr>
<td>bcmFabricCgmGciLeakyBucketSizeLeakyBucketTh  </td></tr>
<tr>
<td>bcmFabricCgmGciLeakyBucketFCLeakyBucketTh  </td></tr>
<tr>
<td>bcmFabricCgmGciBackoffEn  </td></tr>
<tr>
<td>bcmFabricCgmGciBackoffLevelTh  </td></tr>
<tr>
<td>bcmFabricCgmSlowStartEn </td><td>Slow Start controls  </td></tr>
<tr>
<td>bcmFabricCgmSlowStartRateShaperPhaseParam  </td></tr>
<tr>
<td>bcmFabricCgmLlfcPipeTh </td><td>Flow Control controls  </td></tr>
<tr>
<td>bcmFabricCgmDropFabricClassTh  </td></tr>
<tr>
<td>bcmFabricCgmDropMeshMcPriorityTh  </td></tr>
<tr>
<td>bcmFabricCgmFcIngressTh  </td></tr>
<tr>
<td>bcmFabricCgmEgressDynamicWfqTh </td><td>Dynamic WFQ controls  </td></tr>
</table>
<p><a class="anchor" id="bcm_fabric_level_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_fabric_level_t</caption>
<tr>
<th>enum </th><th>Description  </th></tr>
<tr>
<td>bcmFabricLevelAll </td><td>All Levels  </td></tr>
<tr>
<td>bcmFabricLevel0 </td><td>Level 0  </td></tr>
<tr>
<td>bcmFabricLevel1 </td><td>Level 1  </td></tr>
<tr>
<td>bcmFabricLevel2 </td><td>Level 2  </td></tr>
<tr>
<td>bcmFabricLevel3 </td><td>Level 3  </td></tr>
<tr>
<td>bcmFabricLevel4 </td><td>Level 4  </td></tr>
<tr>
<td>bcmFabricLevel5 </td><td>Level 5  </td></tr>
<tr>
<td>bcmFabricLevel6 </td><td>Level 6  </td></tr>
</table>
<p><a class="anchor" id="bcm_fabric_leaky_bucket_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_fabric_leaky_bucket_t</caption>
<tr>
<th>enum </th><th>Description  </th></tr>
<tr>
<td>bcmFabricLeakyBucketAll </td><td>All Leaky Buckets  </td></tr>
<tr>
<td>bcmFabricLeakyBucket0 </td><td>Leaky Bucket 0  </td></tr>
<tr>
<td>bcmFabricLeakyBucket1 </td><td>Leaky Bucket 1  </td></tr>
<tr>
<td>bcmFabricLeakyBucket2 </td><td>Leaky Bucket 2  </td></tr>
<tr>
<td>bcmFabricLeakyBucket3 </td><td>Leaky Bucket 3  </td></tr>
<tr>
<td>bcmFabricLeakyBucketNof </td><td>Number of Leaky Buckets  </td></tr>
</table>
<p><a class="anchor" id="bcm_fabric_backoff_timer_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_fabric_backoff_timer_t</caption>
<tr>
<th>enum </th><th>Description  </th></tr>
<tr>
<td>bcmFabricBackoffTimerAll </td><td>All Backoff Timers  </td></tr>
<tr>
<td>bcmFabricBackoffTimer0 </td><td>Backoff Timer 0  </td></tr>
<tr>
<td>bcmFabricBackoffTimer1 </td><td>Backoff Timer 1  </td></tr>
<tr>
<td>bcmFabricBackoffTimer2 </td><td>Backoff Timer 2  </td></tr>
<tr>
<td>bcmFabricBackoffTimerNof </td><td>Number of Backoff Timers  </td></tr>
</table>
<p><a class="anchor" id="bcm_fabric_phase_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_fabric_phase_t</caption>
<tr>
<th>enum </th><th>Description  </th></tr>
<tr>
<td>bcmFabricPhaseAll </td><td>All Phases  </td></tr>
<tr>
<td>bcmFabricPhase0 </td><td>Phase 0  </td></tr>
<tr>
<td>bcmFabricPhase1 </td><td>Phase 1  </td></tr>
<tr>
<td>bcmFabricPhaseNof </td><td>Number of Phases  </td></tr>
</table>
<p><a class="anchor" id="bcm_fabric_mc_shaper_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_fabric_mc_shaper_t</caption>
<tr>
<th>enum </th><th>Description  </th></tr>
<tr>
<td>bcmFabricMCShaperAll </td><td>All FMC Shapers  </td></tr>
<tr>
<td>bcmFabricMCShaperGfmc </td><td>FMC-HP Shaper  </td></tr>
<tr>
<td>bcmFabricMCShaperBfmc </td><td>FMC-LP Shaper  </td></tr>
<tr>
<td>bcmFabricMCShaperTotalFmc </td><td>FMC-Total Shaper  </td></tr>
<tr>
<td>bcmFabricMCShaperNof </td><td>Number of FMC Shapers  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga4d1505beff559110b0b123d057b76715" title="Configure Fabric CGM.">bcm_fabric_cgm_control_set(int unit, uint32 flags, bcm_fabric_cgm_control_type_t control_type, bcm_fabric_cgm_control_id_t control_id, int value)</a>  </td><td>Configure Fabric CGM.   </td></tr>
<tr>
<td><a class="el" href="group__fabric.html#ga42ad98e5bb9ae47a053afc5a9c570c61" title="Configure Fabric CGM.">bcm_fabric_cgm_control_get(int unit, uint32 flags, bcm_fabric_cgm_control_type_t control_type, bcm_fabric_cgm_control_id_t control_id, int* value)</a>  </td><td>Configure Fabric CGM.   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2019 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
