<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: /projects/ntsw_sw18_scratch/sdkrel/regress/sdk-6.5.18/src/sdk.doc/include/sal/core/time.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_92568cd84f7c359f268457a0ce9b5fcb.html">sal</a></li><li class="navelem"><a class="el" href="dir_c1b592f9d9d3663f3d0a4dadcfd07212.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">time.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="sal_2core_2time_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * $Id: time.h,v 1.7 Broadcom SDK $</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * $Copyright: (c) 2019 Broadcom.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Broadcom Proprietary and Confidential. All rights reserved.$</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * File:     time.h</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Purpose:     SAL time definitions</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Microsecond Time Routines</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *  The main clock abstraction is sal_usecs_t, an unsigned 32-bit</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *  counter that increments every microsecond and wraps around every</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *  4294.967296 seconds (~71.5 minutes)</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#ifndef _SAL_TIME_H</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#define _SAL_TIME_H</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="sal_2types_8h.html">sal/types.h</a>&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * Constants</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#define MILLISECOND_USEC        (1000)</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define SECOND_USEC            (1000000)</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#define MINUTE_USEC            (60 * SECOND_USEC)</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#define HOUR_USEC            (60 * MINUTE_USEC)</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#define SECOND_MSEC            (1000)</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define MINUTE_MSEC            (60 * SECOND_MSEC)</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#define SAL_USECS_TIMESTAMP_ROLLOVER    ((uint32)(0xFFFFFFFF))    </span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="sal_2core_2time_8h.html#a4cfdb5d3ed5d7c8cb2937738bd7a7bf1">   35</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="sal_2core_2time_8h.html#a4cfdb5d3ed5d7c8cb2937738bd7a7bf1">sal_time_t</a>;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="sal_2core_2time_8h.html#abfba33b797826a052cdf6227889c7e87">   36</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="sal_2core_2time_8h.html#abfba33b797826a052cdf6227889c7e87">sal_usecs_t</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sal_2core_2time_8h.html#a2279853696b3a97c3f2ebc49dfebd497">sal_time_usecs_register</a>(<a class="code" href="sal_2core_2time_8h.html#abfba33b797826a052cdf6227889c7e87">sal_usecs_t</a> (*f)(<span class="keywordtype">void</span>));</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sal_2core_2time_8h.html#a5ad33b4cbee1a60aef24da7200c1e1ec">sal_time_register</a>(<a class="code" href="sal_2core_2time_8h.html#a4cfdb5d3ed5d7c8cb2937738bd7a7bf1">sal_time_t</a> (*f)(<span class="keywordtype">void</span>));</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/* Relative time in microseconds modulo 2^32 */</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">extern</span> <a class="code" href="sal_2core_2time_8h.html#abfba33b797826a052cdf6227889c7e87">sal_usecs_t</a> <a class="code" href="sal_2core_2time_8h.html#ad9c8113e98a08da3d1fc6733d76a721c">sal_time_usecs</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/* Absolute time in seconds ala Unix time, interrupt-safe */</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">extern</span> <a class="code" href="sal_2core_2time_8h.html#a4cfdb5d3ed5d7c8cb2937738bd7a7bf1">sal_time_t</a> <a class="code" href="sal_2core_2time_8h.html#a79ef1b80392c52a767b805846125cdd7">sal_time</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#ifdef COMPILER_HAS_DOUBLE</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sal_2core_2time_8h.html#a005de63ed47b00a0cc9a83647c9f517b">sal_time_double_register</a>(<span class="keywordtype">double</span> (*f)(<span class="keywordtype">void</span>));</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * Time since boot in seconds as a double precision value, useful for</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> * benchmarking.  Precision is platform-dependent and may be limited to</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> * scheduler clock period.  On a Mousse it uses the timebase and has a</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> * precision of 80 ns (0.00000008).</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">double</span> <a class="code" href="sal_2core_2time_8h.html#a8c6d27ee0004d8e2683488987f8566a1">sal_time_double</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#define SAL_TIME_DOUBLE() sal_time_double()</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* COMPILER_HAS_DOUBLE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#define SAL_TIME_DOUBLE() sal_time()</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"> * SAL_USECS_SUB</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> *  Subtracts two sal_usecs_t and returns signed integer microseconds.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> *  Can be used as a comparison because it returns:</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> *    integer &lt; 0 if A &lt; B</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> *    integer &gt; 0 if A &gt; B</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> *    integer = 0 if A == B</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> * SAL_USECS_ADD</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> *  Adds usec to time.  Wrap-around is OK as long as the total</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> *  amount added is less than 0x7fffffff.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#define SAL_USECS_SUB(_t2, _t1)        (((int) ((_t2) - (_t1))))</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#define SAL_USECS_ADD(_t, _us)        ((_t) + (_us))</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#endif    </span><span class="comment">/* !_SAL_TIME_H */</span><span class="preprocessor"></span></div><div class="ttc" id="sal_2types_8h_html"><div class="ttname"><a href="sal_2types_8h.html">types.h</a></div></div>
<div class="ttc" id="sal_2core_2time_8h_html_ad9c8113e98a08da3d1fc6733d76a721c"><div class="ttname"><a href="sal_2core_2time_8h.html#ad9c8113e98a08da3d1fc6733d76a721c">sal_time_usecs</a></div><div class="ttdeci">sal_usecs_t sal_time_usecs(void)</div></div>
<div class="ttc" id="sal_2core_2time_8h_html_a005de63ed47b00a0cc9a83647c9f517b"><div class="ttname"><a href="sal_2core_2time_8h.html#a005de63ed47b00a0cc9a83647c9f517b">sal_time_double_register</a></div><div class="ttdeci">void sal_time_double_register(double(*f)(void))</div></div>
<div class="ttc" id="sal_2core_2time_8h_html_a8c6d27ee0004d8e2683488987f8566a1"><div class="ttname"><a href="sal_2core_2time_8h.html#a8c6d27ee0004d8e2683488987f8566a1">sal_time_double</a></div><div class="ttdeci">double sal_time_double(void)</div></div>
<div class="ttc" id="sal_2core_2time_8h_html_a79ef1b80392c52a767b805846125cdd7"><div class="ttname"><a href="sal_2core_2time_8h.html#a79ef1b80392c52a767b805846125cdd7">sal_time</a></div><div class="ttdeci">sal_time_t sal_time(void)</div></div>
<div class="ttc" id="sal_2types_8h_html_a1134b580f8da4de94ca6b1de4d37975e"><div class="ttname"><a href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdef"><b>Definition:</b> <a href="sal_2types_8h_source.html#l00052">types.h:52</a></div></div>
<div class="ttc" id="sal_2core_2time_8h_html_a2279853696b3a97c3f2ebc49dfebd497"><div class="ttname"><a href="sal_2core_2time_8h.html#a2279853696b3a97c3f2ebc49dfebd497">sal_time_usecs_register</a></div><div class="ttdeci">void sal_time_usecs_register(sal_usecs_t(*f)(void))</div></div>
<div class="ttc" id="sal_2core_2time_8h_html_abfba33b797826a052cdf6227889c7e87"><div class="ttname"><a href="sal_2core_2time_8h.html#abfba33b797826a052cdf6227889c7e87">sal_usecs_t</a></div><div class="ttdeci">uint32 sal_usecs_t</div><div class="ttdef"><b>Definition:</b> <a href="sal_2core_2time_8h_source.html#l00036">time.h:36</a></div></div>
<div class="ttc" id="sal_2core_2time_8h_html_a4cfdb5d3ed5d7c8cb2937738bd7a7bf1"><div class="ttname"><a href="sal_2core_2time_8h.html#a4cfdb5d3ed5d7c8cb2937738bd7a7bf1">sal_time_t</a></div><div class="ttdeci">unsigned long sal_time_t</div><div class="ttdef"><b>Definition:</b> <a href="sal_2core_2time_8h_source.html#l00035">time.h:35</a></div></div>
<div class="ttc" id="sal_2core_2time_8h_html_a5ad33b4cbee1a60aef24da7200c1e1ec"><div class="ttname"><a href="sal_2core_2time_8h.html#a5ad33b4cbee1a60aef24da7200c1e1ec">sal_time_register</a></div><div class="ttdeci">void sal_time_register(sal_time_t(*f)(void))</div></div>
</div><!-- fragment --></div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2019 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
