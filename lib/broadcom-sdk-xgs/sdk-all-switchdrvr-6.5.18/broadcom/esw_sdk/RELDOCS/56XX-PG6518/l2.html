<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Layer 2 Address Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Layer 2 Address Management </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The BCM Layer 2 (L2) API allows network application developers to manage layer 2 network forwarding behavior within the BCM56xx series device. In addition to allowing programming of the Address Resolution (ARL) tables, it provides a mechanism for changing in general, the behavior of the ARL controller.</p>
<p>Fundamental to the use of L2 address table entries is a type which is used to communicate the L2 entry to the BCM56xx series device.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l2__addr__s.html">bcm_l2_addr_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>              <a class="code" href="structbcm__l2__addr__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;          <span class="comment">/* BCM_L2_XXX flags */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>              <a class="code" href="structbcm__l2__addr__s.html#a9e558b14122793cfe22e8f340eeeab04">flags2</a>;         <span class="comment">/* BCM_L2_FLAGS2_XXX flags */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>              <a class="code" href="structbcm__l2__addr__s.html#acfd0d85dbeafe03476adad74b3311492">station_flags</a>;  <span class="comment">/* BCM_L2_STATION_xxx flags */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>           <a class="code" href="structbcm__l2__addr__s.html#a741f0f5b72838cbc381590a7b4651d67">mac</a>;            <span class="comment">/* 802.3 MAC address */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>          <a class="code" href="structbcm__l2__addr__s.html#a8119805ca8fb8991d4bbbf72753d4613">vid</a>;            <span class="comment">/* VLAN or VPN identifier */</span></div><div class="line">    <span class="keywordtype">int</span>                 <a class="code" href="structbcm__l2__addr__s.html#a63c89c04d1feae07ca35558055155ffb">port</a>;           <span class="comment">/* Zero-based port number */</span></div><div class="line">    <span class="keywordtype">int</span>                 <a class="code" href="structbcm__l2__addr__s.html#a155cb7de4b01a96865e1adb588488502">modid</a>;          <span class="comment">/* XGS: modid */</span></div><div class="line">    <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a>         <a class="code" href="structbcm__l2__addr__s.html#a732fd210b4a1f9d2ac6ce48f0fa53583">tgid</a>;           <span class="comment">/* Trunk group ID */</span></div><div class="line">    <a class="code" href="group__types.html#gaa0652dab31a18be549ee480c1af58f3a">bcm_cos_t</a>           <a class="code" href="structbcm__l2__addr__s.html#a8c61626756b992dec0bfb3e761d60a91">cos_dst</a>;        <span class="comment">/* CoS based on dst addr */</span></div><div class="line">    <a class="code" href="group__types.html#gaa0652dab31a18be549ee480c1af58f3a">bcm_cos_t</a>           <a class="code" href="structbcm__l2__addr__s.html#a8e5f98acdf6810b8a13e9a51515af977">cos_src</a>;        <span class="comment">/* CoS based on src addr */</span></div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a>     <a class="code" href="structbcm__l2__addr__s.html#a694552a977450cd231e3be6494e09055">l2mc_group</a>;     <span class="comment">/* XGS: index in L2MC table */</span></div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a>     <a class="code" href="structbcm__l2__addr__s.html#a9baaca8792c00d47f17350dafbf3fc87">l3mc_group</a>;     <span class="comment">/* XGS: index in L3_IPMC table. Use it with BCM_L2_FLAGS2_L3_MULTICAST. */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a>            <a class="code" href="structbcm__l2__addr__s.html#abb332a7a074df33554ed9da8218f56b4">egress_if</a>;      <span class="comment">/* XGS: index in Next Hop Tables. Use it with BCM_L2_FLAGS2_ROE_NHI flag */</span></div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a>          <a class="code" href="structbcm__l2__addr__s.html#aa7282a06efbd8af861b035a150d8d349">block_bitmap</a>;   <span class="comment">/* XGS: blocked egress bitmap */</span></div><div class="line">    <span class="keywordtype">int</span>                 <a class="code" href="structbcm__l2__addr__s.html#aaa221327fd0b8c97b3ba82b44af1970d">auth</a>;           <span class="comment">/* Used if auth enabled on port */</span></div><div class="line">    <span class="keywordtype">int</span>                 <a class="code" href="structbcm__l2__addr__s.html#a0242027ec3331f3d5793c42d21b6f4e1">group</a>;          <span class="comment">/* Group number for FP */</span></div><div class="line">    <a class="code" href="group__types.html#ga468a32fdef90b6bf16f73f6be3c7b2f9">bcm_fabric_distribution_t</a> <a class="code" href="structbcm__l2__addr__s.html#a526f3a9bdfce6d4a5605f0c9df5a9504">distribution_class</a>; <span class="comment">/* Fabric Distribution Class. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l2__addr__s.html#a44ceb2b513150ce52da6468f308fbd33">encap_id</a>;                       <span class="comment">/* out logical interface*/</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l2__addr__s.html#a34db4dd0880c97bfc2868b766c36caa2">age_state</a>;                      <span class="comment">/* Age state of the entry */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l2__addr__s.html#ad88714fd31aaffbe3d7ec5ef11953eb4">flow_handle</a>;                 <span class="comment">/* FLOW handle for flex entries. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l2__addr__s.html#ac1476b1566a82dc9cff355cf1469e4eb">flow_option_handle</a>;          <span class="comment">/* FLOW option handle for flex entries. */</span></div><div class="line">    <a class="code" href="structbcm__flow__logical__field__s.html">bcm_flow_logical_field_t</a> <a class="code" href="structbcm__l2__addr__s.html#ab67f880885666a4177abc8610ce96467">logical_fields</a>[BCM_FLOW_MAX_NOF_LOGICAL_FIELDS]; <span class="comment">/* logical fields array for flex entries. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l2__addr__s.html#ae14523a239aee03d12249039a79c876c">num_of_fields</a>;               <span class="comment">/* number of logical fields. */</span></div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__l2__addr__s.html#a64b14bbeaf690af090094675ab884afd">sa_source_filter_pbmp</a>;   <span class="comment">/* Source port filter bitmap for this SA */</span></div><div class="line">    <a class="code" href="group__types.html#ga6f3f948881285ff8a9d37100fcde4a78">bcm_tsn_flowset_t</a> <a class="code" href="structbcm__l2__addr__s.html#a9c89798aa6efbdf8e90aff96a824f4be">tsn_flowset</a>;      <span class="comment">/* Time-Sensitive Networking: associated flow set */</span></div><div class="line">    <a class="code" href="group__types.html#ga320eff26289c6cb892d567282208acc7">bcm_tsn_sr_flowset_t</a> <a class="code" href="structbcm__l2__addr__s.html#a48f8d4689dbedd8c3cb6d9b51c5153f4">sr_flowset</a>;    <span class="comment">/* Seamless Redundancy: associated flow set */</span></div><div class="line">    <a class="code" href="group__types.html#ga252d53447d82acf3fb573f1918e7f251">bcm_policer_t</a> <a class="code" href="structbcm__l2__addr__s.html#a143d6b42473f4c7f524f7980b2f02ee3">policer_id</a>;           <span class="comment">/* Base policer to be used */</span></div><div class="line">    <a class="code" href="group__types.html#ga96a8a080671cc796ca3e5456b5ddc2e9">bcm_tsn_pri_map_t</a> <a class="code" href="structbcm__l2__addr__s.html#a4bfbb21035b5dfcf7e88a79594b7c14a">taf_gate_primap</a>,  <span class="comment">/*  TAF (Time Aware Filtering) gate priority mapping. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l2__addr__s.html#a1d9cec84dc3f8dfdc08564fc3be34a50">stat_id</a>;                     <span class="comment">/* Object statistics ID */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l2__addr__s.html#abe2aabf6e50c105312162baf807eba95">stat_pp_profile</a>;                <span class="comment">/* Statistics profile */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__l2__addr__s.html#a516591995a8b442d2c19529a9ad50aef">gbp_src_id</a>;                  <span class="comment">/* GBP Source ID */</span></div><div class="line">} <a class="code" href="group__l2.html#gafbf1dd98d7ccc47b1d3cecb26dae1a94">bcm_l2_addr_t</a>;</div></div><!-- fragment --><p>In other API routines, either a MAC address (bcm_mac_t) and /or VLAN ID (bcm_vlan_t) are used for manipulation of the address table.</p>
<p>When creating a new L2 entry (bcm_l2_addr_t ), use the <a class="el" href="group__l2.html#ga4b480c95cb5e74e0b60eabcd7482f7c3" title="Initialize an L2 address structure to a specified MAC address and VLAN ID.">bcm_l2_addr_t_init()</a> routine. This sets up a new L2 entry with the user-provided MAC address and VLAN identifier. The vid field (bcm_vlan_t) in bcm_l2_addr_t can either be the standard 12-bit VLAN identifier or a VPN identifier (when vid is greater than 4095). A VPN identifier is typically passed when adding MAC addresses for VPLS form of bridging. The port field in bcm_l2_addr_t can either be a physical port or a GPORT. When it is a GPORT, it can either be an MPLS gport (for VPLS) or any other supported GPORT type.</p>
<p>The flags field in the structure is the logical OR of the flags listed in Table BCM Layer 2 Flags. The station_flags field in the structure is the logical OR of the flags listed in Table BCM L2 Station Flags. See the section pertaining to the ARL in the relevant Register Reference Guide for the exact semantics for these flags.</p>
<p><a class="anchor" id="l2_bcm_l2_flags"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>BCM Layer 2 Flags</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_L2_COS_SRC_PRI </td><td>Source CoS has priority over destination CoS  </td></tr>
<tr>
<td>BCM_L2_DISCARD_SRC </td><td>Discard on source  </td></tr>
<tr>
<td>BCM_L2_DISCARD_DST </td><td>Discard on destination  </td></tr>
<tr>
<td>BCM_L2_COPY_TO_CPU </td><td>Send a copy to CPU  </td></tr>
<tr>
<td>BCM_L2_L3LOOKUP </td><td>L3 interface MAC address  </td></tr>
<tr>
<td>BCM_L2_STATIC </td><td>Static entry (non-aged)  </td></tr>
<tr>
<td>BCM_L2_HIT </td><td>The switch recorded a hit for this entry  </td></tr>
<tr>
<td>BCM_L2_TRUNK_MEMBER </td><td>Also a member of a trunk group  </td></tr>
<tr>
<td>BCM_L2_MCAST </td><td>Indicates l2mc_group is valid  </td></tr>
<tr>
<td>BCM_L2_REPLACE_DYNAMIC </td><td>Replace a dynamic L2 entry when table is full  </td></tr>
<tr>
<td>BCM_L2_SRC_HIT </td><td>Entry registered a source address hit  </td></tr>
<tr>
<td>BCM_L2_DES_HIT </td><td>Entry registered a destination address hit  </td></tr>
<tr>
<td>BCM_L2_REMOTE_TRUNK </td><td>Source address learned from trunk port  </td></tr>
<tr>
<td>BCM_L2_MIRROR </td><td>Perform MAC-based egress mirroring  </td></tr>
<tr>
<td>BCM_L2_SETPRI </td><td>Set internal priority from prio field  </td></tr>
<tr>
<td>BCM_L2_REMOTE_LOOKUP </td><td>Request lookup on remote unit in stack  </td></tr>
<tr>
<td>BCM_L2_PENDING </td><td>Pending entry (see also <a class="el" href="group__port.html#bcm_port_learn_set">bcm_port_learn_set</a>)  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_EXEMPT </td><td>Exclude the entry from MAC learning count  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_EXEMPT_LOCAL </td><td>Only system wide MAC limit counter will be incremented when a L2 entry is added with this flag  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT </td><td>Include static entry into MAC learning count  </td></tr>
<tr>
<td>BCM_L2_USE_FABRIC_DISTRIBUTION </td><td>Use the specified fabric distribution class  </td></tr>
<tr>
<td>BCM_L2_TRAVERSE_MATCH_STATIC </td><td>Match L2 static entries only, if not present match dynamic entries together with all other entries  </td></tr>
<tr>
<td>BCM_L2_TRAVERSE_MATCH_MAC </td><td>Match L2 entries with given MAC address  </td></tr>
<tr>
<td>BCM_L2_TRAVERSE_MATCH_VLAN </td><td>Match L2 entries with given VLAN ID  </td></tr>
<tr>
<td>BCM_L2_TRAVERSE_MATCH_DEST </td><td>Match L2 entries with given modid port/tgid  </td></tr>
<tr>
<td>BCM_L2_TRAVERSE_MATCH_SA_DISCARD </td><td>Match L2 entries with given SA-discard in match_addr  </td></tr>
<tr>
<td>BCM_L2_ENTRY_OVERFLOW </td><td>Indicate to the application that this entry could not be inserted in the L2 memory and is in the overflow memory awaiting to be moved to L2 table via some age/reorder/replace etc operation under application control.  </td></tr>
<tr>
<td>BCM_L2_SET_ENCAP_VALID </td><td>DNX only: indication that encap_id_valid needs to set even when encap_id is not valid. The application is supposed to pass the same flag back again while adding the entry in the L2 table so that the overflow entry can be cleared and the process resumed.   </td></tr>
<tr>
<td>BCM_L2_SET_ENCAP_INVALID </td><td>DNX only: encap_id is added to MAC table as is, however valid bit is cleared.  </td></tr>
<tr>
<td>BCM_L2_SR_SAN_DEST </td><td>Seamless Redundancy: the destination is a SAN (Singly Attached Node).  </td></tr>
<tr>
<td>BCM_L2_ADD_OVERRIDE_PENDING </td><td>Override pending entry while the same hash bucket is full. Return BCM_E_FULL if there is no pending entry in the bucket. It should not be used with BCM_L2_REPLACE_DYNAMIC.  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>BCM Layer 2 Flags 2</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_L2_FLAGS2_ROE_NHI </td><td>The destination of the l2 address is ROE/ROE Custom Next Hop Index. To be used only with flags2.  </td></tr>
<tr>
<td>BCM_L2_FLAGS2_L3_MULTICAST </td><td>The destination of the l2 address is ROE/ROE Custom IPMC Index. To be used only with flags2.  </td></tr>
<tr>
<td>BCM_L2_FLAGS2_BMACT_LEARN </td><td>Mac-in-Mac: BVID entries will be added to dedicated MiM learn table (instead of BMACT FWD). To be used only with flags2.  </td></tr>
<tr>
<td>BCM_L2_FLAGS2_ADD_NO_CALLBACKS </td><td>The L2 FIFO events will not be generated if this flag is set. To be used only with flags2. Not supported on BCM56980.  </td></tr>
<tr>
<td>BCM_L2_FLAGS2_ADD_VPN_TYPE </td><td>Add VPN type l2 entry. To be used only with flags2.  </td></tr>
<tr>
<td>BCM_L2_FLAGS2_HIT_GET </td><td>Signal bcm_l2_addr_get to return the hit status of the MAC entry.  </td></tr>
</table>
<p>The implementation of MAC blocking consists of adding the block_bitmap field to the bcm_l2_addr_t structure. If this bitmap is zero, no blocking is done. Otherwise, packets from the source L2 address will be blocked from going to any of the egress ports specified by non-zero bits in block_bitmap.</p>
<dl class="section note"><dt>Note</dt><dd>The application must initialize all bcm_l2_addr_t structures, using <a class="el" href="group__l2.html#ga4b480c95cb5e74e0b60eabcd7482f7c3" title="Initialize an L2 address structure to a specified MAC address and VLAN ID.">bcm_l2_addr_t_init()</a>, or passing uninitialized data for fields like block_bitmap will cause unpredictable behavior from <a class="el" href="group__l2.html#ga352ec773839990b5f417c168e11e066e" title="Add an L2 address entry to the specified device.">bcm_l2_addr_add()</a>. On current XGS switches, the MAC Block table has room for a limited number of unique block bitmaps. The BCM L2 API implements MAC blocking by keeping an internal list of block bitmaps, each with a reference count of how many L2 addresses are using it. On some StrataXGS III devices, the MAC Block index functionality can be disabled and replaced with L2 MAC grouping feature by specifying the appropriate config parameter. When L2 MAC grouping is enabled, the L2 group field of the bcm_l2_addr_t structures is used to specify the group number.</dd></dl>
<h2>Time-Sensitive Networking (TSN) and Seamless Redundancy (SR) support</h2>
<p>For Time-Sensitive Networking (TSN) and Seamless Redundancy (SR) support, the implementation of TSN and SR associated flow set consists of adding the tsn_flowset and sr_flowset field to the bcm_l2_addr_t structure. The identify of the TSN or SR stream we called flow set is usually determined by the L2 address. Users should create a flow set via TSN/SR flow APIs and then associate it with the L2 address by L2 APIs.</p>
<p>For Seamless Redundancy (SR) support, the implementation of Source Port Filter Bitmap consists of adding the sa_source_filter_pbmp field to the bcm_l2_addr_t structure. If this bitmap is zero, no filtering is done. Otherwise, packets from the source L2 address will be filtered from going to any of the egress ports specified by non-zero bits in sa_source_filter_pbmp.</p>
<p>For BCM_L2_SR_SAN_DEST <a class="el" href="l2.html#l2_bcm_l2_flags">l2_bcm_l2_flags</a> usage in SR support, it indicates the destination is a SAN (Singly Attached Node) or DAN (Doubly Attached Node). For existing flags BCM_L2_MCAST <a class="el" href="l2.html#l2_bcm_l2_flags">l2_bcm_l2_flags</a> usage in SR support, it forces to accept unicast address with this flag.</p>
<p>The following structure contains information used for setting or getting the L2 learning limit configuration.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l2__learn__limit__s.html">bcm_l2_learn_limit_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>        <a class="code" href="structbcm__l2__learn__limit__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;   <span class="comment">/* BCM_L2_LEARN_LIMIT_*: actions and qualifiers */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>    <a class="code" href="structbcm__l2__learn__limit__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;    <span class="comment">/* VLAN identifier */</span></div><div class="line">    <a class="code" href="group__types.html#gad7e36a8d90f5765e8ca58770666c0860">bcm_port_t</a>    <a class="code" href="structbcm__l2__learn__limit__s.html#a1ce53999f0a069c5ce2e2716f19178ba">port</a>;    <span class="comment">/* port number */</span></div><div class="line">    <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a>   <a class="code" href="structbcm__l2__learn__limit__s.html#af46359b62362a76afe91c064c98ab40c">trunk</a>;   <span class="comment">/* trunk identifier */</span></div><div class="line">    <a class="code" href="group__types.html#ga8add25d62be4eb533e834086aa30956c">bcm_tunnel_id_t</a> <a class="code" href="structbcm__l2__learn__limit__s.html#a0b4e05ac07a0662b99e881b161def434">tunnel_id</a>; <span class="comment">/* tunnel identifier */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a43d43196463bde49cb067f5c20ab8481">int32</a>         <a class="code" href="structbcm__l2__learn__limit__s.html#a093d9695bc7f56e2e457d8ccf15652c1">limit</a>;   <span class="comment">/* max number of learned entry, -1 for unlimited */</span></div><div class="line">} <a class="code" href="group__l2.html#ga3eb6be45087594894fdb4c3c7c5e7b0b">bcm_l2_learn_limit_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>L2 Learn limit flags</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_SYSTEM </td><td>The specified limit is for system wide setting  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_VLAN </td><td>The specified limit is for per VLAN setting  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_PORT </td><td>The specified limit is for per port setting  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_TRUNK </td><td>The specified limit is for per trunk setting  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_ACTION_DROP </td><td>Drop the packet if learn limit exceeds  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_ACTION_CPU </td><td>Send the packet to CPU if learn limit exceeds  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_ACTION_PREFER </td><td>Use system wide configured action instead of per VLAN/port/trunk action - valid only when used for system wide limit configuration  </td></tr>
<tr>
<td>BCM_L2_LEARN_LIMIT_TUNNEL </td><td>The specified limit is for per tunnel setting  </td></tr>
</table>
<p>The application must initialize an L2 learn limit structure using the <a class="el" href="group__l2.html#bcm_l2_learn_limit_t_init">bcm_l2_learn_limit_t_init</a> function prior to passing it to an API.</p>
<p>The following structure contains information used for setting or getting the L2 learn messages distribution and configuration.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l2__learn__msgs__config__s.html">bcm_l2_learn_msgs_config_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>      <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;        <span class="comment">/* BCM_L2_LEARN_MSG_XXX flags. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a>     <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a255c6c44ccef1eafd1b32dea322f6f88">dest_port</a>;    <span class="comment">/* Destination port. */</span></div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a>     <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a5afd9a2f4e189db2d66dddd9b7905b0a">dest_group</a>;   <span class="comment">/* Destination group. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>      <a class="code" href="structbcm__l2__learn__msgs__config__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;         <span class="comment">/* L2: vlan identifier. set to invalid for untagged Ethernet */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>      <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a32ad75ce30562c526f5b504fbb0187c1">tpid</a>;         <span class="comment">/* L2: vlan TPID. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>      <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a3d922903a7ea2d8fa6aa3e53ac8e9c02">vlan_prio</a>;    <span class="comment">/* L2: vlan priority. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>      <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a7ca0d84baf6b360b732417e8b107834a">ether_type</a>;   <span class="comment">/* L2: type in Ethernet II frame or 802.1Q tag. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>       <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a55e9da0c9e024f9e7a37633df56a955b">src_mac_addr</a>; <span class="comment">/* L2: source MAC address. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>       <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a6a1d2590c7af1329f5d48f70b7b42ef7">dst_mac_addr</a>; <span class="comment">/* L2: destination MAC address. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>               <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a9ec8e542d843bcdbd9778d4f17e6bb89">priority</a>;     <span class="comment">/* L2: traffic class, Range: 0..7 */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>               <a class="code" href="structbcm__l2__learn__msgs__config__s.html#a4c96df80e1158123aea0a13d5ced4ef3">color</a>;        <span class="comment">/* L2: drop precedence, Range: 0..3 */</span></div><div class="line">} <a class="code" href="group__l2.html#gae7532c6bb90df4cef0aa6adbf077583b">bcm_l2_learn_msgs_config_t</a>;</div></div><!-- fragment --><p>When creating a new L2 learn messages configuration (bcm_l2_learn_msgs_config_t), use the <a class="el" href="group__l2.html#ga4aa962b720730027c3b9e02ad0bc2e79" title="Initialize an L2 learn message structure.">bcm_l2_learn_msgs_config_t_init()</a> routine.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>L2 Learn messages flags</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_L2_LEARN_MSG_DEST_MULTICAST </td><td>The destination of the learning message is a MC group and 'dest_group' is used, if not set the destination is UC and 'dest_port' is used  </td></tr>
<tr>
<td>BCM_L2_LEARN_MSG_ETH_ENCAP </td><td>Learn message are encapsulated with Etherenet header. Use the Ethernet parameters (dst_mac_addr, src_mac_addr, ether_type, vlan_prio, vlan)  </td></tr>
<tr>
<td>BCM_L2_LEARN_MSG_LEARNING </td><td>The specified configuration is for messages generated for learning  </td></tr>
<tr>
<td>BCM_L2_LEARN_MSG_SHADOW </td><td>The specified configuration is for messages generated to manage a shadow of the ARL  </td></tr>
</table>
<p>The following structure contains information used for setting or getting the L2 Learning events distribution.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l2__addr__distribute__s.html">bcm_l2_addr_distribute_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l2__addr__distribute__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;       <span class="comment">/* BCM_L2_ADDR_DIST_XXX flags. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l2__addr__distribute__s.html#a8119805ca8fb8991d4bbbf72753d4613">vid</a>;     <span class="comment">/* VLAN or VPN identifier. */</span></div><div class="line">} <a class="code" href="group__l2.html#gac96029e750fe298a2b823894efdd539f">bcm_l2_addr_distribute_t</a>;</div></div><!-- fragment --><p>When creating a new L2 learn distribution (bcm_l2_addr_distribute_t), use the <a class="el" href="group__l2.html#ga40c6b35be9b0d9621b209d6bd7d4a738" title="Initialize an L2 learn distribution structure.">bcm_l2_addr_distribute_t_init()</a> routine.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>L2 Learning events flags</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_L2_ADDR_DIST_LEARN_EVENT </td><td>Learning events  </td></tr>
<tr>
<td>BCM_L2_ADDR_DIST_STATION_MOVE_EVENT </td><td>Station movement event  </td></tr>
<tr>
<td>BCM_L2_ADDR_DIST_AGED_OUT_EVENT </td><td>Aged out event  </td></tr>
<tr>
<td>BCM_L2_ADDR_DIST_SET_LEARN_DISTRIBUTER </td><td>Send events to the learning distributer  </td></tr>
<tr>
<td>BCM_L2_ADDR_DIST_SET_SHADOW_DISTRIBUTER </td><td>Send events to the shadow distributer  </td></tr>
<tr>
<td>BCM_L2_ADDR_DIST_REFRESH_EVENT </td><td>Age refresh event  </td></tr>
<tr>
<td>BCM_L2_ADDR_DIST_SET_NO_DISTRIBUTER </td><td>Do not send events to any distributer  </td></tr>
<tr>
<td>BCM_L2_ADDR_DIST_SET_CPU_DMA_DISTRIBUTER </td><td>Send events to the CPU DMA distributer  </td></tr>
<tr>
<td>BCM_L2_ADDR_DIST_ACK_EVENT </td><td>Acknowledge event  </td></tr>
<tr>
<td>BCM_L2_ADDR_DIST_UPDATE_WITHOUT_ADD_EVENT </td><td>Update payload or age state or fail in case the entry doesn't exist  </td></tr>
</table>
<h1><a class="anchor" id="l2_cache"></a>
L2 Cache</h1>
<p>The L2 cache is a separate L2 lookup table which takes precedence over the main L2 ARL table. An L2 cache entry is somewhat similar to a static entry in the main L2 ARL table, except that each L2 cache entry can be configured to match a block MAC addresses, VLANs or source ports. Another important feature of the L2 cache is the capability to prioritize entries, for example, in case a MAC address matches multiple entries.</p>
<p>The L2 cache table entries are managed using a separate L2 address type.</p>
<p>The field lookup_class is the class identifier. This is a class ID number supplied by the application to group multiple L2 cache entries for classification purposes.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l2__cache__addr__s.html">bcm_l2_cache_addr_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>              <a class="code" href="structbcm__l2__cache__addr__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;          <span class="comment">/* BCM_L2_CACHE_XXX flags */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>              <a class="code" href="structbcm__l2__cache__addr__s.html#acfd0d85dbeafe03476adad74b3311492">station_flags</a>;  <span class="comment">/* BCM_L2_STATION_xxx flags. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>           <a class="code" href="structbcm__l2__cache__addr__s.html#a741f0f5b72838cbc381590a7b4651d67">mac</a>;            <span class="comment">/* dest MAC address to match */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>           <a class="code" href="structbcm__l2__cache__addr__s.html#a640a73c6c41fabdd8743214078a1f351">mac_mask</a>;       <span class="comment">/* mask */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>          <a class="code" href="structbcm__l2__cache__addr__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;           <span class="comment">/* VLAN to match */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>          <a class="code" href="structbcm__l2__cache__addr__s.html#ab8a015d353a2489cab25dd6a728e66ed">vlan_mask</a>;      <span class="comment">/* mask */</span></div><div class="line">    <a class="code" href="group__types.html#gad7e36a8d90f5765e8ca58770666c0860">bcm_port_t</a>          <a class="code" href="structbcm__l2__cache__addr__s.html#a7cbfe483f21f219557fe8f7684fb1a9d">src_port</a>;       <span class="comment">/* ingress port to match (ER only) */</span></div><div class="line">    <a class="code" href="group__types.html#gad7e36a8d90f5765e8ca58770666c0860">bcm_port_t</a>          <a class="code" href="structbcm__l2__cache__addr__s.html#add857342023f2c2d9a94ddfc8488f294">src_port_mask</a>;  <span class="comment">/* mask (must be 0 for FB) */</span></div><div class="line">    <a class="code" href="group__types.html#ga447d8acbaf3d9af4ff67dc7e9a147def">bcm_module_t</a>        <a class="code" href="structbcm__l2__cache__addr__s.html#aff141bacc34a8e62dd1f335821500179">dest_modid</a>;     <span class="comment">/* switch destination module */</span></div><div class="line">    <a class="code" href="group__types.html#gad7e36a8d90f5765e8ca58770666c0860">bcm_port_t</a>          <a class="code" href="structbcm__l2__cache__addr__s.html#a0a422a028bf37f9e169c493372c38955">dest_port</a>;      <span class="comment">/* switch destination port */</span></div><div class="line">    <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a>         <a class="code" href="structbcm__l2__cache__addr__s.html#a7467a406e57cb32a64c0f74d76aadbed">dest_trunk</a>;     <span class="comment">/* switch destination trunk ID */</span></div><div class="line">    <span class="keywordtype">int</span>                 <a class="code" href="structbcm__l2__cache__addr__s.html#a6f8e491cf1d80eb127fe0c10ebbfc659">prio</a>;           <span class="comment">/* -1 to not set internal priority */</span></div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a>          <a class="code" href="structbcm__l2__cache__addr__s.html#ae18ecf1093fa1b0d3e265facfc844015">dest_ports</a>;     <span class="comment">/* dest ports for Multiport L2 address</span></div><div class="line"><span class="comment">                                         * forwarding */</span></div><div class="line">    <span class="keywordtype">int</span>                 <a class="code" href="structbcm__l2__cache__addr__s.html#a3c719a19f667aadfbfc13bb638785dfc">lookup_class</a>;   <span class="comment">/* Classification class ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>               <a class="code" href="structbcm__l2__cache__addr__s.html#a4515dbb3a585ae58d0fbe914f3376274">subtype</a>;        <span class="comment">/* Slow protocol subtype to match. */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a>            <a class="code" href="structbcm__l2__cache__addr__s.html#a399a9c2e57c84182ae4d633fb9340f11">encap_id</a>;       <span class="comment">/* Encapsulation index. */</span></div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a>     <a class="code" href="structbcm__l2__cache__addr__s.html#ae92fd10f191e5260b750355dbc292f54">group</a>;          <span class="comment">/* Flood domain for L2CP. */</span></div><div class="line">    <a class="code" href="group__types.html#ga450a4500056fa57db6d051dcb4709501">bcm_ethertype_t</a>     <a class="code" href="structbcm__l2__cache__addr__s.html#acbec95f89c0d1dfef2d74656cd88b7c6">ethertype</a>;  <span class="comment">/* EtherType to match */</span></div><div class="line">    <a class="code" href="group__types.html#ga450a4500056fa57db6d051dcb4709501">bcm_ethertype_t</a>     <a class="code" href="structbcm__l2__cache__addr__s.html#a597a0865d1520a8fdd1e17bf57a239d0">ethertype_mask</a>; <span class="comment">/* Mask */</span></div><div class="line">} <a class="code" href="group__l2.html#gad7b2c272f8cb6e20d41e5e7cff8e626a">bcm_l2_cache_addr_t</a>;</div></div><!-- fragment --><p>The flags field in the structure is the logical OR of the flags listed in Table BCM L2 Cache Flags. The station_flags field in the structure is the logical OR of the flags listed in Table BCM L2 Station Flags.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>BCM L2 Cache Flags</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_L2_CACHE_CPU </td><td>Send copy of packet to CPU  </td></tr>
<tr>
<td>BCM_L2_CACHE_DISCARD </td><td>Packet is not switched  </td></tr>
<tr>
<td>BCM_L2_CACHE_MIRROR </td><td>Send copy of packet to mirror port  </td></tr>
<tr>
<td>BCM_L2_CACHE_L3 </td><td>Packet is to be L3 routed  </td></tr>
<tr>
<td>BCM_L2_CACHE_BPDU </td><td>Mark packet as BPDU  </td></tr>
<tr>
<td>BCM_L2_CACHE_SETPRI </td><td>Set internal priority from prio field  </td></tr>
<tr>
<td>BCM_L2_CACHE_TRUNK </td><td>Destination is a trunk  </td></tr>
<tr>
<td>BCM_L2_CACHE_REMOTE_LOOKUP </td><td>Request lookup on remote unit in stack  </td></tr>
<tr>
<td>BCM_L2_CACHE_LEARN_DISABLE </td><td>Do not learn packet source address for this destination address  </td></tr>
<tr>
<td>BCM_L2_CACHE_TUNNEL </td><td>Terminate MPLS tunnels at this address  </td></tr>
<tr>
<td>BCM_L2_CACHE_SUBTYPE </td><td>Slow protocol subtype  </td></tr>
<tr>
<td>BCM_L2_CACHE_LOOKUP </td><td>Request L2 lookup.  </td></tr>
<tr>
<td>BCM_L2_CACHE_MULTICAST </td><td>Destination for L2CP packets is a Flood domain (multicast group)  </td></tr>
<tr>
<td>BCM_L2_CACHE_PROTO_PKT </td><td>Mark the frame as protocol packet.  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>The application must initialize all bcm_l2_cache_addr_t structures using <a class="el" href="group__l2.html#ga9c56076c4e5ff385095c9d52471b4067" title="Initialize an L2 cache address structure.">bcm_l2_cache_addr_t_init()</a>. The L2 cache is supported on StrataXGS III switch chips only.</dd></dl>
<h1><a class="anchor" id="l2_egress"></a>
L2 Egress</h1>
<p>The L2 Egress API is used to configure the packet editing details as the packet is egressing. The field encap_id is to be used in conjunction with l2_cache API to use the configured encapsulation/editing scheme.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l2__egress__s.html">bcm_l2_egress_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l2__egress__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;               <span class="comment">/* BCM_L2_EGRESS_XXX flags. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__l2__egress__s.html#a488f6cff32476dbb3c737696cef93791">dest_mac</a>;         <span class="comment">/* Destination MAC address to replace with. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__l2__egress__s.html#aa921daa2f03946ed7c419003a5682c7c">src_mac</a>;          <span class="comment">/* Source MAC address to replace with. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l2__egress__s.html#a9450d25b547a0d5ae6c40684ec3fcb6a">outer_vlan</a>;      <span class="comment">/* outer VLAN tag to replace with. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l2__egress__s.html#ac5b308fe14378b1d0a6ad9aba29bbded">inner_vlan</a>;      <span class="comment">/* inner VLAN tag to replace with. */</span></div><div class="line">    <a class="code" href="group__types.html#ga450a4500056fa57db6d051dcb4709501">bcm_ethertype_t</a> <a class="code" href="structbcm__l2__egress__s.html#acbec95f89c0d1dfef2d74656cd88b7c6">ethertype</a>;  <span class="comment">/* EtherType to replace with */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__l2__egress__s.html#a255c6c44ccef1eafd1b32dea322f6f88">dest_port</a>;      <span class="comment">/* Destination gport to associate this l2 egress entry with */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__l2__egress__s.html#a399a9c2e57c84182ae4d633fb9340f11">encap_id</a>;          <span class="comment">/* Encapsulation index */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__l2__egress__s.html#af0778c25248d26c33068cb6b8efeeb59">outer_tpid</a>;          <span class="comment">/* outer vlan tag TPID. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__l2__egress__s.html#adbc1fbc602f56d5fe4b3f39f0d39e7c1">outer_prio</a>;           <span class="comment">/* outer vlan tag User Priority. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__l2__egress__s.html#a1b64fc691ab7fe3286d05cc2f16373fa">inner_tpid</a>;          <span class="comment">/* inner vlan tag TPID */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__l2__egress__s.html#a8ded6e67f7485f62bf48a3838641cbd7">l3_intf</a>;           <span class="comment">/* L3 interface (tunnel). Used only in Native</span></div><div class="line"><span class="comment">                                   Routing overlay protocols. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l2__egress__s.html#a80edbb31c9be4dd9e7c554cd995d9849">vlan_qos_map_id</a>;        <span class="comment">/* VLAN PCP-DEI QoS settings. Used only in</span></div><div class="line"><span class="comment">                                   Native Routing overlay protocols. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l2__egress__s.html#ae886412a019dd266af4030b4621ac3f5">mpls_extended_label_value</a>;  <span class="comment">/* An extended label placed on top of a an</span></div><div class="line"><span class="comment">                                       egress encapsulation. */</span></div><div class="line">} <a class="code" href="group__l2.html#gae78439973b0073e6b27ead335f8b2c52">bcm_l2_egress_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>BCM L2 Egress Flags</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_L2_EGRESS_WITH_ID </td><td>Use the specified Encap ID while creating  </td></tr>
<tr>
<td>BCM_L2_EGRESS_REPLACE </td><td>Replace config of existing egress object  </td></tr>
<tr>
<td>BCM_L2_EGRESS_DEST_MAC_REPLACE </td><td>Replace dest MAC  </td></tr>
<tr>
<td>BCM_L2_EGRESS_DEST_MAC_PREFIX5_REPLACE </td><td>Replace the prefix 5 bytes of dest MAC  </td></tr>
<tr>
<td>BCM_L2_EGRESS_SRC_MAC_REPLACE </td><td>Replace source MAC  </td></tr>
<tr>
<td>BCM_L2_EGRESS_OUTER_VLAN_REPLACE </td><td>Replace outer VLAN  </td></tr>
<tr>
<td>BCM_L2_EGRESS_OUTER_PRIO_REPLACE </td><td>Replace outer tag prio  </td></tr>
<tr>
<td>BCM_L2_EGRESS_INNER_VLAN_REPLACE </td><td>Replace inner VLAN  </td></tr>
<tr>
<td>BCM_L2_EGRESS_INNER_PRIO_REPLACE </td><td>Replace inner tag prio  </td></tr>
<tr>
<td>BCM_L2_EGRESS_ETHERTYPE_REPLACE </td><td>Replace EtherType  </td></tr>
<tr>
<td>BCM_L2_EGRESS_DEST_PORT </td><td>Associate l2 egress entry with a particular dest port  </td></tr>
<tr>
<td>BCM_L2_EGRESS_OUTER_VLAN_ADD </td><td>add outer vlan, if set then new vlan-tag is added according to outer_tpid,outer_prio,outer_vlan, attributes  </td></tr>
<tr>
<td>BCM_L2_EGRESS_VLAN_QOS_MAP_REPLACE </td><td>Replace VLAN PCP-DEI QOS settings  </td></tr>
<tr>
<td>BCM_L2_EGRESS_WIDE </td><td>Set wide entry in egress.  </td></tr>
</table>
<h1><a class="anchor" id="l2_sa_authentication"></a>
L2 SA Authentication</h1>
<p>The L2 SA Authentication is used to enable security based on MAC SA.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>bcm_l2_auth_s {</div><div class="line"></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>              <a class="code" href="l3_8dox.html#a6d63ab79fe26b54cd710ffb5e5227fa3">flags</a>;          <span class="comment">/* BCM_L2_AUTH_XXX flags */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>           sa_mac;         <span class="comment">/* SA MAC address to match */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>          <a class="code" href="l3_8dox.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;           <span class="comment">/* VLAN to match */</span></div><div class="line">    <a class="code" href="group__types.html#gad7e36a8d90f5765e8ca58770666c0860">bcm_port_t</a>          <a class="code" href="l3_8dox.html#a3ea3e1ebd4d9a1d6f8d8d2cdc14801b2">src_port</a>;       <span class="comment">/* ingress port to match */</span></div><div class="line">} <a class="code" href="group__l2.html#ga5941ce8b4e9c1791f7759a0ee114d7de">bcm_l2_auth_addr_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>BCM L2 SA Authentication Flags</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_L2_AUTH_CHECK_IN_PORT </td><td>Check packet with SA_MAC received on the expected SRC_PORT  </td></tr>
<tr>
<td>BCM_L2_AUTH_CHECK_VLAN </td><td>Check packet with SA_MAC received on the expected VLAN  </td></tr>
<tr>
<td>BCM_L2_AUTH_PERMIT_TAGGED_ONLY </td><td>Permit only tagged packets  </td></tr>
</table>
<h1><a class="anchor" id="l2_ring_protection"></a>
L2 Ring Protection</h1>
<p>L2 ring protection provides functionality for fast L2 ring failover using hardware based accelerations which control flooding, learning and entry replace.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l2__ring__s.html">bcm_l2_ring_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l2__ring__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* BCM_L2_REPLACE_XXX flags */</span></div><div class="line">    <a class="code" href="group__types.html#ga120cca4977dad5b50498e5a8d31a12a5">bcm_vlan_vector_t</a> <a class="code" href="structbcm__l2__ring__s.html#ad60fcc640b0c68215ac7e89075b4e4ef">vlan_vector</a>;      <span class="comment">/* List of Vlans. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__l2__ring__s.html#a513c2beb3982a7198dd46a57ef35a1f3">port0</a>;                  <span class="comment">/* VLAN gport */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__l2__ring__s.html#a9b171a81a2e1d10d963620d7a6bd4776">port1</a>;                  <span class="comment">/* VLAN gport */</span></div><div class="line">    <a class="code" href="group__types.html#ga422ca67b6dd5ea09fe52b01a44cf3bf6">bcm_vpn_vector_t</a> <a class="code" href="structbcm__l2__ring__s.html#a8f616226e214f932e1fc44c410d9b046">vpn_vector</a>;        <span class="comment">/* List of VPN IDs. */</span></div><div class="line">} <a class="code" href="group__l2.html#gab7bb39377e7e81a22706fa430abfa8a2">bcm_l2_ring_t</a>;</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The application must initialize all bcm_l2_ring_t structures using <a class="el" href="group__l2.html#ga4bd31f8dae972301b283b728f1195e97" title="Initialize an empty L2 ring failover structure.">bcm_l2_ring_t_init()</a>. The applicable flags are BCM_L2_REPLACE_PROTECTION_RING, BCM_L2_REPLACE_MIGRATE_PORT, BCM_L2_REPLACE_VPN_TYPE. To set/get/clear the bits in vpn_vector, VPN_ID has to be passed to macros BCM_VPN_VEC_SET/BCM_VPN_VEC_GET/BCM_VPN_VEC_CLR respectively. Similarly, to set/get/clear the bits in vlan_vector, bit corresponding to VLAN_ID has to be passed to macros BCM_VLAN_VEC_SET/BCM_VLAN_VEC_GET/BCM_VLAN_VEC_CLR respectively.</dd></dl>
<h1><a class="anchor" id="l2_station"></a>
L2 Station</h1>
<p>The L2 Station API is used to setup rules in hardware for lookup based on destination MAC address and VLAN ID. For element-encapsulated packets, ingress port is used as an endpoint during lookup. When a packet matches a rule, the termination settings from the rule are used to decide further processing of this packet. Entries created using <a class="el" href="group__l2.html#ga3e9b6b3dbc1fdd2f88f75fda2395dbd3" title="Add an entry to L2 Station table.">bcm_l2_station_add()</a> APIs are immune from hardware based aging algorithm.</p>
<p>On devices where RIOT is supported and enabled, the L2 station entries for terminating the tunnel header and for enabling routing need to be created separately. Both the entries are required to be created in separate tables in the hardware. To determine the type of termination, especially when most of the "mask" fields are "don't care"s, the tunnel station entries from the routing stations, the former are required to be created with an explicit BCM_L2_STATION_UNDERLAY flag set in the bcm_l2_station_t.</p>
<p>On TD4 device, the membership and spanning tree checking of L2 tunnel packets(like vxlan) depends on L2 station. And S/W will rely on vlan/vfi of station structure to set checking profile index in station entry. If user does not specify vlan/vfi, default value(0) will be set to profile index. If user specifies both vlan and vfi, checking will be based on vlan. In addition, such profile index only takes effect for L2 tunnel packets, other(like L3 routed packets) are not affected. </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l2__station__s.html">bcm_l2_station_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l2__station__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;               <span class="comment">/* BCM_L2_STATION_xxx flags. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l2__station__s.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;               <span class="comment">/* Entry priority. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__l2__station__s.html#a33c5fcf3763db0dc69dfabf13ae238d8">dst_mac</a>;          <span class="comment">/* Destination MAC address to match. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__l2__station__s.html#aa0bde150973332057ef1bfde51553136">dst_mac_mask</a>;     <span class="comment">/* Destination MAC address mask value. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l2__station__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;            <span class="comment">/* VLAN to match. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l2__station__s.html#ab8a015d353a2489cab25dd6a728e66ed">vlan_mask</a>;       <span class="comment">/* VLAN mask value. */</span></div><div class="line">    <a class="code" href="group__types.html#gad7e36a8d90f5765e8ca58770666c0860">bcm_port_t</a> <a class="code" href="structbcm__l2__station__s.html#a7cbfe483f21f219557fe8f7684fb1a9d">src_port</a>;        <span class="comment">/* Ingress port to match. */</span></div><div class="line">    <a class="code" href="group__types.html#gad7e36a8d90f5765e8ca58770666c0860">bcm_port_t</a> <a class="code" href="structbcm__l2__station__s.html#add857342023f2c2d9a94ddfc8488f294">src_port_mask</a>;   <span class="comment">/* Ingress port mask value. */</span></div><div class="line">    <a class="code" href="group__types.html#ga96a8a080671cc796ca3e5456b5ddc2e9">bcm_tsn_pri_map_t</a> <a class="code" href="structbcm__l2__station__s.html#a4bfbb21035b5dfcf7e88a79594b7c14a">taf_gate_primap</a>; <span class="comment">/* TAF (Time Aware Filtering) gate priority mapping. */</span></div><div class="line">    <a class="code" href="group__l2.html#gaf38c80c23cdbc259109bad8474daafd7">bcm_l2_forward_domain_type_t</a> <a class="code" href="structbcm__l2__station__s.html#a93b274dcca4e0110888227b6c932bc53">forward_domain_type</a>; <span class="comment">/* L2 forwarding domain type. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__l2__station__s.html#a38704009b8d9a05cbed8adcaab88c8c1">forward_domain_type_mask</a>;     <span class="comment">/* L2 forwarding domain type mask. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l2__station__s.html#ac5b308fe14378b1d0a6ad9aba29bbded">inner_vlan</a>;              <span class="comment">/* Inner VLAN to match. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l2__station__s.html#a3e6270a4f9e900fc7bf9643aa2c61c87">inner_vlan_mask</a>;         <span class="comment">/* Inner VLAN mask value. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l2__station__s.html#a1d4e1fc22ecfed3c1055719f5c66f471">vfi</a>;                     <span class="comment">/* Port default virtual forwarding</span></div><div class="line"><span class="comment">                                           instance to match. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l2__station__s.html#ad1ba4627b019e2ec482f0500bd867a17">vfi_mask</a>;                <span class="comment">/* Port default virtual forwarding</span></div><div class="line"><span class="comment">                                           instance mask. */</span></div><div class="line">} <a class="code" href="group__l2.html#ga1ce406dd2c125a5c75213775aed5a548">bcm_l2_station_t</a>;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">/* L2 Forwarding Domain Type. */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__l2.html#ga9a2dbdcb1d57fc9dd76a8ff148ae6afd">bcm_l2_forward_domain_type_e</a> {</div><div class="line">    <a class="code" href="group__l2.html#gga9a2dbdcb1d57fc9dd76a8ff148ae6afda0da5dd9735a56bef5d84ea4cf19a2bcd">bcmL2ForwardDomainVlan</a> = 0, <span class="comment">/* VLAN. */</span></div><div class="line">    <a class="code" href="group__l2.html#gga9a2dbdcb1d57fc9dd76a8ff148ae6afda8b21035cee86936b4c9b5f379fe7cc8a">bcmL2ForwardDomainVpn</a> = 1,  <span class="comment">/* VFI. */</span></div><div class="line">    <a class="code" href="group__l2.html#gga9a2dbdcb1d57fc9dd76a8ff148ae6afda308904e13a667fb7dedba9971a5f6cbb">bcmL2ForwardDomainCount</a> = 2 <span class="comment">/* Must be last. */</span></div><div class="line">} <a class="code" href="group__l2.html#gaf38c80c23cdbc259109bad8474daafd7">bcm_l2_forward_domain_type_t</a>;</div></div><!-- fragment --><p>Elements src_port and src_port_mask also takes gport type format. So the module ID/port or trunk ID can be specified on supported hardware switches. If user gives a mask value larger than the hardware field. The extra bits will simply be truncated to fit the hardware field.</p>
<p>Elements forward_domain_type and forward_domain_type_mask are used to specify the type of L2 forwarding domain. Entries that do not care about forwarding domain information should have flelds such as vlan, vlan_mask, forward_domain_type and forward_domain_type_mask all cleared. Entries that match L2 domain forwarding information must have forward_domain_type_mask set, as well as forward_domain_type assigned appropriately. SoC property my_station_forward_domain_type_decoupled must be set to enable configuring these two fields.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>BCM L2 Station Flags</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_L2_STATION_WITH_ID </td><td>Use the specified station ID while creating entry  </td></tr>
<tr>
<td>BCM_L2_STATION_REPLACE </td><td>Replace an existing L2 station table entry  </td></tr>
<tr>
<td>BCM_L2_STATION_IPV4 </td><td>Allow L3 processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_IPV6 </td><td>Allow L3 processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_ARP_RARP </td><td>Allow ARP/RARP processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_MPLS </td><td>Allow MPLS processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_MIM </td><td>Allow MiM processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_TRILL </td><td>Allow Trill processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_FCOE </td><td>Allow FCoE processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_OAM </td><td>Allow OAM processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_COPY_TO_CPU </td><td>Copy packet to CPU when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_OLP </td><td>Subject packets to OAM-OLP header processing when entry is hit (Obsolete).  </td></tr>
<tr>
<td>BCM_L2_STATION_XGS_MAC </td><td>Configure source MAC address to be used in OLP header for packets sent to OLP (Obsolete).  </td></tr>
<tr>
<td>BCM_L2_STATION_IPV4_MCAST </td><td>Allow IPV4 mcast processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_IPV6_MCAST </td><td>Allow IPV6 mcast processing of packet when entry hit  </td></tr>
<tr>
<td>BCM_L2_STATION_UNDERLAY </td><td>Entry for processing UNDERLAY tunnel headers when RIOT is enabled.  </td></tr>
<tr>
<td>BCM_L2_STATION_DISCARD </td><td>Discard packets matching this entry.  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>The application must initialize bcm_l2_station_t structure using <a class="el" href="group__l2.html#ga1f192d2d25181efaf67ffb40b4e91372" title="Initialize L2 Station structure.">bcm_l2_station_t_init()</a> API before calling <a class="el" href="group__l2.html#ga3e9b6b3dbc1fdd2f88f75fda2395dbd3" title="Add an entry to L2 Station table.">bcm_l2_station_add()</a> API. bcm_l2_station_xxx() API must not be used along with bcm_l2_cache_xxx()/bcm_l2_addr_xxx()/bcm_l2_tunnel_xxx() APIs as both sets of APIs program the same hardware resource and could result in wrong packet forwarding by hardware.</dd></dl>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__l2.html#ga16142b375809a82217b21d9f468103bf" title="Initialize the BCM L2 subsystem.">bcm_l2_init(int unit)</a>  </td><td>Initialize the BCM L2 subsystem.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga1c241aeb5278d176633b4e0676798a2c" title="Clear the BCM L2 subsystem.">bcm_l2_clear(int unit)</a>  </td><td>Clear the BCM L2 subsystem.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga1490ac670b465b2e61c0e9b114215045" title="Finalize the BCM L2 subsystem.">bcm_l2_detach(int unit)</a>  </td><td>Finalize the BCM L2 subsystem.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga4b480c95cb5e74e0b60eabcd7482f7c3" title="Initialize an L2 address structure to a specified MAC address and VLAN ID.">bcm_l2_addr_t_init(bcm_l2_addr_t* l2addr, const bcm_mac_t mac_addr, bcm_vlan_t vid)</a>  </td><td>Initialize an L2 address structure to a specified MAC address and VLAN ID.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga352ec773839990b5f417c168e11e066e" title="Add an L2 address entry to the specified device.">bcm_l2_addr_add(int unit, bcm_l2_addr_t* l2addr)</a>  </td><td>Add an L2 address entry to the specified device.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gac3762dd387fc86ac5306563dffc2bc5f" title="Delete an L2 address entry from the specified device.">bcm_l2_addr_delete(int unit, bcm_mac_t mac, bcm_vlan_t vid)</a>  </td><td>Delete an L2 address entry from the specified device.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gae816e43160cfc2e21800032bdfc22ee9" title="Delete L2 entries associated with a destination module/port.">bcm_l2_addr_delete_by_port(int unit, bcm_module_t mod, bcm_port_t port, uint32 flags)</a>  </td><td>Delete L2 entries associated with a destination module/port.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gac36955cc748bbe585d3af544601c14af" title="Delete L2 entries associated with a MAC address.">bcm_l2_addr_delete_by_mac(int unit, bcm_mac_t mac, uint32 flags)</a>  </td><td>Delete L2 entries associated with a MAC address.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga4ef0e1145a17625c15c315b2bf7d5bff" title="Delete L2 entries associated with a VLAN.">bcm_l2_addr_delete_by_vlan(int unit, bcm_vlan_t vid, uint32 flags)</a>  </td><td>Delete L2 entries associated with a VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga2bd780e716d394b6a702364672b065e6" title="Delete L2 entries associated with a trunk.">bcm_l2_addr_delete_by_trunk(int unit, bcm_trunk_t tid, uint32 flags)</a>  </td><td>Delete L2 entries associated with a trunk.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga656bfd793c4587246409f479c9d0b5b4" title="Delete L2 entries associated with a MAC address and a destination module/port.">bcm_l2_addr_delete_by_mac_port(int unit, bcm_mac_t mac, bcm_module_t mod, bcm_port_t port, uint32 flags)</a>  </td><td>Delete L2 entries associated with a MAC address and a destination module/port.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga2c4156a63afed6c1aca52c2449348b00" title="Delete L2 entries associated with a VLAN and a destination module/port.">bcm_l2_addr_delete_by_vlan_port(int unit, bcm_vlan_t vid, bcm_module_t mod, bcm_port_t port, uint32 flags)</a>  </td><td>Delete L2 entries associated with a VLAN and a destination module/port.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga2a271379986de817c93c3810f5deef1f" title="Delete L2 entries associated with a VLAN and a destination module/port.">bcm_l2_addr_delete_by_vlan_trunk(int unit, bcm_vlan_t vid, bcm_trunk_t tid, uint32 flags)</a>  </td><td>Delete L2 entries associated with a VLAN and a destination module/port.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gad6bfa58758db5e8f71c53832d0e06efd" title="Replace destination (or delete) multiple L2 entries.">bcm_l2_replace(int unit, uint32 flags, bcm_l2_addr_t* match_addr, bcm_module_t new_module, bcm_port_t new_port, bcm_trunk_t new_trunk)</a>  </td><td>Replace destination (or delete) multiple L2 entries.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaf7afafd8c63c41f8ac71277ecce88e67" title="Replace destination (or delete) multiple L2 entries matching the given address and mask....">bcm_l2_replace_match(int unit, uint32 flags, bcm_l2_addr_t* match_addr, bcm_l2_addr_t* mask_addr, bcm_l2_addr_t* replace_addr, bcm_l2_addr_t* replace_mask_addr)</a>  </td><td>Replace destination (or delete) multiple L2 entries matching the given address and mask. Only bits that are 1 (turned on) in the mask will be checked when checking the match.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gafdefc2d848cfe6db0333dcfb64d30935" title="Check if an L2 entry is present in the L2 table.">bcm_l2_addr_get(int unit, bcm_mac_t mac_addr, bcm_vlan_t vid, bcm_l2_addr_t* l2addr)</a>  </td><td>Check if an L2 entry is present in the L2 table.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga05f531ebb6f4da0346adb801d2c2a815" title="Dump a hardware-independent L2 address.">bcm_l2_addr_dump(bcm_l2_addr_t* l2e)</a>  </td><td>Dump a hardware-independent L2 address.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga70ee00e8982d3866f736183085b934c7" title="Dump the key portion of a hardware-independent L2 address.">bcm_l2_key_dump(int unit, char* pfx, bcm_l2_addr_t* entry, char* sfx)</a>  </td><td>Dump the key portion of a hardware-independent L2 address.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga1ddb744382c8566dcd5244d3abb8b178" title="Register/Unregister a callback routine for BCM L2 subsystem.">bcm_l2_addr_register(int unit, bcm_l2_addr_callback_t callback, void* userdata)</a>  </td><td>Register/Unregister a callback routine for BCM L2 subsystem.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga96d1631a72d987bd0292bf1767dada1a" title="Register/Unregister a callback routine for BCM L2 subsystem.">bcm_l2_addr_unregister(int unit, bcm_l2_addr_callback_t callback, void* userdata)</a>  </td><td>Register/Unregister a callback routine for BCM L2 subsystem.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaca3e9aa61310fb7d82ac7156e5173a82" title="Set/Get the age timer.">bcm_l2_age_timer_set(int unit, int age_seconds)</a>  </td><td>Set/Get the age timer.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga17fb694ffefa1503b82af62e171453bd" title="Set/Get the age timer.">bcm_l2_age_timer_get(int unit, int* age_seconds)</a>  </td><td>Set/Get the age timer.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gafbb01c6a72b3d029771438c1a35bc2e5" title="Set/Get the age timer.">bcm_l2_age_timer_meta_cycle_set(int unit, int meta_cycle_time)</a>  </td><td>Set/Get the age timer.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga90789720692cc41db0f3de861e3d0003" title="Set/Get the age timer.">bcm_l2_age_timer_meta_cycle_get(int unit, int* meta_cycle_time)</a>  </td><td>Set/Get the age timer.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga28e0a50d424718076e8c1be529f05f4e" title="Temporarily stop/restore L2 table from changing.">bcm_l2_addr_freeze(int unit)</a>  </td><td>Temporarily stop/restore L2 table from changing.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga29c0216f0cc5dee24b631cc9fadbe9b4" title="Temporarily stop/restore L2 table from changing.">bcm_l2_addr_thaw(int unit)</a>  </td><td>Temporarily stop/restore L2 table from changing.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaac86c063689a733317233a58c873e67b" title="Given an L2 address entry, return existing addresses which could conflict.">bcm_l2_conflict_get(int unit, bcm_l2_addr_t* addr, bcm_l2_addr_t* cf_array, int cf_max, int* cf_count)</a>  </td><td>Given an L2 address entry, return existing addresses which could conflict.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gab51c1f87cacc1ac7ca6a7b67d41679bf" title="Determine if the given port is &quot;native&quot; from the point of view of L2.">bcm_l2_port_native(int unit, int modid, int port)</a>  </td><td>Determine if the given port is "native" from the point of view of L2.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga026953c28337abe4fb263e766cd55c4b" title="Initialize the L2 cache.">bcm_l2_cache_init(int unit)</a>  </td><td>Initialize the L2 cache.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga9c56076c4e5ff385095c9d52471b4067" title="Initialize an L2 cache address structure.">bcm_l2_cache_addr_t_init(bcm_l2_cache_addr_t* addr)</a>  </td><td>Initialize an L2 cache address structure.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga5da5a54f4e924d76c276c75bddd746fb" title="Get number of L2 cache entries.">bcm_l2_cache_size_get(int unit, int* size)</a>  </td><td>Get number of L2 cache entries.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga26b7d0e8a757b064a298a0b37b3c5e18" title="Set an L2 cache entry.">bcm_l2_cache_set(int unit, int index, bcm_l2_cache_addr_t* addr, int* index_used)</a>  </td><td>Set an L2 cache entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga252e98dfd40e848a77ede26d99323e14" title="Get an L2 cache entry.">bcm_l2_cache_get(int unit, int index, bcm_l2_cache_addr_t* addr)</a>  </td><td>Get an L2 cache entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaffd689d745b9cdd7fdeb290a138a541f" title="Clear an L2 cache entry.">bcm_l2_cache_delete(int unit, int index)</a>  </td><td>Clear an L2 cache entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gab9ca81f9ed67f7474bdc39659a171536" title="Clear all L2 cache entries.">bcm_l2_cache_delete_all(int unit)</a>  </td><td>Clear all L2 cache entries.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga9d6e40967cc6c6b62b64243dbaeb8ab6" title="creates and writes down to HW the bitmap profile for L2CP traps.">bcm_l2_cache_profile_set(int unit, int trap_type, uint32 profile_idx, uint32 flags, bcm_l2cp_profile_info_t* l2cp_profile_info)</a>  </td><td>creates and writes down to HW the bitmap profile for L2CP traps.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gae71ebc3092acb6c3c680e2b70f76029e" title="reads from HW the bitmap profile for L2CP traps.">bcm_l2_cache_profile_get(int unit, int trap_type, uint32 profile_idx, uint32 flags, bcm_l2cp_profile_info_t* l2cp_profile_info)</a>  </td><td>reads from HW the bitmap profile for L2CP traps.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gae1eed6a7a758eae09d35395fd77d5c41" title="links the given VPN to required profile index (from 0 to 3) for L2CP traps.">bcm_l2_cache_vpn_to_profile_map_set(int unit, uint32 vsi, uint32 profile_idx)</a>  </td><td>links the given VPN to required profile index (from 0 to 3) for L2CP traps.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaa8b886564c1a120cbfc771da19bc1fa8" title="for the given VPN returns profile index (from 0 to 3) for L2CP traps.">bcm_l2_cache_vpn_to_profile_map_get(int unit, uint32 vsi, uint32* profile_idx)</a>  </td><td>for the given VPN returns profile index (from 0 to 3) for L2CP traps.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gabd14c5961472c4f800ea2e75280a059f" title="Initialize the l2 egress structure.">bcm_l2_egress_t_init(bcm_l2_egress_t* egr)</a>  </td><td>Initialize the l2 egress structure   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga68fb4a595f9a0b6d09d888a15765a13b" title="Create an l2 egress entry.">bcm_l2_egress_create(int unit, bcm_l2_egress_t* egr)</a>  </td><td>Create an l2 egress entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gad9e31f9d3676303f27ade7f3f071c3f8" title="Destroy an l2 egress entry.">bcm_l2_egress_destroy(int unit, bcm_if_t encap_id)</a>  </td><td>Destroy an l2 egress entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga92dd763ca29e7b64ebcba48c579dfd60" title="Get the config of an l2 egress entry with specified encap_id.">bcm_l2_egress_get(int unit, bcm_if_t encap_id, bcm_l2_egress_t* egr)</a>  </td><td>Get the config of an l2 egress entry with specified encap_id.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga7ed9d911c936dc986665fe174bf2aca2" title="Find the encap_id with a given egress config.">bcm_l2_egress_find(int unit, bcm_l2_egress_t* egr, bcm_if_t* encap_id)</a>  </td><td>Find the encap_id with a given egress config   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga778b5ff6f8ffc06d26e02940c5663952" title="Iterates over all l2 egress entries and executes user callback function for each valid entry.">bcm_l2_egress_traverse(int unit, bcm_l2_egress_traverse_cb trav_fn, void* user_data)</a>  </td><td>Iterates over all l2 egress entries and executes user callback function for each valid entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga30e31cab9f83b34a4044735420ee1db9" title="Add a destination L2 address to trigger tunnel processing.">bcm_l2_tunnel_add(int unit, bcm_mac_t mac, bcm_vlan_t vlan)</a>  </td><td>Add a destination L2 address to trigger tunnel processing.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga8560e9e91410f521e0c24473ab5300b1" title="Clear a destination L2 address used to trigger tunnel processing.">bcm_l2_tunnel_delete(int unit, bcm_mac_t mac, bcm_vlan_t vlan)</a>  </td><td>Clear a destination L2 address used to trigger tunnel processing.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga0cc5072ae9167e7c87ed660b91f1b907" title="Clear all destination L2 addresses used to trigger tunnel processing.">bcm_l2_tunnel_delete_all(int unit)</a>  </td><td>Clear all destination L2 addresses used to trigger tunnel processing.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga2e01dd73c24652fc65e212739223fe98" title="Initialize an L2 learn limit structure.">bcm_l2_learn_limit_t_init(bcm_l2_learn_limit_t* limit)</a>  </td><td>Initialize an L2 learn limit structure.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga691a585ef38c2b6183e6a44620019305" title="Enable/Disable BCM L2 learn limit subsystem.">bcm_l2_learn_limit_enable(int unit)</a>  </td><td>Enable/Disable BCM L2 learn limit subsystem.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaedecc11bf5d7e3409b158c1dd03a2d4c" title="Enable/Disable BCM L2 learn limit subsystem.">bcm_l2_learn_limit_disable(int unit)</a>  </td><td>Enable/Disable BCM L2 learn limit subsystem.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gadb29adc9785b08e75bbea273d009a402" title="Set/Get L2 addresses learn limit.">bcm_l2_learn_limit_set(int unit, bcm_l2_learn_limit_t* limit)</a>  </td><td>Set/Get L2 addresses learn limit.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga06027a11fc96249762834792a7828272" title="Set/Get L2 addresses learn limit.">bcm_l2_learn_limit_get(int unit, bcm_l2_learn_limit_t* limit)</a>  </td><td>Set/Get L2 addresses learn limit.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga4c808e959dfd8a532f4b1a356db0c1e1" title="Set/Get attributes for the specified L2 learning class.">bcm_l2_learn_class_set(int unit, int lclass, int lclass_prio, uint32 flags)</a>  </td><td>Set/Get attributes for the specified L2 learning class.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga7aee8124f97ed624ea6e7759d2d6315d" title="Set/Get attributes for the specified L2 learning class.">bcm_l2_learn_class_get(int unit, int lclass, int* lclass_prio, uint32* flags)</a>  </td><td>Set/Get attributes for the specified L2 learning class.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaaf0a2247fe635ef14669673fbe5cfcaf" title="Set/Get L2 learning class for the specified port.">bcm_l2_learn_port_class_set(int unit, bcm_gport_t port, int lclass)</a>  </td><td>Set/Get L2 learning class for the specified port.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga91722902cb5b7f60e27f330a479d9d6e" title="Set/Get L2 learning class for the specified port.">bcm_l2_learn_port_class_get(int unit, bcm_gport_t port, int* lclass)</a>  </td><td>Set/Get L2 learning class for the specified port.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga252fdead7c283589a21502b57c9e766f" title="Iterates over all entries in the L2 table and executes user callback function for each entry.">bcm_l2_traverse(int unit, bcm_l2_traverse_cb trav_fn, void* user_data)</a>  </td><td>Iterates over all entries in the L2 table and executes user callback function for each entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gae6bfabf3e1cf80de0e24d50776e807d2" title="Iterates over matching entries in the L2 table and executes user callback function for each matching ...">bcm_l2_matched_traverse(int unit, uint32 flags, bcm_l2_addr_t* match_addr, bcm_l2_traverse_cb trav_fn, void* user_data)</a>  </td><td>Iterates over matching entries in the L2 table and executes user callback function for each matching entry   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaff12862082e57b5b6e897254350e9128" title="Iterates over entries in the L2 table and executes user callback function for each entry matching bot...">bcm_l2_match_masked_traverse(int unit, uint32 flags, bcm_l2_addr_t* match_addr, bcm_l2_addr_t* mask_addr, bcm_l2_traverse_cb trav_fn, void* user_data)</a>  </td><td>Iterates over entries in the L2 table and executes user callback function for each entry matching both given addr and mask.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga22588f5dd47a86bc030359aeaabb7733" title="Get the specified L2 statistic from the chip.">bcm_l2_stat_get(int unit, bcm_l2_addr_t* l2_addr, bcm_l2_stat_t stat, uint64* val)</a>  </td><td>Get the specified L2 statistic from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga8233e0101dfe3c8226a8bb77879043db" title="Get the specified L2 statistic from the chip.">bcm_l2_stat_get32(int unit, bcm_l2_addr_t* l2_addr, bcm_l2_stat_t stat, uint32* val)</a>  </td><td>Get the specified L2 statistic from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gac179f7125bc9ccf11dcebe5ca6856252" title="Set the specified L2 statistic to the indicated value.">bcm_l2_stat_set(int unit, bcm_l2_addr_t* l2_addr, bcm_l2_stat_t stat, uint64 val)</a>  </td><td>Set the specified L2 statistic to the indicated value.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga3ed7bc87cec2735bcc3a4557d9e361b6" title="Set the specified L2 statistic to the indicated value.">bcm_l2_stat_set32(int unit, bcm_l2_addr_t* l2_addr, bcm_l2_stat_t stat, uint32 val)</a>  </td><td>Set the specified L2 statistic to the indicated value.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga9df54940a7777162926571883b1cd62d" title="Enable/disable collection of statistics on the indicated L2 entry.">bcm_l2_stat_enable_set(int unit, bcm_l2_addr_t* l2_addr, int enable)</a>  </td><td>Enable/disable collection of statistics on the indicated L2 entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga5b83ed9aa493840010ef6c4097b2573e" title="Initialize an L2 SA authentication structure to a specified MAC address and VLAN ID.">bcm_l2_auth_addr_t_init(bcm_l2_auth_addr_t* addr)</a>  </td><td>Initialize an L2 SA authentication structure to a specified MAC address and VLAN ID.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaf8c5d53bf8c9253039bfbd94a82ef79c" title="Add an L2 authentication entry.">bcm_l2_auth_add(int unit, bcm_l2_auth_addr_t* addr)</a>  </td><td>Add an L2 authentication entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gacdd0535ce97e34b49ea80c057535978e" title="Get an L2 authentication entry.">bcm_l2_auth_get(int unit, bcm_l2_auth_addr_t* addr)</a>  </td><td>Get an L2 authentication entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga22f55d06d5649a8eea9fc0bb0b8355c8" title="Delete an L2 authentication entry.">bcm_l2_auth_delete(int unit, bcm_l2_auth_addr_t* addr)</a>  </td><td>Delete an L2 authentication entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga32cea2aab048adb4fd5a68890d978822" title="Clear all L2 authentication entries.">bcm_l2_auth_delete_all(int unit)</a>  </td><td>Clear all L2 authentication entries.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gadd779a22f719283b63741b9fd1ac6d93" title="Iterates over all l2 authentication entriesand executes user call back function for each valid entry.">bcm_l2_auth_traverse(int unit, bcm_l2_auth_traverse_cb trav_fn, void* user_data)</a>  </td><td>Iterates over all l2 authentication entriesand executes user call back function for each valid entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga4bd31f8dae972301b283b728f1195e97" title="Initialize an empty L2 ring failover structure.">bcm_l2_ring_t_init(bcm_l2_ring_t* l2_ring)</a>  </td><td>Initialize an empty L2 ring failover structure.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaf465cccd393fbd0b835cdd2cbc95be15" title="Invoke accelerated L2 ring failover mechanism.">bcm_l2_ring_replace(int unit, bcm_l2_ring_t* l2_ring)</a>  </td><td>Invoke accelerated L2 ring failover mechanism   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga1f192d2d25181efaf67ffb40b4e91372" title="Initialize L2 Station structure.">bcm_l2_station_t_init(bcm_l2_station_t* addr)</a>  </td><td>Initialize L2 Station structure   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga3e9b6b3dbc1fdd2f88f75fda2395dbd3" title="Add an entry to L2 Station table.">bcm_l2_station_add(int unit, int* station_id, bcm_l2_station_t* station)</a>  </td><td>Add an entry to L2 Station table   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga3ad3ff98472416c71f431744a797ca97" title="Delete an entry from L2 Station Table.">bcm_l2_station_delete(int unit, int station_id)</a>  </td><td>Delete an entry from L2 Station Table   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaa1ace3a920e8b050e6c0396ce5e0c0e8" title="Clear L2 station table.">bcm_l2_station_delete_all(int unit)</a>  </td><td>Clear L2 station table   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga7c67d2551741e23913a99c27a7e0ac44" title="Get L2 station entry details from Station Table.">bcm_l2_station_get(int unit, int station_id, bcm_l2_station_t* station)</a>  </td><td>Get L2 station entry details from Station Table.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaeee040c717a899267aeb72344140eb86" title="Get size of L2 Station Table.">bcm_l2_station_size_get(int unit, int* size)</a>  </td><td>Get size of L2 Station Table   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gadee856a6fa333bbfa7101c74d2b945da" title="Iterates over all entries in the L2 station table and executes user callback function for each entry.">bcm_l2_station_traverse(int unit, bcm_l2_station_traverse_cb trav_fn, void* user_data)</a>  </td><td>Iterates over all entries in the L2 station table and executes user callback function for each entry.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga84061bfca194e9e64267840d857f83f2" title="Per VSI, get which events (learn, station move (transplant), aged-out) to inform CPU about.">bcm_l2_addr_msg_distribute_get(int unit, bcm_l2_addr_distribute_t* distribution)</a>  </td><td>Per VSI, get which events (learn, station move (transplant), aged-out) to inform CPU about.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga717bbda7cae05f850cd161679b6b365d" title="Per VSI set which events (learn, station move (transplant), aged-out) to inform CPU about.">bcm_l2_addr_msg_distribute_set(int unit, bcm_l2_addr_distribute_t* distribution)</a>  </td><td>Per VSI set which events (learn, station move (transplant), aged-out) to inform CPU about.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gabde8066227029e5641872402eed855f3" title="Get device configuration for distribution of learning messages to other devices in system and/or moni...">bcm_l2_learn_msgs_config_get(int unit, bcm_l2_learn_msgs_config_t* learn_msg_config)</a>  </td><td>Get device configuration for distribution of learning messages to other devices in system and/or monitoring CPU.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gad6ce01a385947e92d57e24a90f0574cf" title="Set device to distribute learning message to other devices in system and/or monitoring CPU.">bcm_l2_learn_msgs_config_set(int unit, bcm_l2_learn_msgs_config_t* learn_msg_config)</a>  </td><td>Set device to distribute learning message to other devices in system and/or monitoring CPU.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gab233bfb560f052cbc14f9ded50dd1feb" title="Get the forwarding information for the given gport.">bcm_l2_gport_forward_info_get(int unit, int gport_id, bcm_l2_gport_forward_info_t* forward_info)</a>  </td><td>Get the forwarding information for the given gport.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga8f92cc27ff433737f1404729cc6e7c19" title="Purge L2 Entries for the specific set of (port,vlan) pairs.">bcm_l2_addr_delete_by_vlan_gport_multi(int unit, uint32 flags, int num_pairs, bcm_vlan_t* vlan, bcm_gport_t* gport)</a>  </td><td>Purge L2 Entries for the specific set of (port,vlan) pairs.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga24032f71539975f005e8f8a5eebe1b5a" title="Initialize an L2 learned statistic structure.">bcm_l2_learn_stat_t_init(bcm_l2_learn_stat_t* learn_stat)</a>  </td><td>Initialize an L2 learned statistic structure.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga3ff66e1557081add7a732b883beaefea" title="Get the statistic of the specified L2 hash counter from chip.">bcm_l2_learn_stat_get(int unit, bcm_l2_learn_stat_t* learn_stat)</a>  </td><td>Get the statistic of the specified L2 hash counter from chip.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaa9fcb8833a7f79e1a0db889ed11f9669" title="Set or clear the specified L2 hash counter to the indicated value.">bcm_l2_learn_stat_set(int unit, bcm_l2_learn_stat_t* learn_stat)</a>  </td><td>Set or clear the specified L2 hash counter to the indicated value.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga65b1a5e6c49148e01bc532280f6ba6e3" title="Add mutli L2 address entry to the specified device.">bcm_l2_addr_multi_add(int unit, bcm_l2_addr_t* l2addr, int count)</a>  </td><td>Add mutli L2 address entry to the specified device.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga85fe9874a913d8293aaf239b348811b8" title="Delete multi L2 address entry from the specified device.">bcm_l2_addr_multi_delete(int unit, bcm_l2_addr_t* l2addr, int count)</a>  </td><td>Delete multi L2 address entry from the specified device.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#gaf09a20a08e7dace60a6e3930cff9a1bd" title="Retrieve a MAC entry according to mac, vid (used as VSI) and modid. When modid != 0 it should hold a ...">bcm_l2_addr_by_struct_get(int unit, bcm_l2_addr_t* l2addr)</a>  </td><td>Retrieve a MAC entry according to mac, vid (used as VSI) and modid. When modid != 0 it should hold a VLAN ID for IVL entries.   </td></tr>
<tr>
<td><a class="el" href="group__l2.html#ga89430148eba587244f441e20d83954dd" title="Delete a MAC entry according to mac, vid (used as VSI) and modid. When modid != 0 it should hold a VL...">bcm_l2_addr_by_struct_delete(int unit, bcm_l2_addr_t* l2addr)</a>  </td><td>Delete a MAC entry according to mac, vid (used as VSI) and modid. When modid != 0 it should hold a VLAN ID for IVL entries.   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2019 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
