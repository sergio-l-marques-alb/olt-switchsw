<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Time Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Time Configuration </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following section describes the time APIs.</p>
<h1><a class="anchor" id="time_synchronization"></a>
Time Synchronization</h1>
<p>The BCM Time Synchronization API allows network application developers to synchronize variety of system types and devices and accurately propagate time information throughout a network.</p>
<p>Fundamental to the use of Time Synchronization is Time Interface which allows to manage clocks on a device.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__time.html#ga3a3997bc6973f1510cfb22ea698a7e89">bcm_bs_time_source_e</a> {</div><div class="line">    <a class="code" href="group__time.html#gga3a3997bc6973f1510cfb22ea698a7e89a26f1ff09812316df0b6add56a2f1388c">bcmBsTimeSourceNotLocked</a>        = 0, <span class="comment">/* No time-code received, Holdover mode or Not Locked */</span></div><div class="line">    <a class="code" href="group__time.html#gga3a3997bc6973f1510cfb22ea698a7e89aadd1ec46439e39f5eccf51425086e4c8">bcmBsTimeSourceAcquiring</a>        = 1, <span class="comment">/* Acquiring state */</span></div><div class="line">    <a class="code" href="group__time.html#gga3a3997bc6973f1510cfb22ea698a7e89acf1dacda5501fc58c6fec3edae516270">bcmBsTimeSourceExcessiveJitter</a>  = 2, <span class="comment">/* Acquiring state but locked with excessive jitter */</span></div><div class="line">    <a class="code" href="group__time.html#gga3a3997bc6973f1510cfb22ea698a7e89ae0428ebb7774835fee7de2dde9d7fb4a">bcmBsTimeSourceLocked</a>           = 3 <span class="comment">/* Locked State*/</span></div><div class="line">} <a class="code" href="group__time.html#gad4c4612571cd082f73989119ca3a00e0">bcm_bs_time_source_t</a>;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>       <a class="code" href="structbcm__time__spec__s.html#a64149f0a6f24f9358b851b8f66bca9c8">isnegative</a>;      <span class="comment">/* negative time indicator */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#aa3ad64cf41ec3a042bd92550cc6ed308">uint64</a>      <a class="code" href="structbcm__time__spec__s.html#a968296cc534e122ddd997d0fbc465bce">seconds</a>;         <span class="comment">/* Absolute value of Seconds. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>      <a class="code" href="structbcm__time__spec__s.html#adcddcaaa41a0212321eaa77dcc446c4d">nanoseconds</a>;     <span class="comment">/* Absolute value of Nanoseconds. */</span></div><div class="line">} <a class="code" href="group__types.html#ga8329043d99e2854e9665c95930b64dc7">bcm_time_spec_t</a>;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__time__interface__s.html">bcm_time_interface_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>          <a class="code" href="structbcm__time__interface__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;        <span class="comment">/* Flags BCM_TIME_* */</span></div><div class="line">    <a class="code" href="group__time.html#ga725e88076c2f90e6c31c01c13d3eb9d1">bcm_time_if_t</a>   <a class="code" href="structbcm__time__interface__s.html#aa43425f03279204ea02435d45df74081">id</a>;           <span class="comment">/* Time Interface Identifier */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__interface__s.html#af2ee3b3c74bace4604bcf01bd6084f69">drift</a>         <span class="comment">/* Drif numerator out of 125 MHz */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__interface__s.html#a8e97a1abe988b600a771baa91664f83d">offset</a>;       <span class="comment">/* Offset */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__interface__s.html#af973341cdeca4dfc42350ae11ff6c063">accuracy</a>;     <span class="comment">/* Accuracy */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__time__interface__s.html#a06c1315091fcc83b5a7dc7f6a6a5eaea">heartbeat_hz</a>;             <span class="comment">/* HeartBeat Rate in Hertz*/</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__time__interface__s.html#a31da17ab227edf2d83e478440497ffde">clk_resolution</a>;           <span class="comment">/* Reference clock resolution in nsecs */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__time__interface__s.html#afb787b6ae432a8d0cf1fa889615aac07">bitclock_hz</a>;              <span class="comment">/* BitClock frequency */</span></div><div class="line">    <a class="code" href="group__time.html#gad4c4612571cd082f73989119ca3a00e0">bcm_bs_time_source_t</a> <a class="code" href="structbcm__time__interface__s.html#a3411534a5b0d43f6d49ad3f7c517aaa2">status</a>;  <span class="comment">/* BroadSync Status */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__interface__s.html#aa083c66f1dbbe81f0d60600e8c0951f8">ntp_offset</a>;   <span class="comment">/* NTP Offset */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__interface__s.html#a52305a1de1a39b9c366cebbf4917a915">bs_time</a>;      <span class="comment">/* UTC time or system time for BroadSync Master */</span></div><div class="line">} <a class="code" href="group__time.html#ga2046ee2465d66e1a9bf3a438062fadd7">bcm_time_interface_t</a>;</div></div><!-- fragment --><ul>
<li>To get a capture of running clock on a device following structure is used. <div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__time__capture__s.html">bcm_time_capture_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__time__capture__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* Flags BCM_TIME_CAPTURE_* */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__capture__s.html#a79ef925e40248f11773a3c45a9392e7c">free</a>;               <span class="comment">/* Free running clock */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__capture__s.html#aa91710e3e50d2dabac20d813bf5dbff9">syntonous</a>;          <span class="comment">/* Syntonous clock */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__capture__s.html#aec745d543729efb45548462df7a3bd82">synchronous</a>;        <span class="comment">/* Synchronous clock */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__capture__s.html#a9eb461cef5f4a1b257008ecaf12abe8b">received</a>;           <span class="comment">/* Received clock */</span></div><div class="line">    <a class="code" href="structbcm__time__spec__s.html">bcm_time_spec_t</a> <a class="code" href="structbcm__time__capture__s.html#a7930f5ef4df39fbeb8c17366098bb9ba">received_accuracy</a>;  <span class="comment">/* Received clock accuracy */</span></div><div class="line">    <a class="code" href="group__types.html#gad7e36a8d90f5765e8ca58770666c0860">bcm_port_t</a> <a class="code" href="structbcm__time__capture__s.html#a1ce53999f0a069c5ce2e2716f19178ba">port</a>;                    <span class="comment">/* Port number */</span></div><div class="line">    <a class="code" href="group__time.html#ga9dc81f878f33dfa03338b217cfe0cba1">bcm_time_port_event_t</a> <a class="code" href="structbcm__time__capture__s.html#a0fb13c46a27db8c74d83f67b0e68b62b">port_event_type</a>; <span class="comment">/* Port related event type */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__time__capture__s.html#af28775f14f1f9836265b286a69b675ef">event_divisor</a>;               <span class="comment">/* Divisor value for a ts event */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__time__capture__s.html#a98824d60485491d5c57b98035d4ea97e">ts_counter</a>;                     <span class="comment">/* Sample on TS0(0), TS1(1) */</span></div><div class="line">} <a class="code" href="group__time.html#ga9ecc0638212a8d45f61900a84c4afe72">bcm_time_capture_t</a>;</div></div><!-- fragment --></li>
<li>The <code>flags</code> field in the structure is the logical OR of the flags listed in <a class="el" href="time.html#bcm_time_synchronization_flags">BCM Time Synchronization Flags</a></li>
</ul>
<p><a class="anchor" id="BCM_Time_Synchronization_Flags"></a></p><a class="anchor" id="bcm_time_synchronization_flags"></a>
<table class="doxtable">
<caption>BCM Time Synchronization Flags</caption>
<tr>
<th>Name </th><th>Description  </th></tr>
<tr>
<td>BCM_TIME_ENABLE </td><td>Enable Time Synchronization Interface  </td></tr>
<tr>
<td>BCM_TIME_WITH_ID </td><td>Used to updated existing Interface  </td></tr>
<tr>
<td>BCM_TIME_INPUT </td><td>Current interface will expect time synch messages as an input  </td></tr>
<tr>
<td>BCM_TIME_REPLACE </td><td>Settings of existing Interface will be overwritten by settings provided in the structure, according the following flags.  </td></tr>
<tr>
<td>BCM_TIME_DRIFT </td><td>Get/Set the Drift for Interface, the drift parameter defined as amount of time to drift per 1 second  </td></tr>
<tr>
<td>BCM_TIME_OFFSET </td><td>Get/Set the Offset for Interface  </td></tr>
<tr>
<td>BCM_TIME_ACCURACY </td><td>Accuracy of the clock on the interface  </td></tr>
<tr>
<td>BCM_TIME_HEARTBEAT </td><td>Heartbeat rate will be updated for Interface can vary from 8 KHz down to 1Hz.  </td></tr>
<tr>
<td>BCM_TIME_LOCKED </td><td>Received time is locked on grand master's time  </td></tr>
<tr>
<td>BCM_TIME_REF_CLOCK </td><td>Enable Reference clock.  </td></tr>
<tr>
<td>BCM_TIME_SYNC_STAMPER </td><td>Enable BroadSync timestamper sync  </td></tr>
<tr>
<td>BCM_TIME_NTP_OFFSET </td><td>Get/Set the NTP Offset for Interface  </td></tr>
</table>
<ul>
<li>Time capture flags</li>
</ul>
<p><a class="anchor" id="BCM_Time_Capture_Flags"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>BCM Time Capture Flags</caption>
<tr>
<th>Name </th><th>Description  </th></tr>
<tr>
<td>BCM_TIME_CAPTURE_LOCKED </td><td>Captured Time is locked on grand master's time  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_GPIO_0 </td><td>Capture Time at rising edge of GPIO 0  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_GPIO_1 </td><td>Capture Time at rising edge of GPIO 1  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_GPIO_2 </td><td>Capture Time at rising edge of GPIO 2  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_GPIO_3 </td><td>Capture Time at rising edge of GPIO 3  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_GPIO_4 </td><td>Capture Time at rising edge of GPIO 4  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_GPIO_5 </td><td>Capture Time at rising edge of GPIO 5  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_L1_CLOCK_PRIMARY </td><td>Capture Time at rising edge of primary L1  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_L1_CLOCK_SECONDARY </td><td>Capture Time at rising edge of primary L2  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_LCPLL </td><td>Capture Time at rising edge of LCPLL  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_IP_DM_0 </td><td>Capture Time at rising edge of DM0  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_IP_DM_1 </td><td>Capture Time at rising edge of DM1  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_IMMEDIATE </td><td>Capture Immediate  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_BS0HB </td><td>Capture Time at rising edge of BroadSync 0  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_BS1HB </td><td>Capture Time at rising edge of BroadSync 1  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_TS1TS </td><td>Capture Time of TS1 event  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_BS0PLL </td><td>Capture Time of rising edge of BroadSync0 PL  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_BS1PLL </td><td>Capture Time of rising edge of BroadSync1 PL  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_RSVD1IF </td><td>Capture Time of rising edge of RSVD1 interfac  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_RSVD1RF </td><td>Capture Time of rising edge of RSVD2 counte  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_BS0CONVTC </td><td>Capture Time of BroadSync0 converted timecode  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_BS1CONVTC </td><td>Capture Time of BroadSync1 converted timecod  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_LCPLL1 </td><td>Capture Time at rising edge of LCPLL1  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_LCPLL2 </td><td>Capture Time at rising edge of LCPLL2  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_LCPLL3 </td><td>Capture Time at rising edge of LCPLL3  </td></tr>
<tr>
<td>BCM_TIME_CAPTURE_PORT </td><td>Capture Time at port  </td></tr>
</table>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__time.html#ga8e0a268730cfd1b90e31a6c1349a07d6">bcm_time_port_event_e</a> {</div><div class="line">    <a class="code" href="group__time.html#gga8e0a268730cfd1b90e31a6c1349a07d6a8cf3a2fbe313327e425bce3f59c0993e">bcmTimePortEventRXSOF</a> = 0,  <span class="comment">/* CPRI port receive SOF input event */</span></div><div class="line">    <a class="code" href="group__time.html#gga8e0a268730cfd1b90e31a6c1349a07d6a5babe793d9912c91758ccf5254fe7299">bcmTimePortEventTXSOF</a> = 1,  <span class="comment">/* CPRI port transmit SOF input event */</span></div><div class="line">    <a class="code" href="group__time.html#gga8e0a268730cfd1b90e31a6c1349a07d6aaa1602ed56eff52b7f2352916c8a3fa3">bcmTimePortEventROE</a> = 2,    <span class="comment">/* CPRI ROE timestamp event */</span></div><div class="line">    <a class="code" href="group__time.html#gga8e0a268730cfd1b90e31a6c1349a07d6a17b69d7283d1aaedb13701111db8bcb1">bcmTimePortEventRXCDR</a> = 3,  <span class="comment">/* Port receive CDR event */</span></div><div class="line">    <a class="code" href="group__time.html#gga8e0a268730cfd1b90e31a6c1349a07d6a6e8d6184bc77e0563ce3a0ba8ff5d0ff">bcmTimePortEventTXPI</a> = 4    <span class="comment">/* Port TXPI event */</span></div><div class="line">} <a class="code" href="group__time.html#ga9dc81f878f33dfa03338b217cfe0cba1">bcm_time_port_event_t</a>;</div></div><!-- fragment --><ul>
<li>Capture callback types for the specific event types</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__time.html#ga60a8e9c72d19eff7cde4cca63410a8bd">bcm_time_capture_cb_type_e</a> {</div><div class="line">    <a class="code" href="group__time.html#gga60a8e9c72d19eff7cde4cca63410a8bda97f6bb5958352a87cee7234889f77072">bcmTimeCaptureOverflow</a> = 0, <span class="comment">/* Cb will be called only on overflow */</span></div><div class="line">    <a class="code" href="group__time.html#gga60a8e9c72d19eff7cde4cca63410a8bda608d2b6ec86696181a24b1e5e8105f20">bcmTimeCapturetFill</a> = 1,    <span class="comment">/* Cb will be called only for ts events */</span></div><div class="line">    <a class="code" href="group__time.html#gga60a8e9c72d19eff7cde4cca63410a8bdaf40974ab5bbc1379dacec2ce992aedb4">bcmTimeCaptureAll</a> = 2       <span class="comment">/* Cb will be called for both overflow and ts</span></div><div class="line"><span class="comment">                                   events */</span></div><div class="line">} <a class="code" href="group__time.html#ga589b7f76c82b07b1befd621b15ddf388">bcm_time_capture_cb_type_t</a>;</div></div><!-- fragment --><h2><a class="anchor" id="timesync_apis"></a>
Timesync APIs</h2>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__time.html#ga971c4ed6bd5ec319c7cf410873b5f6b4" title="Initialize time module.">bcm_time_init(int unit)</a>  </td><td>Initialize time module.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga068edf23a67b4a3b4c8bcd19275a9124" title="Uninitialize time module.">bcm_time_deinit(int unit)</a>  </td><td>Uninitialize time module.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#gad0eb6b498244eb28fbfe285fa8e39a92" title="Initialize bcm_time_spec_t structure.">bcm_time_spec_t_init(bcm_time_spec_t* spec)</a>  </td><td>Initialize bcm_time_spec_t structure.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga9647bde5869e15fe39556b3475c3d6f2" title="Initialize bcm_time_interface_t structure.">bcm_time_interface_t_init(bcm_time_interface_t* intf)</a>  </td><td>Initialize bcm_time_interface_t structure   </td></tr>
<tr>
<td><a class="el" href="group__time.html#gab8229e16e5cbb499bd1a3fca52e44568" title="Initialize bcm_time_capture_t structure.">bcm_time_capture_t_init(bcm_time_capture_t* capture)</a>  </td><td>Initialize bcm_time_capture_t structure.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga5a47321d255b7ef24a2868dd043c7819" title="Creates a Time Synchronization Interface.">bcm_time_interface_add(int unit, bcm_time_interface_t* intf)</a>  </td><td>Creates a Time Synchronization Interface   </td></tr>
<tr>
<td><a class="el" href="group__time.html#gae8cf2743c7ebf8cd79479aefaaed6f79" title="Deletes a Time Synchronization Interface.">bcm_time_interface_delete(int unit, bcm_time_if_t intf_id)</a>  </td><td>Deletes a Time Synchronization Interface.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga249d199ccd230eaa02640cf5dd9ba658" title="Retrieve the Time Synchronization Interface.">bcm_time_interface_get(int unit, bcm_time_interface_t* intf)</a>  </td><td>Retrieve the Time Synchronization Interface.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga3b538082e25e93d53bfd741cbc6f65c3" title="Removes all interfaces on a given device.">bcm_time_interface_delete_all(int unit)</a>  </td><td>Removes all interfaces on a given device.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga5dc0e9f8f891a226a22ed466fe37d06c" title="Iterates over all Time Synchronization Interfaces.">bcm_time_interface_traverse(int unit, bcm_time_interface_traverse_cb cb, void* user_data)</a>  </td><td>Iterates over all Time Synchronization Interfaces.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#gac04167dd2d17db3d93c94320ea5551a3" title="Retrieves time capture from the device.">bcm_time_capture_get(int unit, bcm_time_if_t intf_id, bcm_time_capture_t* time)</a>  </td><td>Retrieves time capture from the device.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga56c5a3d4dfea9ee477d468f0d78a5d6e" title="Set External time capture modes.">bcm_time_trigger_enable_set(int unit, bcm_time_if_t id, uint32 mode_flags)</a>  </td><td>Set External time capture modes   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga712cab71713e074d60999bedf36b8b16" title="Get External time capture modes.">bcm_time_trigger_enable_get(int unit, bcm_time_if_t id, uint32* mode_flags)</a>  </td><td>Get External time capture modes   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga5d82450cf07d61ce40b2cd1866f31bc7" title="Enable/Disable FIFO timestamp capture for a particular event.">bcm_time_capture_enable_set(int unit, bcm_time_if_t id, bcm_time_capture_t* time_capture, int enable, int* capture_handle)</a>  </td><td>Enable/Disable FIFO timestamp capture for a particular event   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga04e818f7e5082a72ba4f9ae75f7e4dc6" title="Register callback function for a given type.">bcm_time_capture_cb_register(int unit, bcm_time_if_t id, bcm_time_capture_cb_type_t cb_type, bcm_time_capture_cb cb, void* user_data)</a>  </td><td>Register callback function for a given type   </td></tr>
<tr>
<td><a class="el" href="group__time.html#gae65640a0c4f3fc3fb7e24489a0448b22" title="Un-register callback function for a given time event type.">bcm_time_capture_cb_unregister(int unit, bcm_time_if_t id, bcm_time_capture_cb_type_t cb_type)</a>  </td><td>Un-register callback function for a given time event type   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga15696730aa59778e06cc51458dd31384" title="Set counter values for timestamping.">bcm_time_ts_counter_set(int unit, bcm_time_ts_counter_t* counter)</a>  </td><td>Set counter values for timestamping.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#gadc69343a64d277cddacebee46fcff2f3" title="Set counter values for timestamping.">bcm_time_ts_counter_get(int unit, bcm_time_ts_counter_t* counter)</a>  </td><td>Set counter values for timestamping.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga19adb9e2c3f145bb3ac9aa169613347c" title="Set counter values for timestamping.">bcm_time_ts_offset_set(int unit, int64 ts_offset, uint64 ts_update_intv, int ts_counter)</a>  </td><td><p class="starttd">Set counter values for timestamping.  </p>
<p class="endtd"></p>
</td></tr>
</table>
<h1><a class="anchor" id="broadsync_config"></a>
BroadSync&amp;tm Interface Management</h1>
<p>The purpose of BroadSync interface is to enable synchronization of time-based events between different devices in a system. BroadSync&amp;tm is a proprietary solution that achieves this synchronization in Broadcom&amp;tm switches.</p>
<h2><a class="anchor" id="bs_data_types"></a>
BroadSync Data Types</h2>
<ul>
<li>To configure logging for BroadSync the following structure is used. <div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__time__bs__log__cfg__s.html">bcm_time_bs_log_cfg_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#a5a6e60962770c3bc4420e8cbbafef377">debug_mask</a>;              <span class="comment">/* BCM_BS_LOG_NONE:To disable BCM_BS_LOG_SYS_ALL:To enable*/</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#aa3ad64cf41ec3a042bd92550cc6ed308">uint64</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#a8db000745b0970af515e4e39eab30baa">udp_log_mask</a>;            <span class="comment">/* mask for udp log */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#aa921daa2f03946ed7c419003a5682c7c">src_mac</a>;              <span class="comment">/* source mac address */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#a488f6cff32476dbb3c737696cef93791">dest_mac</a>;             <span class="comment">/* destination mac address */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#a32ad75ce30562c526f5b504fbb0187c1">tpid</a>;                    <span class="comment">/* TPID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#a6e65c9c55fc9513c83b18e29b422ffbe">vid</a>;                     <span class="comment">/* vlan id */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#ae02775d2432ca36401c2953643720b4b">ttl</a>;                      <span class="comment">/* time-to-live */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#acd7f297beac873edf5d41fe4e87247e4">src_addr</a>;              <span class="comment">/* source ipv4 address */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#aaa63258376eaaf78056a50fe9f8a57bd">dest_addr</a>;             <span class="comment">/* destination ipv4 address */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__time__bs__log__cfg__s.html#ac18ff2d0f698b01b23cf6306a422c343">udp_port</a>;                <span class="comment">/* udp port number */</span></div><div class="line">} <a class="code" href="group__time.html#gaf21e8ecb95edad426c57433ebd14f35f">bcm_time_bs_log_cfg_t</a>;</div></div><!-- fragment --></li>
</ul>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>BCM BS log configure debug mask values</caption>
<tr>
<th>Name </th><th>Description  </th></tr>
<tr>
<td>BCM_BS_LOG_NONE </td><td>Disable logs  </td></tr>
<tr>
<td>BCM_BS_LOG_SYS_INFO </td><td>BS log level INFO  </td></tr>
<tr>
<td>BCM_BS_LOG_SYS_WARN </td><td>BS log level Warning  </td></tr>
<tr>
<td>BCM_BS_LOG_SYS_ERR </td><td>BS log level Error  </td></tr>
<tr>
<td>BCM_BS_LOG_SYS_CRIT </td><td>BS log level Critical  </td></tr>
<tr>
<td>BCM_BS_LOG_SYS_ALL </td><td>Enable all logs  </td></tr>
</table>
<ul>
<li>The <a class="el" href="group__time.html#bcm_time_interface_add">bcm_time_interface_add</a> is the primary API used to configure the BroadSync interface.</li>
</ul>
<h2><a class="anchor" id="bs_apis"></a>
BroadSync APIs</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API  </th><th class="markdownTableHeadNone">Brief   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga9647bde5869e15fe39556b3475c3d6f2" title="Initialize bcm_time_interface_t structure.">bcm_time_interface_t_init(bcm_time_interface_t* intf)</a>  </td><td class="markdownTableBodyNone">Initialize bcm_time_interface_t structure   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga5a47321d255b7ef24a2868dd043c7819" title="Creates a Time Synchronization Interface.">bcm_time_interface_add(int unit, bcm_time_interface_t* intf)</a>  </td><td class="markdownTableBodyNone">Creates a Time Synchronization Interface   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga074aadf585275cb9719aa3ed4e11a650" title="Configures the BroadSync logging.">bcm_time_bs_log_configure_set(int unit, bcm_time_bs_log_cfg_t bs_log_cfg)</a>  </td><td class="markdownTableBodyNone">Configures the BroadSync logging   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga7b6582f5cddccce063e51fa1ef09518c" title="Get the BroadSync logging configuration.">bcm_time_bs_log_configure_get(int unit, bcm_time_bs_log_cfg_t* bs_log_cfg)</a>  </td><td class="markdownTableBodyNone">Get the BroadSync logging configuration   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga0b85a1b7ef8e001d26e02842ef1ad976" title="Retrieves broadsync time from device.">bcm_time_bs_time_get(int unit, bcm_time_spec_t* bs_time)</a>  </td><td class="markdownTableBodyNone">Retrieves broadsync time from device   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga5fed2e33306c3e9e55f424e5506dcedb" title="Enables/Disables interrupt handling for each heartbeat provided by a clock.">bcm_time_heartbeat_enable_set(int unit, bcm_time_if_t id, int enable)</a>  </td><td class="markdownTableBodyNone">Enables/Disables interrupt handling for each heartbeat provided by a clock.   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga28739815d09b679b00d9edfc4a9edbd4" title="Retrieves the status of interrupt handling for each heartbeat provided by a clock.">bcm_time_heartbeat_enable_get(int unit, bcm_time_if_t id, int* enable)</a>  </td><td class="markdownTableBodyNone">Retrieves the status of interrupt handling for each heartbeat provided by a clock.   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga08ed33611bd216f058aea91ab0b37b32" title="Register a callback function to be called on each heartbeat.">bcm_time_heartbeat_register(int unit, bcm_time_if_t id, bcm_time_heartbeat_cb f, void* user_data)</a>  </td><td class="markdownTableBodyNone">Register a callback function to be called on each heartbeat.   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga3da2e973aedc104b770bfd4e6b7e588e" title="Unregister a callback function .">bcm_time_heartbeat_unregister(int unit, bcm_time_if_t id)</a>  </td><td class="markdownTableBodyNone">Unregister a callback function .   </td></tr>
</table>
<h1><a class="anchor" id="to_config"></a>
Time Of Day Configuration</h1>
<p>Time of the day configuration support in Broadcom StrataXGS switche solutions.</p>
<h2><a class="anchor" id="tod_data_types"></a>
TOD Data Types</h2>
<ul>
<li>The <a class="el" href="group__time.html#ga6ce8695acda3b58d7add34786008997d">bcm_time_format_t</a> enumeration specifies the format of the tod info to be configured.</li>
<li>Testing reference to an API <a class="el" href="group__time.html#bcm_time_tod_set">bcm_time_tod_set</a></li>
</ul>
<h2><a class="anchor" id="tod_apis"></a>
TOD APIs</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API  </th><th class="markdownTableHeadNone">Brief   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga01a2cb3b00f6da85d0d9b19941adddfd" title="Initialize tod structure for timestamping.">bcm_time_tod_t_init(bcm_time_tod_t* tod)</a>  </td><td class="markdownTableBodyNone">Initialize bcm_time_tod_t structure   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga4bf88db76860d23e2f108b49e834101c" title="Set time of the day values at various stages in ASIC.">bcm_time_tod_set(int unit, uint32 stages, bcm_time_tod_t* tod)</a>  </td><td class="markdownTableBodyNone">Set time of the day values at various stages in ASIC.   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga200bad28fcf07ac75f7e1b897e450bc9" title="Get time of the day values at various stages in ASIC.">bcm_time_tod_get(int unit, uint32 stages, bcm_time_tod_t* tod)</a>  </td><td class="markdownTableBodyNone">Get time of the day values at various stages in ASIC.   </td></tr>
</table>
<h1><a class="anchor" id="syncE"></a>
Synchronous Ethernet</h1>
<p>Synchronous Ethernet (SyncE) and packet timing using the IEEE 1588 protocol are key solutions to the transport of frequency synchronization over packet networks which will ultimately drive the interoperability of carrier Ethernet and legacy networks. TSC-Eagle, TSC-Falcon and TSC-Blackhawk serdes cores have clock divisor hardware block to adjust output clock frequency for syncE.</p>
<h2><a class="anchor" id="synce_data_types"></a>
SyncE Data Types</h2>
<ul>
<li>The bcm_time_synce_clock_src_type_t typedef is used to specify which Primary/Secondary source is to be configured.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__time.html#ga803c2a850d2f37ac7ac5ed0e8c11cd5d">bcm_time_synce_clock_src_type_e</a> {</div><div class="line">    <a class="code" href="group__time.html#gga803c2a850d2f37ac7ac5ed0e8c11cd5daa2f92d27322cf8bf3ff6fba375a34d94">bcmTimeSynceClockSourcePrimary</a> = 0, <span class="comment">/* Primary Clock Source */</span></div><div class="line">    <a class="code" href="group__time.html#gga803c2a850d2f37ac7ac5ed0e8c11cd5da4b325001d6ddf6bacd424f716b4d21c9">bcmTimeSynceClockSourceSecondary</a> = 1 <span class="comment">/* Secondary Clock Source */</span></div><div class="line">} <a class="code" href="group__time.html#gaed186e242473c9e7ba99eefa5034b91d">bcm_time_synce_clock_src_type_t</a>;</div></div><!-- fragment --><ul>
<li>The bcm_time_synce_input_src_type_t typedef is used to specify the input source type.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__time.html#ga93822d735f6d1a1d971b70becbb607fe">bcm_time_synce_input_src_type_e</a> {</div><div class="line">    <a class="code" href="group__time.html#gga93822d735f6d1a1d971b70becbb607feaed7b3be7fd8b516eeabd9674559b3dda">bcmTimeSynceInputSourceTypePort</a> = 0, <span class="comment">/* Input Source Port */</span></div><div class="line">    <a class="code" href="group__time.html#gga93822d735f6d1a1d971b70becbb607fea0986fe842a3a084a7f211e0b3afd53f8">bcmTimeSynceInputSourceTypePLL</a> = 1  <span class="comment">/* Input Source PLL */</span></div><div class="line">} <a class="code" href="group__time.html#gab2c87ee4b7507a742f84f21f09677571">bcm_time_synce_input_src_type_t</a>;</div></div><!-- fragment --><ul>
<li>The bcm_time_synce_stage0_mode_t typedef is used to specify the stage0 mode.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__time.html#gaf52ffef10349166b27b2eba4054eb0f1">bcm_time_synce_stage0_mode_e</a> {</div><div class="line">    <a class="code" href="group__time.html#ggaf52ffef10349166b27b2eba4054eb0f1a0da5223049b4251800ec3670ab3f4ee0">bcmTimeSynceModeBypass</a> = 0,     <span class="comment">/* Stage0 Mode Bypass */</span></div><div class="line">    <a class="code" href="group__time.html#ggaf52ffef10349166b27b2eba4054eb0f1ac970ce4fb4c8eb4615d9f6538c1383c6">bcmTimeSynceModeGap45</a> = 1,      <span class="comment">/* Stage0 Mode GAP 4/5 */</span></div><div class="line">    <a class="code" href="group__time.html#ggaf52ffef10349166b27b2eba4054eb0f1a7cf61a340ffb53c3ff47d44b6880d8c0">bcmTimeSynceModeSDMFracDiv</a> = 2  <span class="comment">/* Stage0 Mode SDM Frac Div */</span></div><div class="line">} <a class="code" href="group__time.html#ga4c335ffe2541174c8e662bd80de28d0a">bcm_time_synce_stage0_mode_t</a>;</div></div><!-- fragment --><ul>
<li>The bcm_time_synce_stage1_div_t typedef is used to specify the stage1 divisor.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__time.html#ga9fd7d52b65acd646d1ac977198b73196">bcm_time_synce_stage1_div_e</a> {</div><div class="line">    <a class="code" href="group__time.html#gga9fd7d52b65acd646d1ac977198b73196acab606d7bf01f8c94ab5c9b34d52cc44">bcmTimeSynceStage1Div1</a> = 0, <span class="comment">/* Stage1 Div1 */</span></div><div class="line">    <a class="code" href="group__time.html#gga9fd7d52b65acd646d1ac977198b73196ace957f9ebcc3aec386b1b566d0c6f7f9">bcmTimeSynceStage1Div7</a> = 1, <span class="comment">/* Stage1 Div7 */</span></div><div class="line">    <a class="code" href="group__time.html#gga9fd7d52b65acd646d1ac977198b73196a16e835e8376958ec0112460386dd71d7">bcmTimeSynceStage1Div11</a> = 2 <span class="comment">/* Stage1 Div11 */</span></div><div class="line">} <a class="code" href="group__time.html#gaacd1792d335d11edf9283861e775511b">bcm_time_synce_stage1_div_t</a>;</div></div><!-- fragment --><ul>
<li>The bcm_time_synce_divisor_setting_t structure is used to specify the stage0/stage1 divisor settings</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__time__synce__divisor__setting__s.html">bcm_time_synce_divisor_setting_s</a> {</div><div class="line">    <a class="code" href="group__time.html#gab2c87ee4b7507a742f84f21f09677571">bcm_time_synce_input_src_type_t</a> <a class="code" href="structbcm__time__synce__divisor__setting__s.html#a718305289dbc70c771aaa90a619b4cf2">input_src</a>; <span class="comment">/* Input source type */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__time__synce__divisor__setting__s.html#a5a9439d5aa6c77675e290c3dd5e3cc61">index</a>;                       <span class="comment">/* Logical port number or PLL index */</span></div><div class="line">    <a class="code" href="group__time.html#ga4c335ffe2541174c8e662bd80de28d0a">bcm_time_synce_stage0_mode_t</a> <a class="code" href="structbcm__time__synce__divisor__setting__s.html#a5b7bfdf4e87c97480eb19d888a208870">stage0_mode</a>; <span class="comment">/* Stage0 Mode bcmTimeSynceMode* */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__time__synce__divisor__setting__s.html#af37c1ab6e357a773f17a129dadd3069d">stage0_sdm_whole</a>;            <span class="comment">/* Stage0 SDM whole value */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__time__synce__divisor__setting__s.html#ace794751972d1a573fea6cbb9f2bee13">stage0_sdm_frac</a>;             <span class="comment">/* Stage0 SDM frac value */</span></div><div class="line">    <a class="code" href="group__time.html#gaacd1792d335d11edf9283861e775511b">bcm_time_synce_stage1_div_t</a> <a class="code" href="structbcm__time__synce__divisor__setting__s.html#a75a871f30dd1687ef2429f94ed331e4b">stage1_div</a>; <span class="comment">/* Stage1 Div bcmTimeSynceStage1Div* */</span></div><div class="line">} <a class="code" href="group__time.html#ga5ae4b3534e39fdff62fb450f2a27e33c">bcm_time_synce_divisor_setting_t</a>;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__time.html#ga4d5021003e22ab17473cac906383ba49">bcm_time_synce_frequency_e</a> {</div><div class="line">    bcmTimeSynce0MHz     = 0, <span class="comment">/* Disable SyncE (Squelch) */</span></div><div class="line">    bcmTimeSynce23MHz    = 1, <span class="comment">/* TSCF - 23.4375 MHz */</span></div><div class="line">    bcmTimeSynce25MHz    = 2, <span class="comment">/* SDM - 25MHz */</span></div><div class="line">    bcmTimeSynce28MHz    = 3, <span class="comment">/* General - 28.4 MHz */</span></div><div class="line">    bcmTimeSynce46MHz    = 4, <span class="comment">/* General - 46.875 MHz */</span></div><div class="line">    <a class="code" href="group__time.html#gga4d5021003e22ab17473cac906383ba49a62d31ecace9a9273925236cacda89746">bcmTimeSyncE125MHz</a>   = 5,  <span class="comment">/* General - 125MHz */</span></div><div class="line">    <a class="code" href="group__time.html#gga4d5021003e22ab17473cac906383ba49a20ce84db37fd6b211a9eb478732490b2">bcmTimeSyncE7MHz</a>     = 7,  <span class="comment">/* SDM - 7.8125 MHz */</span></div><div class="line">    <a class="code" href="group__time.html#gga4d5021003e22ab17473cac906383ba49ab1372565062355caae7a76925ed799a7">bcmTimeSyncE12MHz</a>    = 8,  <span class="comment">/* SDM - 12.5 MHz */</span></div><div class="line">    <a class="code" href="group__time.html#gga4d5021003e22ab17473cac906383ba49a3349aabe333bce66dd56e859854e013f">bcmTimeSyncE31MHz</a>    = 9,  <span class="comment">/* SDM - 31.25 MHz */</span></div><div class="line">    <a class="code" href="group__time.html#gga4d5021003e22ab17473cac906383ba49a7e81d713e6b3c0fcbc4384fd3237066a">bcmTimeSyncE37MHz</a>    = 10  <span class="comment">/* SDM - 37.5 MHz */</span></div><div class="line">} <a class="code" href="group__time.html#gac9bd73a834f0ff72198ed4c5b1351dbd">bcm_time_synce_frequency_t</a>;</div></div><!-- fragment --><ul>
<li>The bcm_time_synce_clock_source_config_t structure is used to specify SyncE source configuration</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__time__synce__clock__source__config__s.html">bcm_time_synce_clock_source_config_s</a> {</div><div class="line">    <a class="code" href="group__time.html#gaed186e242473c9e7ba99eefa5034b91d">bcm_time_synce_clock_src_type_t</a> <a class="code" href="structbcm__time__synce__clock__source__config__s.html#a7baf9e1ead595050a6f41a53521865cc">clk_src</a>; <span class="comment">/* Synce Clock Source Primary or Secondary */</span></div><div class="line">    <a class="code" href="group__time.html#gab2c87ee4b7507a742f84f21f09677571">bcm_time_synce_input_src_type_t</a> <a class="code" href="structbcm__time__synce__clock__source__config__s.html#a718305289dbc70c771aaa90a619b4cf2">input_src</a>; <span class="comment">/* Input source type Port or PLL*/</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="l3_8dox.html#a1997092c5b264e70249de9ddf6ffbbeb">index</a>;                           <span class="comment">/* Logical port number or PLL index */</span></div><div class="line">} <a class="code" href="group__time.html#ga0ceeedc669b958b0bd4323284f4e4ab3">bcm_time_synce_clock_source_config_t</a>;</div></div><!-- fragment --><ul>
<li>The bcm_time_synce_clock_source_control_t enum is used to specify SyncE source configuration operation</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__time.html#gaff74de3d0a51cfb519f26d4480a38f38">bcm_time_synce_clock_source_control_e</a> {</div><div class="line">    <a class="code" href="group__time.html#ggaff74de3d0a51cfb519f26d4480a38f38abe43dbd21dd4cb8eaa1b114ed9652482">bcmTimeSynceClockSourceControlSquelch</a> = 0, <span class="comment">/* Squelch of SyncE source */</span></div><div class="line">    <a class="code" href="group__time.html#ggaff74de3d0a51cfb519f26d4480a38f38aba1f9fde222d9583a4a15ad2e21f1eea">bcmTimeSynceClockSourceControlFrequency</a> = 1 <span class="comment">/* frequency of SyncE source */</span></div><div class="line">} <a class="code" href="group__time.html#gaf55ff60dd9426ab306b577c3b6017c38">bcm_time_synce_clock_source_control_t</a>;</div></div><!-- fragment --><h2><a class="anchor" id="synce_apis"></a>
SyncE APIs</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API  </th><th class="markdownTableHeadNone">Brief   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga2fd7ae90322edd4ff2a4b7afd701a839" title="Initialize bcm_time_synce_divisor_setting_t structure.">bcm_time_synce_divisor_setting_t_init(bcm_time_synce_divisor_setting_t* divisor)</a>  </td><td class="markdownTableBodyNone">Initialize bcm_time_synce_divisor_setting_t structure.   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#gaf3bcc042b4fa5b982175d9dfd5f8b806" title="Get current syncE input divisor settings.">bcm_time_synce_clock_get(int unit, bcm_time_synce_clock_src_type_t clk_src, bcm_time_synce_divisor_setting_t* divisor_setting)</a>  </td><td class="markdownTableBodyNone">Get current syncE input divisor settings   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga966d8a2e46e1e29101b5fdfbf423de97" title="Set syncE clock output frequency beased on the input divisor settings.">bcm_time_synce_clock_set(int unit, bcm_time_synce_clock_src_type_t clk_src, bcm_time_synce_divisor_setting_t* divisor_setting)</a>  </td><td class="markdownTableBodyNone">Set syncE clock output frequency beased on the input divisor settings.   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga6ed4f8d5f7170788987cc9b5a617e80c" title="Configure Primary or Secondary SyncE Recovered clock.">bcm_time_synce_clock_source_control_set(int unit, bcm_time_synce_clock_source_config_t* clk_src_config, bcm_time_synce_clock_source_control_t control, int value)</a>  </td><td class="markdownTableBodyNone">Configure Primary or Secondary Synce Recovered clock.   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__time.html#ga474c35e2ef17c77f7ebf04d70932ac8e" title="Configure Primary or Secondary SyncE Recovered clock.">bcm_time_synce_clock_source_control_get(int unit, bcm_time_synce_clock_source_config_t* clk_src_config, bcm_time_synce_clock_source_control_t control, int* value)</a>  </td><td class="markdownTableBodyNone">Configure Primary or Secondary Synce Recovered clock.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__time.html#ga2fd7ae90322edd4ff2a4b7afd701a839" title="Initialize bcm_time_synce_divisor_setting_t structure.">bcm_time_synce_divisor_setting_t_init(bcm_time_synce_divisor_setting_t* divisor)</a>  </td><td></td></tr>
<tr>
<td><a class="el" href="group__time.html#gaf3bcc042b4fa5b982175d9dfd5f8b806" title="Get current syncE input divisor settings.">bcm_time_synce_clock_get(int unit, bcm_time_synce_clock_src_type_t clk_src, bcm_time_synce_divisor_setting_t* divisor_setting)</a>  </td><td>Get current syncE input divisor settings   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga966d8a2e46e1e29101b5fdfbf423de97" title="Set syncE clock output frequency beased on the input divisor settings.">bcm_time_synce_clock_set(int unit, bcm_time_synce_clock_src_type_t clk_src, bcm_time_synce_divisor_setting_t* divisor_setting)</a>  </td><td>Set syncE clock output frequency beased on the input divisor settings.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga6ed4f8d5f7170788987cc9b5a617e80c" title="Configure Primary or Secondary SyncE Recovered clock.">bcm_time_synce_clock_source_control_set(int unit, bcm_time_synce_clock_source_config_t* clk_src_config, bcm_time_synce_clock_source_control_t control, int value)</a>  </td><td>Configure Primary or Secondary Synce Recovered clock.   </td></tr>
<tr>
<td><a class="el" href="group__time.html#ga474c35e2ef17c77f7ebf04d70932ac8e" title="Configure Primary or Secondary SyncE Recovered clock.">bcm_time_synce_clock_source_control_get(int unit, bcm_time_synce_clock_source_config_t* clk_src_config, bcm_time_synce_clock_source_control_t control, int* value)</a>  </td><td>Configure Primary or Secondary Synce Recovered clock.   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2019 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
