<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Time-Sensitive Networking (TSN)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Time-Sensitive Networking (TSN) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Time-Sensitive Networking (TSN) deals with networking of elements or end points which are sensitive to or aware of time. Building network infrastructure for interworking of time sensitive elements is supported by IEEE standards which define requirements for meeting application needs and enable interoperability among various hardware and software developers. TSN is also referred to as groups of standards supporting time sensitive networking.</p>
<p>Seamless Redundancy (SR), among the TSN features, ensures almost zero packet loss in presence of single failure in the network such as node failure, link failure as well as link error and congestion loss.</p>
<p>TSN feature (including SR) is introduced in BCM5617x and BCM5357x family. The TSN APIs provides building blocks for the protocol layer to build Seamless Redundancy topology and packet behavior.</p>
<p>Link Redundancy Entity (LRE) is a logical 3 port entity that connects a non-Redundant Network to a Seamless Redundant Network. One port is connected to the non-Redundant network and 2 ports are connected to redundant network.</p>
<p>Singly Attached Node (SAN) is a terminating node that does not comprise of LRE, A SAN has a single port. A SAN can be connected to a redundant network via a Red box.</p>
<p>Doubly Attached Node (DAN) is a terminating node (such as a computer or a sensor) that comprises of LRE, since it connects to the network via two ports.</p>
<h1><a class="anchor" id="tsn_apis_init"></a>
TSN Initialization</h1>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__tsn.html#ga959dd8d1c0b907bd32b8f9fea85d4642" title="Initialize the TSN module.">bcm_tsn_init(int unit)</a>  </td><td>Initialize the TSN module   </td></tr>
<tr>
<td><a class="el" href="group__tsn.html#ga8ebbaf34c06cdc3164d147158b8856f5" title="De-initialize the TSN module.">bcm_tsn_detach(int unit)</a>  </td><td>De-initialize the TSN module   </td></tr>
</table>
<h1><a class="anchor" id="tsn_apis_control_types"></a>
TSN Control.</h1>
<p>TSN control APIs are provided for per-chip and per-port operation mode configuration. The per-chip and per-port APIs use the same set of control type list.</p>
<p><a class="anchor" id="tsn_BCM_TSN_CONTROL_SR_SEQNUM_WINDOW_RESET_MODE_XXX"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flags for SR sequence number window reset mode when aged out</caption>
<tr>
<td>BCM_TSN_CONTROL_SR_SEQNUM_WINDOW_RESET_MODE_HW1 </td><td>Hardware mode 1: always accept the first packet.  </td></tr>
<tr>
<td>BCM_TSN_CONTROL_SR_SEQNUM_WINDOW_RESET_MODE_HW2 </td><td>Hardware mode 2: expect sequence number 0 for the first SR packet received.  </td></tr>
<tr>
<td>BCM_TSN_CONTROL_SR_SEQNUM_WINDOW_RESET_MODE_SW </td><td>Software (custom) reset mode. No hardware sequence number reset is performed in this mode. User should use TSN event API to get notification on this and reset sequence number history manually.  </td></tr>
</table>
<p><a class="anchor" id="tsn_bcm_tsn_control_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_tsn_control_t values</caption>
<tr>
<th>Control types </th><th>Description  </th></tr>
<tr>
<td>bcmTsnControlSrAgeTickInterval </td><td>Age timer tick interval in msecs.  </td></tr>
<tr>
<td>bcmTsnControlSrAgeOutEnable </td><td>Global age out enable.  </td></tr>
<tr>
<td>bcmTsnControlSrSeqNumWindowResetMode </td><td>See BCM_TSN_CONTROL_SR_SEQNUM_WINDOW_RESET_MODE_XXX.  </td></tr>
<tr>
<td>bcmTsnControlSrLooseOutOfOrder </td><td>Loose out of order definition. An SR packet is considered out of order if it's in the acceptance window and the sequence number is less than previous received packet.  </td></tr>
<tr>
<td>bcmTsnControlSrHsrEthertype </td><td>The EtherType value for the HSR tag.  </td></tr>
<tr>
<td>bcmTsnControlSrPrpEthertype </td><td>The EtherType (suffix) value for the PRP RCT trailer.  </td></tr>
<tr>
<td>bcmTsnControlSrDot1cbEthertype </td><td>The EtherType value for the IEEE 802.1CB tag.  </td></tr>
<tr>
<td>bcmTsnControlIngressMtuProfile </td><td>Ingress MTU profile ID (per port).  </td></tr>
<tr>
<td>bcmTsnControlEgressMtuPriorityMap </td><td>Priority mapping for egress MTU check (per-port).  </td></tr>
<tr>
<td>bcmTsnControlIngressStuProfile </td><td>Ingress STU profile ID (per port).  </td></tr>
<tr>
<td>bcmTsnControlEgressStuPriorityMap </td><td>Priority mapping for egress STU check (per-port).  </td></tr>
<tr>
<td>bcmTsnControlTafEnable </td><td>Enable TAF (Time Aware Filtering)(per-port) </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2020 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
