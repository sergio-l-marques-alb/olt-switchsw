<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Service Activation Test (SAT)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Service Activation Test (SAT) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sat_overview"></a>
SAT Overview</h1>
<p>Service Activation Test (SAT) feature is basically a validation of an Ethernet Service for a customer by a service provider operator before activating the service. The customer may be another operator, upstream or downstream, or an end-point customer. It is usually done with an Ethernet Test Equipment and involves a Truck Roll to the premises where the network endpoint or the intermediate point resides. The industry is moving towards the use of embedded test application within the network switch element.</p>
<p>The SAT implementation borrows concept of MEP points from Ethernet OAM. Each SAT MEP has an Rx and Tx point. These SAT MEP Tx/Rx points in SAT context are defined as Service Activation Measurement Points (SAMP). SAT MEP Rx point is where a SAT packet coming from wire is trapped and sent to OLP. SAT MEP Tx point is where a SAT packet is injected from OLP before going out on wire.</p>
<p>A SAT MEP (SAMP) can perform one or all of the functions defined below:</p>
<ul>
<li>Generator Function (GTF): SAT logic that injects test frames for OVC/EVC at specified rate and Test frames processed like customer service frames.</li>
<li>Collector Function (CTF): SAT Test frames are processed like customer service frames and logic has instrumentation counters for SAT.</li>
<li>Reflector Function (Latching Loopback Function): Loops back customer service frames at remote end for two-way measurement with GTF and CTF at the same end.</li>
</ul>
<p>SAT GTF, CTF and Loopback Latch functions defined above are implemented in SAT Engine that is part of the OMAP engine. Switch that implements OAMP engine supports processing of SAT packets inside the switch.Alternatively users can interface external SAT Engines to switch as Offload Processor (OLP) connected to one of the front panel ports on the switch to process SAT packets.</p>
<p>To support seamless transfer of SAT packets to/from internal/external SAT engine switch implements "trap" and "inject" points to perform proxy CTF and proxy GTF functions on behalf of SAT engines. The "trap" point performs proxy CTF function and is used to receive/terminate SAT packets and redirect them to SAT engine where actual CTF function is implemented. The "inject" point performs the proxy GTF function and is used for transmitting of SAT packets generated by GTF available in SAT engine.</p>
<p>For devices which support SAT the APIs provide control of the following features:</p>
<ul>
<li>Proxy CTF Function to receive/terminate SAT packets and redirect them to OLP.</li>
<li>Proxy GTF Function for initiating/transmitting SAT packets generated from OLP.</li>
<li>Latching loop back Function to identify and trap all packets matching the latching loopback session to OLP/CPU with OLP header.</li>
</ul>
<h1><a class="anchor" id="sat_data_types"></a>
SAT Data Types</h1>
<ul>
<li>bcm_sat_endpoint_t is an identifier used to refer to a SAT endpoint.</li>
<li>bcm_sat_timestamp_format_t is an enumeration of SAT timestamp format.</li>
<li>bcm_sat_gtf_t is an identifier used to refer to a gtf object.</li>
<li>bcm_sat_ctf_t is an identifier used to refer to a ctf object.</li>
<li>bcm_sat_header_type_t is an enumeration of SAT Header Type.</li>
<li>bcm_sat_payload_type_t is an enumeration of SAT Payload Type.</li>
<li>bcm_sat_stamp_type_t is an enumeration of SAT Stamp Type.</li>
<li>bcm_sat_stamp_field_t is an enumeration of SAT Stamp Field.</li>
<li>bcm_sat_gtf_rate_pattern_mode_t is an enumeration of SAT gtf rate pattern mode.</li>
<li>bcm_sat_gtf_stat_counter_t is an enumeration of SAT gtf counter types.</li>
<li>bcm_sat_event_type_t is an enumeration of SAT event types for which callbacks can be registered.</li>
<li>bcm_sat_config_t is a structure containing SAT common configuration.</li>
<li>bcm_sat_header_user_define_offsets_t is a structure containing offsets of payload, timestamp and sequence number in user defined header.</li>
<li>bcm_sat_payload_t is used to refer to a SAT payload object.</li>
<li>bcm_sat_stamp_t is used to refer to a SAT stamp object.</li>
<li>bcm_sat_gtf_packet_edit_t is a structure containing information about SAT gtf packet edit.</li>
<li>bcm_sat_gtf_packet_config_t is a structure containing information about SAT gtf packet configuration, including header info, payload and packet edit info etc.</li>
<li>bcm_sat_gtf_bandwidth_t is used to configure SAT gtf bandwidth.</li>
<li>bcm_sat_gtf_rate_pattern_t is used to configure SAT gtf rate pattern.</li>
<li>bcm_sat_ctf_packet_info_t is a structure containing information about SAT ctf packet configuration.</li>
<li>bcm_sat_ctf_identifier_t is used to configure SAT ctf identifier.</li>
<li>bcm_sat_ctf_bin_limit_t is an enumeration of SAT ctf bin limit.</li>
<li>bcm_sat_ctf_stat_config_t is used to refer to a SAT ctf statistics configuration object.</li>
<li>bcm_sat_ctf_stat_t is is a structure containing statistics information.</li>
<li>bcm_sat_ctf_availability_config_t is used to configure parameters for ctf availability.</li>
<li>bcm_sat_ctf_report_config_t is used to configure reports on ctf.</li>
<li>bcm_sat_report_event_data_t is a structure containing CTF report event data.</li>
</ul>
<p>The following types are used for supplying function pointers to callbacks for endpoint traversal, gtf traversal, ctf traversal and event handling.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="group__sat.html#gaacf538f91eb06b1a928274120a220c44">bcm_sat_endpoint_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="structbcm__sat__endpoint__info__s.html">bcm_sat_endpoint_info_t</a> *endpoint_info,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="group__sat.html#gadca45c949d32d4ce43a97081b746bcb5">bcm_sat_gtf_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="group__sat.html#ga6a01cf47115e4ac3b8b0c7a56ea113b2">bcm_sat_gtf_t</a> gtf_id,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="group__sat.html#gad8fee27ec5fbe76ebd2c50eb6b8541fa">bcm_sat_ctf_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="group__sat.html#ga1dbaf706ac1a2e9dc162f48c9f0df677">bcm_sat_ctf_t</a> ctf_id,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="group__sat.html#ga3c1b98d1b18a374c44d1ed1cc3c6b53c">bcm_sat_event_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="group__sat.html#gac94810b315700193872dbf55eca97dd5">bcm_sat_event_type_t</a> event_type,</div><div class="line">    <span class="keywordtype">void</span> *user_provided_struct,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div></div><!-- fragment --><h2><a class="anchor" id="sat_misc_defines"></a>
SAT Misc Defines</h2>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>SAT Miscellaneous defines</caption>
<tr>
<th>Name </th><th>Description  </th></tr>
<tr>
<td>BCM_SAT_GTF_NUM_OF_PRIORITIES </td><td>Number of element in gtf.  </td></tr>
<tr>
<td>BCM_SAT_PAYLOAD_MAX_PATTERN_SIZE </td><td>SAT payload pattern max size.  </td></tr>
<tr>
<td>BCM_SAT_GTF_PACKET_LENGTH_NUM_OF_PATTERNS </td><td>Number of pattern of GTF packet length.  </td></tr>
<tr>
<td>BCM_SAT_GTF_PACKET_MAX_PATTERN_LENGTH </td><td>SAT packet max pattern length.  </td></tr>
<tr>
<td>BCM_SAT_GTF_MAX_STAMPS </td><td>Max stamps of SAT GTF.  </td></tr>
<tr>
<td>BCM_SAT_CTF_IDENTIFIER_ANY </td><td>SAT ctf idenifier.  </td></tr>
<tr>
<td>BCM_SAT_CTF_STAT_MAX_NUM_OF_BINS </td><td>SAT ctf bins number.  </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2020 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
