<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: VLAN Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">VLAN Management </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The BCM VLAN API provides the capability to manage VLAN definitions within the StrataXGS/StrataXGS I switch ASIC. Each VLAN associates an integer identifier with a group of ports which should be treated as a broadcast domain. The port membership definitions are defined as a bitmap of ports. The VLAN management API provides full access to the bitmaps associated with each VLAN.</p>
<p>The management API covers programming of:</p>
<ul>
<li>Basic VLAN configuration</li>
<li>Port-based VLAN configuration</li>
<li>Spanning Tree Groups</li>
</ul>
<p>Basic VLAN configuration allows for the creation and destruction of 802.1Q VLAN definitions. This allows for binding an 802.1Q VLAN ID to a set of ports and managing the member ports. The BCM layer maintains consistency between trunking, VLAN configuration and port-based VLAN configuration.</p>
<p>Port-Based (or Native) VLAN configuration defines the VLAN ID that will get assigned to untagged (Ethernet-II) frames as they enter the switch fabric via the ingress port. These packets may or may not exit with the tag depending on the configuration of that VLAN.</p>
<p>Spanning Tree Groups may be implemented by some systems that allow for a spanning tree to be enabled per VLAN. Using the VLAN API, developers can manage spanning tree groups across VLAN definitions. Additional management of multiple spanning tree groups is performed by the STG API. <a class="el" href="stg.html">Spanning Tree Groups</a></p>
<p>The following VLAN IDs are predefined: <a class="el" href="vlan.html#Predefined_VLAN_ID_x">Predefined_VLAN_ID_x</a></p>
<p><a class="anchor" id="Predefined_VLAN_ID_x"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Predefined VLAN IDs</caption>
<tr>
<th>VLAN ID </th><th>Significance  </th></tr>
<tr>
<td>BCM_VLAN_NONE </td><td>No VLAN  </td></tr>
<tr>
<td>BCM_VLAN_DEFAULT </td><td>Default VLAN  </td></tr>
<tr>
<td>BCM_VLAN_INVALID </td><td>Invalid VLAN  </td></tr>
</table>
<p>The following macros are designated for working with VLANs: <a class="el" href="vlan.html#macro_for_Analyzing_VLAN_Control_x">macro_for_Analyzing_VLAN_Control_x</a> <a class="anchor" id="macro_for_Analyzing_VLAN_Control_x"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Macros for Analyzing/Constructing VLAN Control Index</caption>
<tr>
<th>Macro </th><th>Macro Description  </th></tr>
<tr>
<td>BCM_VLAN_VALID(id) </td><td>Verify VLAN 'ID' is in a valid range  </td></tr>
<tr>
<td>BCM_VLAN_CTRL_PRIO(c) </td><td>Extract priority from VLAN control index.  </td></tr>
<tr>
<td>BCM_VLAN_CTRL_CFI(c) </td><td>Extract CFI bit from VLAN control index.  </td></tr>
<tr>
<td>BCM_VLAN_CTRL_ID(c) </td><td>Extract VLAN ID from VLAN control index.  </td></tr>
<tr>
<td>BCM_VLAN_CTRL(prio, cfi, id) </td><td>Create a VLAN control index with the specified parameters.  </td></tr>
</table>
<p>This structures are used to return information about the current VLAN configurations:</p>
<p><a class="anchor" id="vlan_data"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__vlan__data__s.html">bcm_vlan_data_s</a> {        <span class="comment">/* VLAN port info */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>  <a class="code" href="structbcm__vlan__data__s.html#adfa18fa8c2a84adde9ebe736357dd425">vlan_tag</a>;</div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a>  <a class="code" href="structbcm__vlan__data__s.html#a3755d4b57a4d5bf1ffecb912a9565f93">port_bitmap</a>;</div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a>  <a class="code" href="structbcm__vlan__data__s.html#a9d17c09a4c77e386c3ba4f384b58e8c8">ut_port_bitmap</a>;</div><div class="line">} <a class="code" href="group__vlan.html#ga314fbb8e0e86b4d0633c344b919aaa63">bcm_vlan_data_t</a>;</div></div><!-- fragment --><p>The flags used by the VLAN gport API are defined in Table. <a class="anchor" id="BCM_VLAN_PORT_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN gport flags</caption>
<tr>
<th>Flag </th><th>Description  </th></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_UNTAGGED </td><td>port is an untagged port  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_INGRESS_ONLY </td><td>port is an ingress member of the VLAN  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_EGRESS_ONLY </td><td>port is an egress member of the VLAN  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_MEMBER_REPLACE  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_STP_DISABLE </td><td>STP state is DISABLE.  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_STP_BLOCK </td><td>STP state is BLOCK.  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_STP_LEARN </td><td>STP state is LEARN.  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_STP_FORWARD </td><td>STP state is FORWARD.  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_VP_VLAN_MEMBERSHIP </td><td>Use vp vlan membership method  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_UNKNOWN_UCAST_DO_NOT_ADD </td><td>Do not add to unknown unicast group  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_UNKNOWN_UCAST_DO_NOT_UPDATE </td><td>Do not update unknown unicast group. It is new defined to replace BCM_VLAN_GPORT_ADD_UNKNOWN_UCAST_DO_NOT_ADD  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_UNKNOWN_MCAST_DO_NOT_ADD </td><td>Do not add to unknown multicast group  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_UNKNOWN_MCAST_DO_NOT_UPDATE </td><td>Do not update unknown multicast group. It is new defined to replace BCM_VLAN_GPORT_ADD_UNKNOWN_MCAST_DO_NOT_ADD  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_BCAST_DO_NOT_ADD </td><td>Do not add to broadcast group  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_BCAST_DO_NOT_UPDATE </td><td>Do not update broadcast group. It is new defined to replace BCM_VLAN_GPORT_ADD_BCAST_DO_NOT_ADD  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_TAG_DO_NOT_UPDATE </td><td>Do not update tag-untag functionality  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_MEMBER_DO_NOT_UPDATE </td><td>Do not update membership method  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_EGRESS_STP_DISABLE </td><td>Egress STP state is DISABLE.  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_EGRESS_STP_BLOCK </td><td>Egress STP state is BLOCK.  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_EGRESS_STP_LEARN </td><td>Egress STP state is LEARN.  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_EGRESS_STP_FORWARD </td><td>Egress STP state is FORWARD.  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_SERVICE </td><td>Use vlan parameter as the vsi  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_INGRESS_WIDE </td><td>vlan port eligible for additional data  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_VLAN_TRANSLATION </td><td>this flag is used for creating an AC in the EEDB that is referenced only by ESEM and no GLEM entries are allocated. must be used with _EGRESS_ONLY  </td></tr>
<tr>
<td>BCM_VLAN_GPORT_ADD_EGRESS_L3_ONLY </td><td>Egress VLAN membership check for L3 interface only, used for physical port GPORT only.  </td></tr>
<tr>
<td>VLAN_GPORT_ADD_STAT_INGRESS_ENABLE </td><td>Indicates ingress statistic enabled.  </td></tr>
<tr>
<td>VLAN_GPORT_ADD_STAT_EGRESS_ENABLE </td><td>Indicates egress statistic enabled.  </td></tr>
</table>
<p>Those flags are obselete. They are retained for backwards competibility only. Use flags starting with BCM_VLAN_GPORT_ADD instead <a class="anchor" id="BCM_VLAN_PORT_t_obselete"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN gport flags</caption>
<tr>
<th>Flag </th><th>Description  </th></tr>
<tr>
<td>BCM_VLAN_PORT_UNTAGGED </td><td>port is an untagged port. For VLAN VP/NIV/EXTENDER port, if match_vlan has been configured on the port, it will not add inner VLAN tag.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_INGRESS_ONLY </td><td>port is an ingress member of the VLAN  </td></tr>
<tr>
<td>BCM_VLAN_PORT_EGRESS_ONLY </td><td>port is an egress member of the VLAN  </td></tr>
<tr>
<td>BCM_VLAN_PORT_STP_DISABLE </td><td>STP state is DISABLE. Used with BCM_VLAN_PORT_VP_VLAN_MEMBERSHIP  </td></tr>
<tr>
<td>BCM_VLAN_PORT_STP_BLOCK </td><td>STP state is BLOCK. Used with BCM_VLAN_PORT_VP_VLAN_MEMBERSHIP  </td></tr>
<tr>
<td>BCM_VLAN_PORT_STP_LEARN </td><td>STP state is LEARN. Used with BCM_VLAN_PORT_VP_VLAN_MEMBERSHIP  </td></tr>
<tr>
<td>BCM_VLAN_PORT_STP_FORWARD </td><td>STP state is FORWARD. Used with BCM_VLAN_PORT_VP_VLAN_MEMBERSHIP  </td></tr>
<tr>
<td>BCM_VLAN_PORT_VP_VLAN_MEMBERSHIP </td><td>Use vp vlan membership method  </td></tr>
<tr>
<td>BCM_VLAN_PORT_UNKNOWN_UCAST_DO_NOT_ADD </td><td>Do not add to unknown unicast group  </td></tr>
<tr>
<td>BCM_VLAN_PORT_UNKNOWN_MCAST_DO_NOT_ADD </td><td>Do not add to unknown multicast group  </td></tr>
<tr>
<td>BCM_VLAN_PORT_BCAST_DO_NOT_ADD </td><td>Do not add to broadcast group  </td></tr>
<tr>
<td>BCM_VLAN_PORT_INGRESS_WIDE </td><td>vlan port eligible for additional data  </td></tr>
<tr>
<td>BCM_VLAN_PORT_VLAN_TRANSLATION </td><td>this flag is used for creating an AC in the EEDB that is referenced only by ESEM and no GLEM entries are allocated. must be used with _EGRESS_ONLY  </td></tr>
<tr>
<td>BCM_VLAN_PORT_EGRESS_PON_TUNNEL_NONE </td><td>This flag indicates that LLTAG is not added when a packet egress out from this VLAN port.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_NATIVE </td><td>Creates a native vlan port.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_EGRESS_ARP_POINTED </td><td>Create an ARP pointed vlan port which is in a dynamic range.  </td></tr>
</table>
<p>This structure contains data for the subnet-based VLAN manipulations: <a class="anchor" id="vlan_subnet"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>        <a class="code" href="l3_8dox.html#a6d63ab79fe26b54cd710ffb5e5227fa3">flags</a>;</div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>      ip4;</div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>      mask;</div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>     ip6;</div><div class="line">    <span class="keywordtype">int</span>           prefix;</div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>    vid;</div><div class="line">    <span class="keywordtype">int</span>           prio;</div><div class="line">} <a class="code" href="group__vlan.html#ga4803593472f32bba6e0dc810069640a9">bcm_vlan_ip_t</a>;</div></div><!-- fragment --><p>A selection of IP4 versus IP6 subnet is made by the BCM_VLAN_SUBNET_IP6 flag. If the IP4 is selected (the default), the IP6 address and prefix fields are ignored. If IP6 is selected, the IP4 address and mask fields are ignored. The lower 64-bits of IP6 address are ignored.</p>
<p>This structure contains the configuration of a VLAN. <a class="el" href="group__vlan.html#bcm_vlan_control_vlan_set">bcm_vlan_control_vlan_set</a> uses this structure to configure VLAN. Refer to VLAN Control Flags table <a class="el" href="group__vlan.html#BCM_VLAN_CONTROL_VLAN_FLAG_table">BCM_VLAN_CONTROL_VLAN_FLAG_table</a> for a detailed description of the flags. Refer to VLAN Control Flags2 table <a class="el" href="group__vlan.html#BCM_VLAN_CONTROL_VLAN_FLAGS2_table">BCM_VLAN_CONTROL_VLAN_FLAGS2_table</a> for a detailed description of the flags2. The forwarding_vlan parameter is for specifying the VLAN ID used in switching when shared VLAN feature is enabled. The shared VLAN feature can be enabled with <a class="el" href="group__switch.html#bcm_switch_control_set">bcm_switch_control_set</a> (bcmSwitchSharedVlanEnable).</p>
<p>The ingress_if parameter is to specify the mapping of VLAN to L3 Ingress Interface when bcmSwitchL3IngressInterfaceMapSet is enabled for StrictUrpf Mode.</p>
<p>The if_class_id parameter is a class ID number supplied by the application to group multiple VLANs together for classification purposes.</p>
<p>The forwarding_mode parameter is used to enable VLAN cross-connect on the VLAN. See <a class="el" href="vlan.html#bcm_vlan_forward_t">bcm_vlan_forward_t</a> and bcm_vlan_cross_connect_add API.</p>
<p>The urpf_mode parameter is used to configure the URPF mode per L3_IIF. See <a class="el" href="vlan.html#bcm_vlan_urpf_mode_t">bcm_vlan_urpf_mode_t</a> for supported values.</p>
<p>The cosq parameter can be used to configure per-VLAN traffic shaping. The cosq parameter indicates which VLAN CoS queue to use. The BCM_VLAN_COSQ_ENABLE flag must be set to enable VLAN shaping on this VLAN (see <a class="el" href="group__vlan.html#BCM_VLAN_CONTROL_VLAN_FLAG_table">BCM_VLAN_CONTROL_VLAN_FLAG_table</a>).</p>
<p>The qos_map_id parameter can be used to configure per-VLAN per traffic class shaping. The qos_map_id parameter provides index to queue offset profile, which provides int_pri to queue offset mapping. This queue offset is added to cosq to get the actual cosq value. The BCM_VLAN_COSQ_ENABLE flag must be set to enable VLAN shaping on this VLAN (see <a class="el" href="group__vlan.html#BCM_VLAN_CONTROL_VLAN_FLAG_table">BCM_VLAN_CONTROL_VLAN_FLAG_table</a>).</p>
<p>The unknown_multicast_group parameter can be used to provide a different Multicast group for unknown multicast frames. By default, unknown multicast frames are flooded in the VLAN. that is, use the same multicast group that is used for unknown unicast and broadcast frames.</p>
<p>BCM56634 and BCM56524 chip families support the WLAN module and VLAN broadcast, unknown multicast and unknown unicast recipients may include WLAN ports. The parameters broadcast_group, unknown_multicast_group and unknown_unicast_group indicate the respective groups. These groups may all be the same or different. The groups must first be created using the <a class="el" href="group__multicast.html#bcm_multicast_create">bcm_multicast_create</a> API with the BCM_MULTICAST_TYPE_WLAN flag. WLAN ports may be added to each individual group using the <a class="el" href="group__multicast.html#bcm_multicast_egress_add">bcm_multicast_egress_add</a> API. The <a class="el" href="group__vlan.html#bcm_vlan_gport_add">bcm_vlan_gport_add</a> API adds WLAN ports to all the groups.</p>
<p>BCM56840 chip family supports TRILL specific parameters trill_nonunicast_group, source_trill_name. trill_nonunicast_group is a multicast group to handle trill-domain nonunicast frames. source_trill_name is the Source Rbridge nickname per VLAN.</p>
<p>BCM56440 and BCM56640 family supports the parameter protocol_pkt which is used to control the protocol packets based on the VLAN. The VLAN based protocol packet control setting takes precedence over the per-port based protocol packet control when IGMP snooping is enabled on the VLAN (that is, BCM_VLAN_IGMP_SNOOP_DISABLE flag is cleared). If IGMP snooping is disabled then per-port based protocol packet control takes precedence. The per-port protocol packet control is configured using API <a class="el" href="group__switch.html#bcm_switch_control_port_set">bcm_switch_control_port_set</a> (bcmSwitchArpReplyToCpu, bcmSwitchArpReplyDrop, bcmSwitchArpRequestToCpu, bcmSwitchArpRequestDrop, bcmSwitchNdPktToCpu, bcmSwitchNdPktDrop, bcmSwitchIgmpPktToCpu, bcmSwitchIgmpToCPU, bcmSwitchIgmpPktDrop, bcmSwitchDhcpPktToCpu, bcmSwitchDhcpPktDrop, bcmSwitchMldPktToCpu, bcmSwitchMldPktDrop, bcmSwitchIPv4ResvdMcPktToCpu, bcmSwitchIPv4ResvdMcPktDrop, bcmSwitchIPv6ResvdMcPktToCpu, bcmSwitchIPv6ResvdMcPktDrop) L2 table view are defined in bcm_vlan_l2_view_t. <a class="anchor" id="BCM_VLAN_L2_VIEW_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_vlan_l2_view_t</caption>
<tr>
<th>VLAN L2 View Types </th><th>Description  </th></tr>
<tr>
<td>bcmVlanL2ViewWide </td><td>L2 table wide view  </td></tr>
<tr>
<td>bcmVlanL2ViewNarrow </td><td>L2 table narrow view  </td></tr>
<tr>
<td>bcmVlanL2ViewCount </td><td>Always last  </td></tr>
</table>
<p><a class="anchor" id="bcm_vlan_control_vlan_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">    <a class="code" href="group__types.html#ga75bff066bcf4665db211170f0f49e58e">bcm_vrf_t</a>               <a class="code" href="l3_8dox.html#ad90cb6ae1111a34aeb9f39fbd7445efd">vrf</a>;</div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>              forwarding_vlan;</div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a>                ingress_if;</div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>                  outer_tpid;</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>                  <a class="code" href="l3_8dox.html#a6d63ab79fe26b54cd710ffb5e5227fa3">flags</a>;</div><div class="line">    <a class="code" href="group__vlan.html#gae126a1e8497642a7bf70a818f9aa8a33">bcm_vlan_mcast_flood_t</a>  ip6_mcast_flood_mode;</div><div class="line">    <a class="code" href="group__vlan.html#gae126a1e8497642a7bf70a818f9aa8a33">bcm_vlan_mcast_flood_t</a>  ip4_mcast_flood_mode;</div><div class="line">    <a class="code" href="group__vlan.html#gae126a1e8497642a7bf70a818f9aa8a33">bcm_vlan_mcast_flood_t</a>  l2_mcast_flood_mode;</div><div class="line">    <span class="keywordtype">int</span>                     if_class_id;</div><div class="line">    <a class="code" href="group__vlan.html#gacb2578841706d1e98417b608734f43dd">bcm_vlan_forward_t</a>      forwarding_mode;</div><div class="line">    <a class="code" href="group__vlan.html#ga5e95caf60d7ea07c1fa7e4bbf3db31bb">bcm_vlan_urpf_mode_t</a>    <a class="code" href="l3_8dox.html#a3d093c7c64981b4020d36804808a79f3">urpf_mode</a>;</div><div class="line">    <a class="code" href="group__types.html#ga6196eb330729b091a281f63a17b07a0d">bcm_cos_queue_t</a>         cosq;</div><div class="line">    <span class="keywordtype">int</span>                     qos_map_id;</div><div class="line">    <a class="code" href="group__types.html#ga468a32fdef90b6bf16f73f6be3c7b2f9">bcm_fabric_distribution_t</a> distribution_class;</div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a>         broadcast_group;</div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a>         unknown_multicast_group;</div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a>         unknown_unicast_group;</div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a>         trill_nonunicast_group;</div><div class="line">    <a class="code" href="group__types.html#ga04c6eee407827c6e305098013209b1de">bcm_trill_name_t</a>        source_trill_name;</div><div class="line">    <span class="keywordtype">int</span>                     trunk_index;</div><div class="line">    <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html">bcm_vlan_protocol_packet_ctrl_t</a> protocol_pkt; <span class="comment">/* VLAN-based protocol packet control */</span></div><div class="line">    <span class="keywordtype">int</span>                     nat_realm_id; <span class="comment">/* Realm id of interface that this vlan maps to, for NAT */</span></div><div class="line">    <span class="keywordtype">int</span>                     l3_if_class;  <span class="comment">/* L3 IIF class id */</span></div><div class="line">    <a class="code" href="group__vlan.html#ga01b2df11ded9fadef7e14e8104e741e9">bcm_vlan_vp_mc_ctrl_t</a>   vp_mc_ctrl;   <span class="comment">/* VP replication control, Auto, Enable, Disable */</span></div><div class="line">    <span class="keywordtype">int</span>                     aging_cycles; <span class="comment">/* number of aging meta-cycles */</span></div><div class="line">    <span class="keywordtype">int</span>                     entropy_id;   <span class="comment">/* aging profile ID */</span></div><div class="line">    <a class="code" href="group__types.html#gad0476041b742ee817043d5d0c99fc2ac">bcm_vpn_t</a>               vpn;          <span class="comment">/* VPN ID */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>              egress_vlan;  <span class="comment">/* egress outer vlan ID encapsulation */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>                  learn_flags;  <span class="comment">/* Learn control flags for VLAN-based (BCM_VLAN_LEARN_CONTROL_XXX) */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>                  sr_flags; <span class="comment">/* Flags for Seamless Redundancy: BCM_VLAN_CONTROL_SR_FLAG_xxx */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>                  <a class="code" href="l3_8dox.html#a9e558b14122793cfe22e8f340eeeab04">flags2</a>;       <span class="comment">/* BCM_VLAN_FLAGS2_xxx */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> ingress_stat_id;             <span class="comment">/* Object statistics id ingress*/</span></div><div class="line">    <span class="keywordtype">int</span> ingress_stat_pp_profile;        <span class="comment">/* Statistic profile ingress*/</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> egress_stat_id;              <span class="comment">/* Object statistics id egress*/</span></div><div class="line">    <span class="keywordtype">int</span> egress_stat_pp_profile;         <span class="comment">/* Statistic profile egress*/</span></div><div class="line">    <a class="code" href="structbcm__vlan__action__set__s.html">bcm_vlan_action_set_t</a>   egress_action;<span class="comment">/* Egress VLAN actions. */</span></div><div class="line">    <a class="code" href="group__vlan.html#gaf33bddf0eb7d528afa7b5bd0b3581b9b">bcm_vlan_l2_view_t</a> l2_view;         <span class="comment">/* L2 table view. */</span></div><div class="line">    <span class="keywordtype">int</span> egress_class_id;                    <span class="comment">/* Class ID for EFP qualifier. */</span></div><div class="line">    <span class="keywordtype">int</span> egress_opaque_ctrl_id;              <span class="comment">/* Egress opaque control ID. */</span></div><div class="line">    <span class="keywordtype">int</span> ingress_opaque_ctrl_id;             <span class="comment">/* Ingress opaque control ID. */</span></div><div class="line">} <a class="code" href="group__vlan.html#ga3fbd1f289757a2f186dc69bdc0e51df5">bcm_vlan_control_vlan_t</a>;</div></div><!-- fragment --><p>The following bcm_vlan_vp_mc_ctrl_t typedef is used in the <a class="el" href="vlan.html#bcm_vlan_control_vlan_t">bcm_vlan_control_vlan_t</a> structure to control VP replication of the VLAN.</p>
<p><a class="anchor" id="bcm_vlan_vp_mc_ctrl_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__vlan.html#gac394e3cd1635c329fac3abafab9bbf11">bcm_vlan_vp_mc_ctrl_e</a> {</div><div class="line">    <a class="code" href="group__vlan.html#ggac394e3cd1635c329fac3abafab9bbf11acb6c324309f5cf081f102f9e1a7229d2">bcmVlanVPMcControlAuto</a> = 0,     <span class="comment">/* VP Multicast replication auto control */</span></div><div class="line">    <a class="code" href="group__vlan.html#ggac394e3cd1635c329fac3abafab9bbf11af3247f89f58569f6d4a04fed5e4b71f7">bcmVlanVPMcControlEnable</a> = 1,   <span class="comment">/* Enable VP Multicast replication */</span></div><div class="line">    <a class="code" href="group__vlan.html#ggac394e3cd1635c329fac3abafab9bbf11aaabaa3bdef5a2e1a334d0da133801084">bcmVlanVPMcControlDisable</a> = 2   <span class="comment">/* Disable VP Multicast replication */</span></div><div class="line">} <a class="code" href="group__vlan.html#ga01b2df11ded9fadef7e14e8104e741e9">bcm_vlan_vp_mc_ctrl_t</a>;</div></div><!-- fragment --><p> Note: bcmVlanVPMcControlAuto was added for backwards compatibility, and it will be the default mode for VP Multicast replication. However, users need to configure the VP Multicast replication mode to bcmVlanVPMcControlEnable/bcmVlanVPMcControlDisable instead of bcmVlanVPMcControlAuto in their applications.</p>
<p>The following bcm_vlan_forward_t typedef is used in the <a class="el" href="vlan.html#bcm_vlan_control_vlan_t">bcm_vlan_control_vlan_t</a> structure to specify the forwarding mode of the VLAN.</p>
<p><a class="anchor" id="bcm_vlan_forward_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__vlan.html#ga0bd0ce4ecf369ed15deee51bca7e3c74">bcm_vlan_forward_e</a> {</div><div class="line">    <a class="code" href="group__vlan.html#gga0bd0ce4ecf369ed15deee51bca7e3c74aa59f346ec6a82eb9db9b9bc8a20fbe65">bcmVlanForwardBridging</a>,           <span class="comment">/* Switching based on MAC and VLAN     */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga0bd0ce4ecf369ed15deee51bca7e3c74a90f61cfc5850c9018d3fbdc3d7f0ebbd">bcmVlanForwardSingleCrossConnect</a>, <span class="comment">/* Switching based on outer VLAN       */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga0bd0ce4ecf369ed15deee51bca7e3c74a0e0ec037e6d7b84e9f81118ce11c93e5">bcmVlanForwardDoubleCrossConnect</a>  <span class="comment">/* Switching based on outer+inner VLAN */</span></div><div class="line">} <a class="code" href="group__vlan.html#gacb2578841706d1e98417b608734f43dd">bcm_vlan_forward_t</a>;</div></div><!-- fragment --><p>The following bcm_vlan_urpf_mode_t typedef is used in the <a class="el" href="vlan.html#bcm_vlan_urpf_mode_t">bcm_vlan_urpf_mode_t</a> structure to specify the urpf_mode values for L3_IIF. <a class="anchor" id="bcm_vlan_urpf_mode_t"></a></p><div class="fragment"><div class="line"><span class="comment">/* Per VLAN URPF Mode setting. */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__vlan.html#ga3b4aea3418e17358fb8b2fe9d9f0cf81">bcm_vlan_urpf_mode_e</a> {</div><div class="line">    <a class="code" href="group__vlan.html#gga3b4aea3418e17358fb8b2fe9d9f0cf81a274f3ee9e019de17e2aaae721228b6e5">bcmVlanUrpfDisable</a>, <span class="comment">/* Disable unicast RPF. */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga3b4aea3418e17358fb8b2fe9d9f0cf81ac57869c0aa7d34b498fbc129267d10be">bcmVlanUrpfLoose</a>,   <span class="comment">/* Loose mode Unicast RPF. */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga3b4aea3418e17358fb8b2fe9d9f0cf81a895a2753134198d9cc77d28f855b6b6a">bcmVlanUrpfStrict</a>   <span class="comment">/* Strict mode Unicast RPF. */</span></div><div class="line">} <a class="code" href="group__vlan.html#ga5e95caf60d7ea07c1fa7e4bbf3db31bb">bcm_vlan_urpf_mode_t</a>;</div></div><!-- fragment --><p>The following bcm_vlan_control_t typedef is used by the bcm_vlan_control functions <a class="el" href="group__vlan.html#bcm_vlan_control_set">bcm_vlan_control_set</a></p>
<p><a class="anchor" id="vlan_ctrl"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7a9b1645c5477d8ea47731fc2a478eda75">bcmVlanDropUnknown</a>,     <span class="comment">/* drop unknown/FFF VLAN pkts or send to CPU */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7ab65069d12d19dcf0c297cb24bf7c89e5">bcmVlanPreferIP4</a>,       <span class="comment">/* prefer IP Subnet VLAN selection */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7a007a0dfcda0cc8a7b3070c702096bf3b">bcmVlanPreferMAC</a>,       <span class="comment">/* prefer MAC VLAN selection */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7ad41b99a199560cc9f9285566860e45f1">bcmVlanShared</a>,          <span class="comment">/* Shared versus Independent VLAN Learning */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7a35525a2295157dd55ea542652f5f3d12">bcmVlanSharedID</a>,        <span class="comment">/* Shared Learning VLAN ID */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7adf9175ef5e74ad61418ba7650bdc4087">bcmVlanTranslate</a>,       <span class="comment">/* Chip is in VLAN translate mode */</span></div><div class="line">    bcmVlanIgnorePktTag,    <span class="comment">/* Ignore VLAN tag. Treat packet as untagged */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7a544c8f7db680723b3fd496c3a90168e4">bcmVlanPreferEgressTranslate</a>, <span class="comment">/* Do egress translation even if ingress FP</span></div><div class="line"><span class="comment">                                   * changes the outer/inner VLAN tag(s).</span></div><div class="line"><span class="comment">                                   */</span></div><div class="line">    bcmVlanPerPortTranslate,<span class="comment">/* Chip is in per port VLAN translate mode. */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7a7d69700401bb12d974229488aa5af719">bcmVlanIndependentStp</a>,  <span class="comment">/* Directly set port,VLAN stp state, ignoring</span></div><div class="line"><span class="comment">                             * STG in bcm_stg_stp_set().</span></div><div class="line"><span class="comment">                             */</span></div><div class="line">    bcmVlanIntelligentDT,    <span class="comment">/* Intelligent Double Tagging mode which is a</span></div><div class="line"><span class="comment">                             * specific feature for Vulcan only.</span></div><div class="line"><span class="comment">                             */</span></div><div class="line">    bcmVlanTranslateMode,    <span class="comment">/* Select modes of VLAN Translation. */</span></div><div class="line">    bcmVlanBypassIgmpMld,    <span class="comment">/* IGMP/MLD frame will bypass VLAN Ingress</span></div><div class="line"><span class="comment">                              * Filter and VLAN Egress Filter.</span></div><div class="line"><span class="comment">                              */</span></div><div class="line">    bcmVlanBypassArpDhcp,    <span class="comment">/* ARP/DHCP frame will flood in VLAN domain</span></div><div class="line"><span class="comment">                              * and copy to CPU even CPU is not in VLAN group.</span></div><div class="line"><span class="comment">                              */</span></div><div class="line">    bcmVlanBypassMiim,       <span class="comment">/* Enable CPU ingress frame bypass VLAN</span></div><div class="line"><span class="comment">                              * Ingress Filter and VLAN Egress Filter.</span></div><div class="line"><span class="comment">                              */</span></div><div class="line">    bcmVlanBypassMcast,      <span class="comment">/* Enable known multicast frame bypass VLAN</span></div><div class="line"><span class="comment">                              * Ingress Filter and VLAN Egress Filter.</span></div><div class="line"><span class="comment">                              */</span></div><div class="line">    bcmVlanBypassRsvdMcast,  <span class="comment">/* Enable reserved multicast frame bypass</span></div><div class="line"><span class="comment">                              * VLAN Ingress Filter and VLAN Egress Filter.</span></div><div class="line"><span class="comment">                              */</span></div><div class="line">    bcmVlanBypassL2UserAddr, <span class="comment">/* Enable L2 user address frame bypass VLAN</span></div><div class="line"><span class="comment">                              * Ingress Filter and VLAN Egress Filter.</span></div><div class="line"><span class="comment">                              */</span></div><div class="line">    bcmVlanUnknownLearn,     <span class="comment">/* Packets whose VLAN is not registered are</span></div><div class="line"><span class="comment">                              * learned when set to 1.</span></div><div class="line"><span class="comment">                              */</span></div><div class="line">    bcmVlanUnknownToCpu,     <span class="comment">/* Packets whose VLAN is not registered are</span></div><div class="line"><span class="comment">                              * sent to CPU when set to 1.</span></div><div class="line"><span class="comment">                              */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7a82433a4956b50ae0f729b413ae65c6b1">bcmVlanMemberMismatchLearn</a>,  <span class="comment">/* Packets&#39; incoming port is not the member</span></div><div class="line"><span class="comment">                                  * of the VLAN are learned when set to 1.</span></div><div class="line"><span class="comment">                                  */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7a8ce04f3ca9e67a979e81b986e27abe64">bcmVlanMemberMismatchToCpu</a>,  <span class="comment">/* Packets&#39; incoming port is not the member</span></div><div class="line"><span class="comment">                                  * of the VLAN are sent to CPU when set to 1.</span></div><div class="line"><span class="comment">                                  */</span></div><div class="line">    <a class="code" href="group__vlan.html#gga5565f79265e098d739557cd3a1b9f6d7a92789a747e64d1baef203c632c63899c">bcmVlanNativeVplsServiceTaggedMiss</a> <span class="comment">/* Configure Action for Native-AC lookup</span></div><div class="line"><span class="comment">                                          miss in the case of VPLS Service</span></div><div class="line"><span class="comment">                                          tagged. */</span></div><div class="line">} <a class="code" href="group__vlan.html#gafc6ece58629137f626c321f978762c79">bcm_vlan_control_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN Control Types</caption>
<tr>
<th>Type </th><th>Argument Effect  </th></tr>
<tr>
<td>bcmVlanDropUnknown </td><td>If the argument is non-zero, then it drops packets with unknown VLAN or VLAN ID equal to 4095, rather than sending them to the CPU.   </td></tr>
<tr>
<td>bcmVlanPreferIP4 </td><td>If the argument is non-zero, then it prefers IP subnet-based VLAN assignment over MAC-based VLAN assignment, whenever both are applicable.   </td></tr>
<tr>
<td>bcmVlanPreferMAC </td><td>If the argument is non-zero, then it prefers MAC-based VLAN assignment over IP subnet-based VLAN assignment, whenever both are applicable.   </td></tr>
<tr>
<td>bcmVlanShared </td><td>If the argument is non-zero, select Shared VLAN Learning. If the argument is zero, select Independent VLAN Learning. Note: This enables shared VLAN Learning using the global VLAN ID specified by, bcmVlanSharedID. On newer devices, a VLAN ID can be specified per-VLAN using the API <a class="el" href="group__vlan.html#bcm_vlan_control_vlan_set">bcm_vlan_control_vlan_set</a> . The newer per-VLAN feature is enabled using <a class="el" href="group__switch.html#bcm_switch_control_set">bcm_switch_control_set</a>, with the switch control, bcmSwitchSharedVlanEnable.   </td></tr>
<tr>
<td>bcmVlanSharedID </td><td>The argument is the Shared Learning VLAN ID. Used if bcmVlanShared is enabled.   </td></tr>
<tr>
<td>bcmVlanTranslate </td><td>If the argument is non-zero, translate one VLAN number to another VLAN number according to VLAN translation table.   </td></tr>
<tr>
<td>bcmVlanIgnorePktTag </td><td>If the argument is non-zero, then it ignores the packet VLAN tag, treat the packet as untagged packet.   </td></tr>
<tr>
<td>bcmVlanIndependentStp </td><td>If the argument is non-zero, <a class="el" href="group__stg.html#bcm_stg_stp_set">bcm_stg_stp_set</a> acts directly on the given port,vid, irrespective of STG, VLAN and PORT membership.   </td></tr>
<tr>
<td>bcmVlanIntelligentDT </td><td>If the argument is non-zero, set the device into intelligent Double Tagging mode.(for Vulcan only)   </td></tr>
<tr>
<td>bcmVlanTranslateMode </td><td>Select VLAN Translation mode.(for Thunderbolt only)   </td></tr>
<tr>
<td>bcmVlanBypassIgmpMld </td><td>If the argument is non-zero, IGMP/MLD frames will bypass the VLAN Ingress/Egress Filter.   </td></tr>
<tr>
<td>bcmVlanBypassArpDhcp </td><td>If the argument is non-zero, ARP/DHCP frames will bypass the VLAN Ingress/Egress Filter.   </td></tr>
<tr>
<td>bcmVlanBypassMiim </td><td>If the argument is non-zero, CPU ingress frames will bypass the VLAN Ingress/Egress Filter.   </td></tr>
<tr>
<td>bcmVlanBypassMcast </td><td>If the argument is non-zero, known multicast frames will bypass the VLAN Ingress/Egress Filter.   </td></tr>
<tr>
<td>bcmVlanBypassRsvdMcast </td><td>If the argument is non-zero, reserved multicast frames will bypass the VLAN Ingress/Egress Filter.   </td></tr>
<tr>
<td>bcmVlanBypassL2UserAddr </td><td>If the argument is non-zero, user-defined L2 address frames will bypass the VLAN Ingress/Egress Filter.   </td></tr>
<tr>
<td>bcmVlanUnknownLearn </td><td>If the argument is non-zero, packets whose VLAN is not registered are learned.   </td></tr>
<tr>
<td>bcmVlanUnknownToCpu </td><td>If the argument is non-zero, packets whose VLAN is not registered are sent to CPU.   </td></tr>
<tr>
<td>bcmVlanMemberMismatchLearn </td><td>If the argument is non-zero, packets' incoming port is not the member of the VLAN are learned.   </td></tr>
<tr>
<td>bcmVlanMemberMismatchToCpu </td><td>If the argument is non-zero, packets' incoming port is not the member of the VLAN are sent to CPU.   </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN-based protocol packet control flags</caption>
<tr>
<td>BCM_VLAN_PROTO_PKT_TOCPU_ENABLE </td><td>If flag is set, protocol packet is copied to CPU.  </td></tr>
<tr>
<td>BCM_VLAN_PROTO_PKT_FORWARD_ENABLE </td><td>If flag is set, protocol packet is forwarded based on MAC-DA.  </td></tr>
<tr>
<td>BCM_VLAN_PROTO_PKT_DROP_ENABLE </td><td>If flag is set, protocol packet is dropped.  </td></tr>
<tr>
<td>BCM_VLAN_PROTO_PKT_FLOOD_ENABLE </td><td>If flag is set, protocol packet is flooded to the VLAN members.  </td></tr>
</table>
<p>The following bcm_vlan_protocol_packet_ctrl_t typedef is used in <a class="el" href="vlan.html#bcm_vlan_control_vlan_t">bcm_vlan_control_vlan_t</a> to configure protocol packet actions for the given VLAN.</p>
<div class="fragment"><div class="line"><span class="comment">/* Per VLAN Protocol Packet control. A given protocol packet&#39;s action can be</span></div><div class="line"><span class="comment"> * set to copy to CPU by setting VLAN_PROTO_PKT_TOCPU_ENABLE flag.</span></div><div class="line"><span class="comment"> * Additionally the protocol packet can either be forwarded based on MAC-DA,</span></div><div class="line"><span class="comment"> * flooded to VLAN members or dropped by setting the flags</span></div><div class="line"><span class="comment"> * VLAN_PROTO_PKT_FORWARD_ENABLE, VLAN_PROTO_PKT_FLOOD_ENABLE, or</span></div><div class="line"><span class="comment"> * VLAN_PROTO_PKT_DROP_ENABLE respectively. */</span></div><div class="line"></div><div class="line"> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html">bcm_vlan_protocol_packet_ctrl_s</a> {</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#aa167a3b98703e1c40723890d63f7881f">mmrp_action</a>;                <span class="comment">/* MMRP packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#add01362a63835d51e0e179019aee1b8d">srp_action</a>;                 <span class="comment">/* SRP packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a451a531d03d84a16d0177e037c368618">arp_reply_action</a>;           <span class="comment">/* ARP reply packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a6865e7eec074e58691b0f47c42782387">arp_request_action</a>;         <span class="comment">/* ARP request packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#ac059ef8fa4bbba5fb759b1d555f2b31d">nd_action</a>;                  <span class="comment">/* ND packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a1c76be9cbe3834454ac58f8746f917c3">dhcp_action</a>;                <span class="comment">/* DHCP packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#ac8c79c693548bb1b9bbd6056592684ab">igmp_report_leave_action</a>;   <span class="comment">/* IGMP Report(v1,v2,v3)/Leave(v2) packet</span></div><div class="line"><span class="comment">                                       action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#aba42b753395aff2b818583c6149ac50a">igmp_query_action</a>;          <span class="comment">/* IGMP Query packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a4647a08b69297b233ef74795b01af1c6">igmp_unknown_msg_action</a>;    <span class="comment">/* Unknown IGMP message packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a0cf6af3d012b2910a4020f0011250782">mld_report_done_action</a>;     <span class="comment">/* MLD Report(v1,v2)/Done(v1) packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a9bc8205e48742289b2fb673e04dc95ca">mld_query_action</a>;           <span class="comment">/* MLD Query packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a9d99a11358cb9e69cd02d696c5b027f4">ip4_rsvd_mc_action</a>;         <span class="comment">/* IPv4 reserved multicast packet</span></div><div class="line"><span class="comment">                                       (DIP=224.0.0.X) action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a72bb7604e4a09409c51bfa21501fed9e">ip6_rsvd_mc_action</a>;         <span class="comment">/* IPv6 reserved multicast packet</span></div><div class="line"><span class="comment">                                       (DIP=ff0X:0:0:0:0:0:0:0) action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#ad54164580b7866e35122f675b379187a">ip4_mc_router_adv_action</a>;   <span class="comment">/* IPv4 multicast router</span></div><div class="line"><span class="comment">                                       advertisement/solicitation/termination</span></div><div class="line"><span class="comment">                                       (ICMP types 151,152,153) packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a0bb2d0d15d76dbadf6126db4b97316ba">ip6_mc_router_adv_action</a>;   <span class="comment">/* IPv6 multicast router</span></div><div class="line"><span class="comment">                                       advertisement/solicitation/termination</span></div><div class="line"><span class="comment">                                       (ICMP types 151,152,153) packet action */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html#a814b2c32e6affd40915b38aeb20ea2b8">flood_action_according_to_pfm</a>; <span class="comment">/* Use PFM rules for flooding IGMP/</span></div><div class="line"><span class="comment">                                       MLD/IPv4, IPv6 Reserved Multicast */</span></div><div class="line">} <a class="code" href="group__vlan.html#ga7189bf7f6703a393c69db0f6a070d733">bcm_vlan_protocol_packet_ctrl_t</a>;</div></div><!-- fragment --><p>The following bcm_vlan_control_port_t typedef is used by the StrataXGS III devices per-port bcm_vlan_control_port functions <a class="el" href="group__vlan.html#bcm_vlan_control_port_set">bcm_vlan_control_port_set</a></p>
<p><a class="anchor" id="vlan_ctrl_port"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a43610ab82c7d0491a1577296258348a1">bcmVlanPortPreferIP4</a>,</div><div class="line">    bcmVlanPortPreferMac,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a168d69f247a7bb11b75dd4833f723387">bcmVlanTranslateIngressEnable</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a394c8a59b534a06dff08e4d5b3cc6b96">bcmVlanTranslateIngressHitDrop</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a9a4954b7bf4017b568f69cbd142664e7">bcmVlanTranslateIngressMissDrop</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a4c999a86a501e94c8977b8071c7db9cc">bcmVlanTranslateEgressEnable</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a1cddf6b1df2064c4bd06ec1845fcd79c">bcmVlanTranslateEgressMissDrop</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05ac434d7308f8892e72e9813f91c0d3348">bcmVlanTranslateEgressMissUntaggedDrop</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05ad0c6df1912b37398f8411ee871574348">bcmVlanTranslateEgressMissUntag</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a91338f34a606393917dd0a44e49c2774">bcmVlanLookupMACEnable</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a22a078df03791307b1b7f8d92ecde0dd">bcmVlanLookupIPEnable</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05ab15669ec710f26d57eaa7fcc2fee3a7f">bcmVlanPortUseInnerPri</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05ac8175d8d795a86f256120eca4698d2b6">bcmVlanPortVerifyOuterTpid</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05ade70f04cd97f85f27f42a6d9122cc2f6">bcmVlanPortOuterTpidSelect</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05aa5527cc2b58682be2286677d2dbceae5">bcmVlanPortIgnorePktTag</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a769b9ecd901b2b8ad7054f62723d5109">bcmVlanPortUntaggedDrop</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a7054d9efa25accbb0d991982a887f46f">bcmVlanPortPriTaggedDrop</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a1c6d2194a32907111943a1dea540408a">bcmVlanPortDoubleLookupEnable</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a093461bd1519c88614fe520f7b511b20">bcmVlanPortLookupTunnelEnable</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a040f69c1f17ef9038a6fc8dd782aa3b8">bcmVlanPortIgnoreInnerPktTag</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a9e7d3c10cf859efe8c37169673972cb1">bcmVlanPortJoinAllVlan</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05aecaba7193c4a5318f6c1d324a2ddb25c">bcmVlanPortOamUseXlatedInnerVlan</a>,</div><div class="line">    bcmVlanPortTranslateFcoeKeyFirst,</div><div class="line">    bcmVlanPortTranslateFcoeKeySecond,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05afcaa958d7b2bf6acc814b8dafff235cf">bcmVlanPortTranslateEgressKey</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a48fff4c6743934f479b285803f82862a">bcmVlanPortTranslateEgressKeyFirst</a>,</div><div class="line">    <a class="code" href="group__vlan.html#gga46eb2b1fbc711e3ee917a7ad7ed0fa05a12790f8ca5bcbe7e0a54391ed987872e">bcmVlanPortTranslateEgressKeySecond</a></div><div class="line">} <a class="code" href="group__vlan.html#ga5a014908a24dd8f2ebbf02f14617aa8f">bcm_vlan_control_port_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN Control Port Types</caption>
<tr>
<th>Type </th><th>Argument Effect  </th></tr>
<tr>
<td>bcmVlanPortPreferIP4 </td><td>If the argument is non-zero, then it prefers IP subnet-based VLAN assignment over MAC-based VLAN assignment, whenever both are applicable.   </td></tr>
<tr>
<td>bcmVlanPortPreferMAC </td><td>If the argument is non-zero, then it prefers MAC-based VLAN assignment over IP subnet-based VLAN assignment, whenever both are applicable.   </td></tr>
<tr>
<td>bcmVlanTranslateIngressEnable </td><td>If the argument is non-zero, then it enables s ingress VLAN translation.   </td></tr>
<tr>
<td>bcmVlanTranslateIngressHitDrop </td><td>If the argument is non-zero, then it enables s dropping packets which hit an ingress VLAN translation lookup.   </td></tr>
<tr>
<td>bcmVlanTranslateIngressMissDrop </td><td>If the argument is non-zero, then it enables s dropping packets which missed an ingress VLAN translation lookup.   </td></tr>
<tr>
<td>bcmVlanTranslateEgressEnable </td><td>If the argument is non-zero, then it enables s egress VLAN translation.   </td></tr>
<tr>
<td>bcmVlanTranslateEgressMissDrop </td><td>If the argument is non-zero, then it enables s dropping packets which missed an egress VLAN translation lookup.   </td></tr>
<tr>
<td>bcmVlanTranslateEgressMissUntaggedDrop </td><td>If the argument is non-zero, enables dropping packets which missed an egress VLAN translation lookup and which are untagged at egress.   </td></tr>
<tr>
<td>bcmVlanTranslateEgressMissUntag </td><td>If the argument is non-zero, removes the outermost tag of the packet if no matching entry in egress VLAN translation.   </td></tr>
<tr>
<td>bcmVlanLookupMACEnable </td><td>If the argument is non-zero, then it enables s MAC-based VLANs   </td></tr>
<tr>
<td>bcmVlanLookupIPEnable </td><td>If the argument is non-zero, then it enables s subnet-based VLANs   </td></tr>
<tr>
<td>bcmVlanPortUseOuterPri </td><td>If enabled, use the outer VLAN tag to determine priority configured with <a class="el" href="group__port.html#bcm_port_vlan_priority_map_set">bcm_port_vlan_priority_map_set</a> . Otherwise, use the priority set by VLAN translate, VLAN MAC, VLAN IP, or port default.   </td></tr>
<tr>
<td>bcmVlanPortUseInnerPri </td><td>If enabled, use the inner VLAN tag to determine priority configured with <a class="el" href="group__port.html#bcm_port_vlan_priority_map_set">bcm_port_vlan_priority_map_set</a> . Otherwise, use the priority set by VLAN translate, VLAN MAC, VLAN IP, or port default.   </td></tr>
<tr>
<td>bcmVlanPortVerifyOuterTpid </td><td>Verify outer TPID against VLAN's TPID configured with <a class="el" href="group__vlan.html#bcm_vlan_control_vlan_set">bcm_vlan_control_vlan_set</a>   </td></tr>
<tr>
<td>bcmVlanPortOuterTpidSelect </td><td>Select between per port or per VLAN TPID for the outer tag. BCM_PORT_OUTER_TPID - use TPID set by bcm_port_tpid_set. BCM_VLAN_OUTER_TPID - use TPID set by <a class="el" href="group__vlan.html#bcm_vlan_control_vlan_set">bcm_vlan_control_vlan_set</a>   </td></tr>
<tr>
<td>bcmVlanPortTranslateKeyFirst </td><td>Key type used in first VLAN translation lookup <a class="el" href="vlan.html#BCM_VLAN_TRANSLATE_KEY_t">BCM_VLAN_TRANSLATE_KEY_t</a>   </td></tr>
<tr>
<td>bcmVlanPortTranslateKeySecond </td><td>Key type used in second VLAN translation lookup <a class="el" href="vlan.html#BCM_VLAN_TRANSLATE_KEY_t">BCM_VLAN_TRANSLATE_KEY_t</a>   </td></tr>
<tr>
<td>bcmVlanPortIgnorePktTag </td><td>If the argument is non-zero, then it ignores the packet VLAN tag on the port, treat the packet as untagged packet.   </td></tr>
<tr>
<td>bcmVlanPortUntaggedDrop </td><td>If the argument is non-zero, then it drops the untagged packets on the port.   </td></tr>
<tr>
<td>bcmVlanPortPriTaggedDrop </td><td>If the argument is non-zero, then it drops the priority-tagged packets on the port.   </td></tr>
<tr>
<td>bcmVlanPortDoubleLookupEnable </td><td>If set, Port use Double lookup for VLAN translation.  </td></tr>
<tr>
<td>bcmVlanPortLookupTunnelEnable </td><td>If the argument is non zero, port enables additional Tunnel lookup in case of no match for VLAN translation.   </td></tr>
<tr>
<td>bcmVlanPortIgnoreInnerPktTag </td><td>If the argument is non zero, port use first VLAN to lookup for VLAN translation.   </td></tr>
<tr>
<td>bcmVlanPortJoinAllVlan </td><td>If the argument is non zero, the VLAN-tagged frame is always allowed to be forwarded to this port irrespective the configuration for the VLANs. This port becomes tagged member port of all VLANs.   </td></tr>
<tr>
<td>bcmVlanPortOamUseXlatedInnerVlan </td><td>If set, C-VLAN MEP uses translated vlan  </td></tr>
<tr>
<td>bcmVlanPortTranslateFcoeKeyFirst </td><td>Selects key to use for first vlan xlate lookup if EtherType if FCoE  </td></tr>
<tr>
<td>bcmVlanPortTranslateFcoeKeySecond </td><td>Selects key to use for second vlan xlate lookup if EtherType if FCoE  </td></tr>
<tr>
<td>bcmVlanPortTranslateEgressKey </td><td>Selects key to use for egress vlan xlate lookup  </td></tr>
<tr>
<td>bcmVlanPortTranslateEgressKeyFirst </td><td>Selects key to use for first egress vlan xlate lookup. This is an alias of bcmVlanPortTranslateEgressKey.   </td></tr>
<tr>
<td>bcmVlanPortTranslateEgressKeySecond </td><td>Selects key to use for second egress vlan xlate lookup. Note that the explicit second egress vlan xlate lookup will be performed only if this key is programmed. Also, only the class ID field from the resulting egress vlan xlate entry will be used for further processing.   </td></tr>
<tr>
<td>bcmVlanPortPayloadTagsDelete </td><td>If the argument is non-zero, the inner tag in L2 tunnel packet is allowed to be deleted.   </td></tr>
<tr>
<td>bcmVlanPortTranslateEgressVnidEnable </td><td>If the argument is non-zero, egress VLAN translation lookup is used for VNID.   </td></tr>
</table>
<p>The key types for VLAN translation lookup are defined in bcm_vlan_translate_key_t. <a class="anchor" id="BCM_VLAN_TRANSLATE_KEY_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_vlan_translate_key_t</caption>
<tr>
<th>VLAN Translate Key Types </th><th>Description  </th></tr>
<tr>
<td>bcmVlanTranslateKeyInvalid </td><td>Invalid Key Type  </td></tr>
<tr>
<td>bcmVlanTranslateKeyDouble </td><td>Use O-VID[11:0] and I-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyOuter </td><td>Use O-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyInner </td><td>Use I-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyOuterTag </td><td>Use O-TAG[15:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyInnerTag </td><td>Use I-TAG[15:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyOuterPri </td><td>Use O-TAG[15:12]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortDouble </td><td>Use Port, O-VID[11:0] and I-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortOuter </td><td>Use Port, O-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortInner </td><td>Use Port, I-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortOuterTag </td><td>Use Port, O-TAG[15:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortInnerTag </td><td>Use Port, I-TAG[15:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortOuterPri </td><td>Use Port, O-TAG[15:12]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyDoubleVsan </td><td>Use I-VID[11:0], O-VID[11:0] and VSAN-ID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyInnerVsan </td><td>Use I-VID[11:0] and VSAN-ID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyOuterVsan </td><td>Use O-VID[11:0] and VSAN-ID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortPonTunnel </td><td>Use Port, LLVID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortPonTunnelOuter </td><td>Use Port, LLVID[11:0] and O-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortPonTunnelInner </td><td>Use Port LLVID[11:0] and I-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyCapwapPayloadDouble </td><td>Use O-VID[11:0] and I-VID[11:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyCapwapPayloadOuter </td><td>Use O-VID[11:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyCapwapPayloadInner </td><td>Use I-VID[11:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyCapwapPayloadOuterTag </td><td>Use O-TAG[15:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyCapwapPayloadInnerTag </td><td>Use I-TAG[15:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortCapwapPayloadDouble </td><td>Use Port, O-VID[11:0] and I-VID[11:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortCapwapPayloadOuter </td><td>Use Port and O-VID[11:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortCapwapPayloadInner </td><td>Use Port and I-VID[11:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortCapwapPayloadOuterTag </td><td>Use Port and O-TAG[15:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortCapwapPayloadInnerTag </td><td>Use Port and I-TAG[15:0] in CAPWAP wireless payload  </td></tr>
<tr>
<td>bcmVlanTranslateKeyVxlanVnid </td><td>Use VNID[23:0] in VXLAN header  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortVxlanVnid </td><td>Use Port and VNID[23:0] in VXLAN header  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortGroupDouble </td><td>Use Port-Group, O-VID[11:0] and I-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortGroupOuter </td><td>Use Port-Group, O-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortGroupInner </td><td>Use Port-Group, I-VID[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortGroupOuterTag </td><td>Use Port-Group, O-TAG[15:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortGroupInnerTag </td><td>Use Port-Group, I-TAG[15:0]  </td></tr>
<tr>
<td>bcmVlanTranslateKeyPortGroupOuterPri </td><td>Use Port-Group, (VLAN-PRI, VLAN-CFI =&gt; O-TAG[15:12])  </td></tr>
<tr>
<td>bcmVlanTranslateKeyMacPort </td><td>Use Mac Address[47:0] and Port  </td></tr>
<tr>
<td>bcmVlanTranslateKeyMacVirtualPort </td><td>Use Mac Address[47:0] + Virtual Port  </td></tr>
<tr>
<td>bcmVlanTranslateKeyMacPortGroup </td><td>Use Mac Address[47:0] and Port-Group[11:0]  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyVxlanSubChannel </td><td>Use DGPP, O-VID[11:0] and I-VID[11:0]  </td></tr>
</table>
<p>The key types for egress VLAN translation lookup are defined in bcm_vlan_translate_egress_key_t. <a class="anchor" id="BCM_VLAN_TRANSLATE_EGRESS_KEY_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_vlan_translate_egress_key_t</caption>
<tr>
<th>VLAN Translate Egress Key Types </th><th>Description  </th></tr>
<tr>
<td>bcmVlanTranslateEgressKeyInvalid </td><td>Invalid Key Type  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyVpn </td><td>Use VPN ID  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyVpnGport </td><td>Use VPN ID and Gport  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyVpnGportGroup </td><td>Use VPN ID and Gport group  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyVlanPort </td><td>Use VLAN ID and physical port  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyPortGroupDouble </td><td>Use port-group ID, OVID, IVID  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyPortDouble </td><td>Use port, OVID, IVID  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyVlanGport </td><td>Use VLAN and GPORT  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyVpnPortGroup </td><td>Use VPN ID and port-group ID  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeySrcGport </td><td>Use source GPORT  </td></tr>
<tr>
<td>bcmVlanTranslateEgressKeyCount </td><td>VLAN translation egress key count  </td></tr>
</table>
<p>The flags used by the VLAN queue map API are defined in Table. <a class="anchor" id="BCM_VLAN_QUEUE_MAP_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN Queue Map flags</caption>
<tr>
<th>Flag </th><th>Description  </th></tr>
<tr>
<td>BCM_VLAN_QUEUE_MAP_WITH_ID </td><td>Use the specified ID.  </td></tr>
<tr>
<td>BCM_VLAN_QUEUE_MAP_REPLACE </td><td>Replace existing entry.  </td></tr>
<tr>
<td>BCM_VLAN_QUEUE_MAP_INNER_PKT_PRI </td><td>Use packet priority from inner tag for mapping  </td></tr>
<tr>
<td>BCM_VLAN_QUEUE_MAP_OUTER_PKT_PRI </td><td>Use packet priority from outer tag for mapping  </td></tr>
</table>
<p>The following control flags are used in the <a class="el" href="vlan.html#bcm_vlan_control_vlan_t">bcm_vlan_control_vlan_t</a> structure (learn_flags) to specify the learn control for VLAN-based.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN Based Learn Mode</caption>
<tr>
<th>Flag </th><th>Description  </th></tr>
<tr>
<td>BCM_VLAN_LEARN_CONTROL_ENABLE </td><td>Enable the VLAN-based Learn will override port-based learning.  </td></tr>
<tr>
<td>BCM_VLAN_LEARN_CONTROL_ARL </td><td>Do hardware learn on a VLAN basis.  </td></tr>
<tr>
<td>BCM_VLAN_LEARN_CONTROL_CPU </td><td>Copy to CPU on a VLAN basis  </td></tr>
<tr>
<td>BCM_VLAN_LEARN_CONTROL_FWD </td><td>Packet Forwarding on a VLAN basis  </td></tr>
<tr>
<td>BCM_VLAN_LEARN_CONTROL_PENDING </td><td>Pending Learn on a VLAN basis (hardware learn must be set)  </td></tr>
</table>
<p>The following control flags are used in the <a class="el" href="vlan.html#bcm_vlan_control_vlan_t">bcm_vlan_control_vlan_t</a> structure (sr_flags) to specify flags of Seamless Redundancy for VLAN-based.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN Based Seamless Redundancy Flags</caption>
<tr>
<th>Flag </th><th>Description  </th></tr>
<tr>
<td>BCM_VLAN_CONTROL_SR_FLAG_ENABLE </td><td>Enable SR on this VLAN.  </td></tr>
<tr>
<td>BCM_VLAN_CONTROL_SR_FLAG_LAN_ID </td><td>Set if LAN B. Otherwise LAN A.  </td></tr>
<tr>
<td>BCM_VLAN_CONTROL_SR_FLAG_ENABLE_WITH_LAN_ID_A </td><td>Combined flag to enable SR and set it as LAN A.  </td></tr>
<tr>
<td>BCM_VLAN_CONTROL_SR_FLAG_ENABLE_WITH_LAN_ID_B </td><td>Combined flag to enable SR and set it as LAN B.  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga9bd504813b5d830204cd9a4174729bbc" title="Initialize the VLAN module.">bcm_vlan_init(int unit)</a>  </td><td>Initialize the VLAN module.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad53d20475a9312b4e89e2b90fb3e15dd" title="Allocate and configure a VLAN on the BCM device.">bcm_vlan_create(int unit, bcm_vlan_t vid)</a>  </td><td>Allocate and configure a VLAN on the BCM device.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga231e318a1190d64692949ff4956076d8" title="Deallocate VLAN from the BCM device.">bcm_vlan_destroy(int unit, bcm_vlan_t vid)</a>  </td><td>Deallocate VLAN from the BCM device.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gae641f9012e2060eee8abb46763f283de" title="Destroy all VLANs except the default VLAN.">bcm_vlan_destroy_all(int unit)</a>  </td><td>Destroy all VLANs except the default VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga74bf81f0ec29fad7eeade994c7648ab8" title="Add ports to the specified VLAN.">bcm_vlan_port_add(int unit, bcm_vlan_t vid, bcm_pbmp_t pbmp, bcm_pbmp_t ubmp)</a>  </td><td>Add ports to the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga09cb83413b7464d5439bc0c7c8088b54" title="Remove ports from a specified VLAN.">bcm_vlan_port_remove(int unit, bcm_vlan_t vid, bcm_pbmp_t pbmp)</a>  </td><td>Remove ports from a specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga75e0b2130ce11adde1d86de8c3363dbd" title="Retrieves a list of the member ports of an existing VLAN.">bcm_vlan_port_get(int unit, bcm_vlan_t vid, bcm_pbmp_t* pbmp, bcm_pbmp_t* ubmp)</a>  </td><td>Retrieves a list of the member ports of an existing VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaea7f0f8fd419d31a96e79ae2f8e82661" title="Add a virtual or physical port to the specified VLAN.">bcm_vlan_gport_add(int unit, bcm_vlan_t vlan, bcm_gport_t port, int flags)</a>  </td><td>Add a virtual or physical port to the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga55daf5aaa5b1f812716a031a65b83945" title="Remove a virtual or physical port from the specified VLAN.">bcm_vlan_gport_delete(int unit, bcm_vlan_t vlan, bcm_gport_t port)</a>  </td><td>Remove a virtual or physical port from the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga15cc60c5c1daccf1bb7b41b5e3c668e5" title="Remove a virtual or physical port from the specified VLAN.">bcm_vlan_gport_extended_delete(int unit, bcm_vlan_t vlan, bcm_gport_t port, int flags)</a>  </td><td>Remove a virtual or physical port from the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga33a23d783b676bfa36a42fa97ca05420" title="Removes all virtual and physical port from the specified VLAN.">bcm_vlan_gport_delete_all(int unit, bcm_vlan_t vlan)</a>  </td><td>Removes all virtual and physical port from the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaca8943c80b8f08f848a880a64b99eece" title="Get a virtual or physical port from the specified VLAN.">bcm_vlan_gport_get(int unit, bcm_vlan_t vlan, bcm_gport_t port, int* flags)</a>  </td><td>Get a virtual or physical port from the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga37bb38d46b56e68390d2b9a4fc722da5" title="Get all virtual and physical ports from the specified VLAN.">bcm_vlan_gport_get_all(int unit, bcm_vlan_t vlan, int array_max, bcm_gport_t* gport_array, int* flags_array, int* array_size)</a>  </td><td>Get all virtual and physical ports from the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga4e687cc63652452fee691fa186274aa3" title="Initialize a VLAN data information structure.">bcm_vlan_data_t_init(bcm_vlan_data_t* vlan_data)</a>  </td><td>Initialize a VLAN data information structure.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab460fd6e51a9818f504778141cd017e9" title="Returns an array of defined VLANs and their port bitmaps. If by pbmp, then only VLANs which contain a...">bcm_vlan_list(int unit, bcm_vlan_data_t** listp, int* countp)</a>  </td><td>Returns an array of defined VLANs and their port bitmaps. If by pbmp, then only VLANs which contain at least one of the specified ports are listed.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga9e860b819a5a68ec37b006d7e712b0f2" title="Returns an array of defined VLANs and their port bitmaps. If by pbmp, then only VLANs which contain a...">bcm_vlan_list_by_pbmp(int unit, bcm_pbmp_t ports, bcm_vlan_data_t** listp, int* countp)</a>  </td><td>Returns an array of defined VLANs and their port bitmaps. If by pbmp, then only VLANs which contain at least one of the specified ports are listed.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac3aa798450a6cb7beb0f597ed0f45778" title="Destroy a list returned by bcm_vlan_list.">bcm_vlan_list_destroy(int unit, bcm_vlan_data_t* list, int count)</a>  </td><td>Destroy a list returned by bcm_vlan_list.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga2f52250924d9d49df8f3cb48e10169a4" title="Set the default VLAN ID.">bcm_vlan_default_set(int unit, bcm_vlan_t vid)</a>  </td><td>Set the default VLAN ID.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga1ed4b3c71c863f8732383e04e99e170a" title="Get the default VLAN ID.">bcm_vlan_default_get(int unit, bcm_vlan_t* vid_ptr)</a>  </td><td>Get the default VLAN ID.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga52ffa7f1fa1a402bdfb34460766a06db" title="Update the VTABLE STG for the specified VLAN.">bcm_vlan_stg_set(int unit, bcm_vlan_t vid, bcm_stg_t stg)</a>  </td><td>Update the VTABLE STG for the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga29fe3e663abd0944aa434e9eabd1f134" title="Retrieve the VTABLE STG for the specified VLAN.">bcm_vlan_stg_get(int unit, bcm_vlan_t vid, bcm_stg_t* stg_ptr)</a>  </td><td>Retrieve the VTABLE STG for the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gafb45e2b125784374185f55ee6d4f84ff" title="Set/get the spanning tree state for a port in the whole spanning tree group that contains the specifi...">bcm_vlan_stp_set(int unit, bcm_vlan_t vid, bcm_port_t port, int stp_state)</a>  </td><td>Set/get the spanning tree state for a port in the whole spanning tree group that contains the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga3d94d9642e6f4de64f2ab146372e28af" title="Set/get the spanning tree state for a port in the whole spanning tree group that contains the specifi...">bcm_vlan_stp_get(int unit, bcm_vlan_t vid, bcm_port_t port, int* stp_state)</a>  </td><td>Set/get the spanning tree state for a port in the whole spanning tree group that contains the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga87aece5d1fe0983a6c667ccf238f0e62" title="Set spanning tree state for a port over a VLAN vector.">bcm_vlan_vector_stp_set(int unit, bcm_vlan_vector_t vlan_vector, bcm_port_t port, int stp_state)</a>  </td><td>Set spanning tree state for a port over a VLAN vector.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga9fd7d9e0f341fd1cea56ac5f6bc725fc" title="Initialize a VLAN tag action set structure.">bcm_vlan_action_set_t_init(bcm_vlan_action_set_t* action)</a>  </td><td>Initialize a VLAN tag action set structure.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga93c00c72a8be3b28366c0836539f716f" title="Get or set the port&#39;s default VLAN tag actions.">bcm_vlan_port_default_action_set(int unit, bcm_port_t port, bcm_vlan_action_set_t* action)</a>  </td><td>Get or set the port's default VLAN tag actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga7f9ebd93fcc2e8a80f4ab55a4d5f304f" title="Get or set the port&#39;s default VLAN tag actions.">bcm_vlan_port_default_action_get(int unit, bcm_port_t port, bcm_vlan_action_set_t* action)</a>  </td><td>Get or set the port's default VLAN tag actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga31233596319f5e545328b7cf1d47614f" title="Deletes the port&#39;s default VLAN tag actions.">bcm_vlan_port_default_action_delete(int unit, bcm_port_t port)</a>  </td><td>Deletes the port's default VLAN tag actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga63839c7aa9afde6003169eb687fb6752" title="Get or set the egress default VLAN tag actions.">bcm_vlan_port_egress_default_action_set(int unit, bcm_port_t port, bcm_vlan_action_set_t* action)</a>  </td><td>Get or set the egress default VLAN tag actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaaf3547657b798f0a92f46419e7123dc6" title="Get or set the egress default VLAN tag actions.">bcm_vlan_port_egress_default_action_get(int unit, bcm_port_t port, bcm_vlan_action_set_t* action)</a>  </td><td>Get or set the egress default VLAN tag actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga0d9605624eda4fb246d71844aed30a0a" title="Deletes the egress default VLAN tag actions.">bcm_vlan_port_egress_default_action_delete(int unit, bcm_port_t port)</a>  </td><td>Deletes the egress default VLAN tag actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa122d8074a6b6ae107c569373739cc45" title="Add protocol-based VLAN with specified action. If the entry already exists, update the action.">bcm_vlan_port_protocol_action_add(int unit, bcm_port_t port, bcm_port_frametype_t frame, bcm_port_ethertype_t ether, bcm_vlan_action_set_t* action)</a>  </td><td>Add protocol-based VLAN with specified action. If the entry already exists, update the action.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga567e8b94598951779083e9c469682654" title="Get protocol-based VLAN specified action.">bcm_vlan_port_protocol_action_get(int unit, bcm_port_t port, bcm_port_frametype_t frame, bcm_port_ethertype_t ether, bcm_vlan_action_set_t* action)</a>  </td><td>Get protocol-based VLAN specified action.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab2db3aed5042bd0049140fef9a19e708" title="Delete protocol-based VLAN action.">bcm_vlan_port_protocol_action_delete(int unit, bcm_port_t port, bcm_port_frametype_t frame, bcm_port_ethertype_t ether)</a>  </td><td>Delete protocol-based VLAN action.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab283ff3c9ab61b3a4b415f7371275c60" title="Delete all protocol-based VLAN actions.">bcm_vlan_port_protocol_action_delete_all(int unit, bcm_port_t port)</a>  </td><td>Delete all protocol-based VLAN actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga6aa7da1ad0b9be14417f6c916d2e378e" title="Iterates over all protocol-based VLAN actions and executes a given callback function.">bcm_vlan_port_protocol_action_traverse(int unit, bcm_vlan_port_protocol_action_traverse_cb cb, void* user_data)</a>  </td><td>Iterates over all protocol-based VLAN actions and executes a given callback function.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga2be64a223fb42c71f3352097e4b63680" title="Add an association from MAC address to VLAN to use for assigning a VLAN tag to untagged packets.">bcm_vlan_mac_add(int unit, bcm_mac_t mac, bcm_vlan_t vid, int prio)</a>  </td><td>Add an association from MAC address to VLAN to use for assigning a VLAN tag to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga542e10f2a3c4e80211e04da1db1e1956" title="Remove an association from MAC address to VLAN.">bcm_vlan_mac_delete(int unit, bcm_mac_t mac)</a>  </td><td>Remove an association from MAC address to VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga345799776f3184ddb2b71022ce1f4669" title="Remove all associations from MAC addresses to VLAN.">bcm_vlan_mac_delete_all(int unit)</a>  </td><td>Remove all associations from MAC addresses to VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gae7b13e60e4560245a4a1dd94ef167a1f" title="Add an association from MAC address to VLAN actions to use for assigning VLAN tag actions to untagged...">bcm_vlan_mac_action_add(int unit, bcm_mac_t mac, bcm_vlan_action_set_t* action)</a>  </td><td>Add an association from MAC address to VLAN actions to use for assigning VLAN tag actions to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga8326200d75d140fc4d4365c2c4243d52" title="Remove an association from MAC address to VLAN actions, which are used for VLAN tag assignment to unt...">bcm_vlan_mac_action_delete(int unit, bcm_mac_t mac)</a>  </td><td>Remove an association from MAC address to VLAN actions, which are used for VLAN tag assignment to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga3f0bd6cc1daca90bf9010a07efaf13d6" title="Remove all MAC addresses to VLAN actions associations. MAC-to-VLAN actions are used for VLAN tag assi...">bcm_vlan_mac_action_delete_all(int unit)</a>  </td><td>Remove all MAC addresses to VLAN actions associations. MAC-to-VLAN actions are used for VLAN tag assignment to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga94679498a9f03d335a7d24f54486f00b" title="Retrieve an association from MAC address to VLAN actions, which are used for VLAN tag assignment to u...">bcm_vlan_mac_action_get(int unit, bcm_mac_t mac, bcm_vlan_action_set_t* action)</a>  </td><td>Retrieve an association from MAC address to VLAN actions, which are used for VLAN tag assignment to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad8e9245eae899690085a64fbb16a4080" title="Traverse over VLAN MAC actions, which are used for VLAN tag/s assignment to untagged packets.">bcm_vlan_mac_action_traverse(int unit, bcm_vlan_mac_action_traverse_cb cb, void* user_data)</a>  </td><td>Traverse over VLAN MAC actions, which are used for VLAN tag/s assignment to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga5372d6e9fb7618efc50870f2b1ed22bf" title="Add an entry to the VLAN Translation table.">bcm_vlan_translate_add(int unit, int port, bcm_vlan_t old_vid, bcm_vlan_t new_vid, int prio)</a>  </td><td>Add an entry to the VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga168a8ae8d19ff222a3ce01bd3821c657" title="Delete an entry or entries from the VLAN Translation table.">bcm_vlan_translate_delete(int unit, int port, bcm_vlan_t old_vid)</a>  </td><td>Delete an entry or entries from the VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaaa063d3cea153a1eea007b517bc1c933" title="Remove all entries from the VLAN Translation table.">bcm_vlan_translate_delete_all(int unit)</a>  </td><td>Remove all entries from the VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa0ac0a659bddaf0209039f7bf5094a34" title="Get the VLAN translation for a given port and source VLAN ID.">bcm_vlan_translate_get(int unit, int port, bcm_vlan_t old_vid, bcm_vlan_t* new_vid, int* prio)</a>  </td><td>Get the VLAN translation for a given port and source VLAN ID.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad6119c545397d034ec70096794b30127" title="Iterate over VLAN translation table and calls user-provided callback for every valid entry.">bcm_vlan_translate_traverse(int unit, bcm_vlan_translate_traverse_cb cb, void* user_data)</a>  </td><td>Iterate over VLAN translation table and calls user-provided callback for every valid entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga7dc02d602ed5a79bf76147dc6311a78a" title="Add an entry to the VLAN Translation table and assign VLAN actions.">bcm_vlan_translate_action_add(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_action_set_t* action)</a>  </td><td>Add an entry to the VLAN Translation table and assign VLAN actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab60c789c7f988ff57cf8498812c3de70" title="Add an entry to the VLAN Translation table and assign VLAN actions.">bcm_vlan_translate_action_create(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_action_set_t* action)</a>  </td><td>Add an entry to the VLAN Translation table and assign VLAN actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga8b19401550a247520c6a92ae4450670c" title="Delete an entry from the VLAN Translation table.">bcm_vlan_translate_action_delete(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan)</a>  </td><td>Delete an entry from the VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga9b4fdeb2f6f4b46633ae012704c34814" title="Get the assigned VLAN actions for the given port, key type, and VLAN tags.">bcm_vlan_translate_action_get(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_action_set_t* action)</a>  </td><td>Get the assigned VLAN actions for the given port, key type, and VLAN tags.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaefb3ac4ea25d0d593bd421603d25bb00" title="Iterate over VLAN translation table and calls user-provided callback for every valid entry.">bcm_vlan_translate_action_traverse(int unit, bcm_vlan_translate_action_traverse_cb cb, void* user_data)</a>  </td><td>Iterate over VLAN translation table and calls user-provided callback for every valid entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga15d1278822223c17e1d6b3079ec9b7d1" title="Add an entry to the VLAN Translation table, which assigns VLAN actions for packets matching within th...">bcm_vlan_translate_action_range_add(int unit, bcm_gport_t port, bcm_vlan_t outer_vlan_low, bcm_vlan_t outer_vlan_high, bcm_vlan_t inner_vlan_low, bcm_vlan_t inner_vlan_high, bcm_vlan_action_set_t* action)</a>  </td><td>Add an entry to the VLAN Translation table, which assigns VLAN actions for packets matching within the VLAN range(s).   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga39576e9ec3f4b10296cfaf5dc3136849" title="Delete an entry from the VLAN Translation table for the specified VLAN range(s).">bcm_vlan_translate_action_range_delete(int unit, bcm_gport_t port, bcm_vlan_t outer_vlan_low, bcm_vlan_t outer_vlan_high, bcm_vlan_t inner_vlan_low, bcm_vlan_t inner_vlan_high)</a>  </td><td>Delete an entry from the VLAN Translation table for the specified VLAN range(s).   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga2a578c5ccbfd2a804e491cda340cf685" title="Delete all VLAN range entries from the VLAN Translation table.">bcm_vlan_translate_action_range_delete_all(int unit)</a>  </td><td>Delete all VLAN range entries from the VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaef399f823c09f8253736b71c60a616e7" title="Get assigned VLAN actions from VLAN Translation table for the specified VLAN range(s).">bcm_vlan_translate_action_range_get(int unit, bcm_gport_t port, bcm_vlan_t outer_vlan_low, bcm_vlan_t outer_vlan_high, bcm_vlan_t inner_vlan_low, bcm_vlan_t inner_vlan_high, bcm_vlan_action_set_t* action)</a>  </td><td>Get assigned VLAN actions from VLAN Translation table for the specified VLAN range(s).   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga7e48cf295a927721fe9567218181a3dd" title="Iterate over VLAN ranges table and calls user-provided callback for every valid range.">bcm_vlan_translate_action_range_traverse(int unit, bcm_vlan_translate_action_range_traverse_cb cb, void* user_data)</a>  </td><td>Iterate over VLAN ranges table and calls user-provided callback for every valid range.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga681fc946ac6f263de64840e4636a65af" title="Add an entry to the egress VLAN Translation table.">bcm_vlan_translate_egress_add(int unit, int port, bcm_vlan_t old_vid, bcm_vlan_t new_vid, int prio)</a>  </td><td>Add an entry to the egress VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga7fcd933ef07196c76dd65aac31a67810" title="Remove an entry or entries from the VLAN egress Translation table.">bcm_vlan_translate_egress_delete(int unit, int port, bcm_vlan_t old_vid)</a>  </td><td>Remove an entry or entries from the VLAN egress Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga0bc6ecb332628d6d7e0fbc79f4cabe1f" title="Remove all entries from the egress VLAN Translation table.">bcm_vlan_translate_egress_delete_all(int unit)</a>  </td><td>Remove all entries from the egress VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gabce081945db2fa72c32baa7b0820829b" title="Get the VLAN egress translation for the specified port and source VLAN ID.">bcm_vlan_translate_egress_get(int unit, int port, bcm_vlan_t old_vid, bcm_vlan_t* new_vid, int* prio)</a>  </td><td>Get the VLAN egress translation for the specified port and source VLAN ID.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga4455e8426051a34fe49511900b0d01b4" title="Iterate over VLAN egress translation table and calls user-provided callback for every valid entry.">bcm_vlan_translate_egress_traverse(int unit, bcm_vlan_translate_egress_traverse_cb cb, void* user_data)</a>  </td><td>Iterate over VLAN egress translation table and calls user-provided callback for every valid entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac9b072dfdbe9c1008692eb808b8d7e9d" title="Add an entry to the egress VLAN Translation table and assign VLAN actions.">bcm_vlan_translate_egress_action_add(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_action_set_t* action)</a>  </td><td>Add an entry to the egress VLAN Translation table and assign VLAN actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaef3ffd0bd6af5448ed48a76237148293" title="Delete an entry from the egress VLAN Translation table.">bcm_vlan_translate_egress_action_delete(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan)</a>  </td><td>Delete an entry from the egress VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa8549c93aa785eff13b414d1ac9d98d6" title="Get the assigned VLAN actions for egress VLAN translation on the given port class and VLAN tags.">bcm_vlan_translate_egress_action_get(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_action_set_t* action)</a>  </td><td>Get the assigned VLAN actions for egress VLAN translation on the given port class and VLAN tags.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaadfcde4f5686f929d5479702dfbda376" title="Iterate over VLAN egress translate table and calls user-provided callback for every valid entry.">bcm_vlan_translate_egress_action_traverse(int unit, bcm_vlan_translate_egress_action_traverse_cb cb, void* user_data)</a>  </td><td>Iterate over VLAN egress translate table and calls user-provided callback for every valid entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga6424a8aa0a124ce28027e20e15b07504" title="Add an entry based on gport to the egress VLAN Translation table and assign VLAN actions.">bcm_vlan_translate_egress_gport_action_add(int unit, bcm_gport_t port, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_action_set_t* action)</a>  </td><td>Add an entry based on gport to the egress VLAN Translation table and assign VLAN actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga8dcf1d2a310c27e86279ddbf8d6949b3" title="Delete a gport based entry from the egress VLAN Translation table.">bcm_vlan_translate_egress_gport_action_delete(int unit, bcm_gport_t port, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan)</a>  </td><td>Delete a gport based entry from the egress VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaf28a7852caecdb1f09cf175972f9e0fb" title="Get the assigned VLAN actions for egress VLAN translation on the given gport and VLAN tags.">bcm_vlan_translate_egress_gport_action_get(int unit, bcm_gport_t port, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_action_set_t* action)</a>  </td><td>Get the assigned VLAN actions for egress VLAN translation on the given gport and VLAN tags.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaf7ee997c0d58efe087f8166999fc96b0" title="Add an entry to the egress VLAN Translation table and assign VLAN actions. It extends bcm_vlan_egress...">bcm_vlan_translate_egress_action_extended_add(int unit, bcm_vlan_translate_egress_key_config_t* key, bcm_vlan_translate_egress_action_set_t* action)</a>  </td><td>Add an entry to the egress VLAN Translation table and assign VLAN actions using the extended parameter list. The key-&gt;port parameter may be either DGPP, gport, or port_class. Using key-&gt;key_type = 0, API behaves like bcm_vlan_translate_egress_action_add &amp; bcm_vlan_translate_egress_gport_action_add. For extended egress translate view, use a non-zero key_type. Currently bcmVlanTranslateEgressKeyVxlanSubChannel is available on supported devices.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga16bebe3c0c55039b467595b4269e5b98" title="Delete an egress translation entry including key types added by bcm_vlan_translate_egress_extended_ac...">bcm_vlan_translate_egress_action_extended_delete(int unit, bcm_vlan_translate_egress_key_config_t* key)</a>  </td><td>Delete an entry from the egress VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga3b5aa9aeb5d4ff6726114e83606a7ff2" title="Retrive an egress translation entry including key types added by bcm_vlan_translate_egress_extended_a...">bcm_vlan_translate_egress_action_extended_get(int unit, bcm_vlan_translate_egress_key_config_t* key, bcm_vlan_translate_egress_action_set_t* action)</a>  </td><td>Get the assigned VLAN actions for egress VLAN translation for the given key fields.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga7c57379284b8ac06424023e893a7517b" title="Traverse through the all egress translation entries including key types added by bcm_vlan_translate_e...">bcm_vlan_translate_egress_action_extended_traverse(int unit, bcm_vlan_translate_egress_action_extended_traverse_cb cb, void* user_data)</a>  </td><td>Iterate over VLAN egress translate table and calls user-provided callback for every valid entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac07a62295a1676eb402a1acbbe376010" title="Add a VLAN range to the VLAN Translation table.">bcm_vlan_translate_range_add(int unit, int port, bcm_vlan_t old_vid_low, bcm_vlan_t old_vid_high, bcm_vlan_t new_vid, int int_prio)</a>  </td><td>Add a VLAN range to the VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa485dd4cda6b128faf13bff3b2102aa0" title="Delete a VLAN range from the VLAN Translation table.">bcm_vlan_translate_range_delete(int unit, int port, bcm_vlan_t old_vid_low, bcm_vlan_t old_vid_high)</a>  </td><td>Delete a VLAN range from the VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga851a550ff0f744687367903e7223b258" title="Remove all VLAN ranges from the VLAN Translation table.">bcm_vlan_translate_range_delete_all(int unit)</a>  </td><td>Remove all VLAN ranges from the VLAN Translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa27c87c0f00dc93759a2fa33ec655cf4" title="Get the VLAN translation for a given port and VLAN range.">bcm_vlan_translate_range_get(int unit, int port, bcm_vlan_t old_vid_low, bcm_vlan_t old_vid_high, bcm_vlan_t* new_vid, int* int_prio)</a>  </td><td>Get the VLAN translation for a given port and VLAN range.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa020bf4432d2d76515c9dab2d1ea3ba6" title="Iterate over VLAN ranges table and calls user-provided callback for every valid range.">bcm_vlan_translate_range_traverse(int unit, bcm_vlan_translate_range_traverse_cb cb, void* user_data)</a>  </td><td>Iterate over VLAN ranges table and calls user-provided callback for every valid range.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga93daa98448eb25b24cd7934a0b1a82c3" title="Create a VLAN translation ID instance.">bcm_vlan_translate_action_id_create(int unit, uint32 flags, int* action_id)</a>  </td><td>Create a VLAN translation ID instance.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga2250e1fa75eb528673bfb2774f1ccbf8" title="Destroy a VLAN translation ID instance.">bcm_vlan_translate_action_id_destroy(int unit, uint32 flags, int action_id)</a>  </td><td>Destroy a VLAN translation ID instance.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga09d4c0a1ee3a815feac07aa92bf8bf41" title="Destroy all VLAN translation ID instances.">bcm_vlan_translate_action_id_destroy_all(int unit, uint32 flags)</a>  </td><td>Destroy all VLAN translation ID instances.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gae235bb54b3e82194ab8ac7d9712dd105" title="Set a VLAN translation ID instance with tag actions.">bcm_vlan_translate_action_id_set(int unit, uint32 flags, int action_id, bcm_vlan_action_set_t* action)</a>  </td><td>Set a VLAN translation ID instance with tag actions.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gadc5c561388ba2e94a432880221a1ea15" title="Get tag actions from a VLAN translation ID instance.">bcm_vlan_translate_action_id_get(int unit, uint32 flags, int action_id, bcm_vlan_action_set_t* action)</a>  </td><td>Get tag actions from a VLAN translation ID instance.   </td></tr>
</table>
<p>VLAN translation class configuration is passed to <a class="el" href="group__vlan.html#bcm_vlan_translate_action_class_set">bcm_vlan_translate_action_class_set</a> in the form of bcm_vlan_translate_action_class_t structure, which is defined as follows: <a class="anchor" id="bcm_vlan_translate_action_class_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__vlan__translate__action__class__s.html">bcm_vlan_translate_action_class_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__translate__action__class__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* BCM_VLAN_ACTION_SET_XXX */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__translate__action__class__s.html#aa80f9ec068cd66d8a8c06f9aff80cf79">vlan_edit_class_id</a>;          <span class="comment">/* VLAN edit class ID. See</span></div><div class="line"><span class="comment">                                           bcm_vlan_port_translation_set */</span></div><div class="line">    <a class="code" href="group__port.html#ga1753a8620f21d85cb27536ffe611a6b4">bcm_port_tag_format_class_t</a> <a class="code" href="structbcm__vlan__translate__action__class__s.html#a7dea9eb8fab9296da5b35cbfa1c2db90">tag_format_class_id</a>; <span class="comment">/* VLAN-tag format ID */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__translate__action__class__s.html#a1e8cb5558c375cfdc98678f6f7ef9a4f">vlan_translation_action_id</a>;     <span class="comment">/* Action ID */</span></div><div class="line">} <a class="code" href="group__vlan.html#ga51fa195d46982d020507c1ef17bde20f">bcm_vlan_translate_action_class_t</a>;</div></div><!-- fragment --><table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab6f11df9372c29aa5203f3d26715c7ae" title="Initialize a structure that holds both the key and the info for translate action class configuration.">bcm_vlan_translate_action_class_t_init(bcm_vlan_translate_action_class_t* action_class)</a>  </td><td>Initialize a structure that holds both the key and the info for translate action class configuration.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga1d383917d3b84b929673adf11b0ef2b9" title="Set an action ID for a specified combination of packet format ID and VLAN translation profile.">bcm_vlan_translate_action_class_set(int unit, bcm_vlan_translate_action_class_t* action_class)</a>  </td><td>Set an action ID for a specified combination of packet format ID and VLAN translation profile.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga8a444bf97900c79be5fb03bb20a94b7f" title="Get the action ID that is configured for a specified combination of packet format ID and VLAN edit pr...">bcm_vlan_translate_action_class_get(int unit, bcm_vlan_translate_action_class_t* action_class)</a>  </td><td>Get the action ID that is configured for a specified combination of packet format ID and VLAN edit profile.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga5ec53c4b1a6098205c04ad528f2e8e6c" title="Add an entry to the VLAN Translation table for double-tagging.">bcm_vlan_dtag_add(int unit, int port, bcm_vlan_t old_vid, bcm_vlan_t new_vid, int prio)</a>  </td><td>Add an entry to the VLAN Translation table for double-tagging.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab285cfe35cc2a7b493379d30092ee83b" title="Remove an entry from the VLAN Translation table for double-tagging.">bcm_vlan_dtag_delete(int unit, int port, bcm_vlan_t old_vid)</a>  </td><td>Remove an entry from the VLAN Translation table for double-tagging.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaf314a150d71d330d56a0b94b881388a8" title="Remove all entries from the VLAN Translation table for double-tagging.">bcm_vlan_dtag_delete_all(int unit)</a>  </td><td>Remove all entries from the VLAN Translation table for double-tagging.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga47431f1a4c53110976b17ba5cc1361dd" title="Get the VLAN translation for double tagging on a given port and source VLAN ID.">bcm_vlan_dtag_get(int unit, int port, bcm_vlan_t old_vid, bcm_vlan_t* new_vid, int* prio)</a>  </td><td>Get the VLAN translation for double tagging on a given port and source VLAN ID.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gae1ca12cc66e79d1f1b2de28d8ca2d815" title="Iterate over VLAN double tagging table and calls user-provided callback for every valid entry.">bcm_vlan_dtag_traverse(int unit, bcm_vlan_dtag_traverse_cb cb, void* user_data)</a>  </td><td>Iterate over VLAN double tagging table and calls user-provided callback for every valid entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga319a5b42aed7c2514eccfa40c8dff86d" title="Add VLAN range to the VLAN Translation table for double-tagging.">bcm_vlan_dtag_range_add(int unit, int port, bcm_vlan_t old_vid_low, bcm_vlan_t old_vid_high, bcm_vlan_t new_vid, int int_prio)</a>  </td><td>Add VLAN range to the VLAN Translation table for double-tagging.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga23c8fe4a6a9277eb135b67862947d8e6" title="Remove a VLAN range from the VLAN Translation table for double-tagging.">bcm_vlan_dtag_range_delete(int unit, int port, bcm_vlan_t old_vid_low, bcm_vlan_t old_vid_high)</a>  </td><td>Remove a VLAN range from the VLAN Translation table for double-tagging.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga57180854da152c1964dd8ad8adc762c1" title="Remove all VLAN ranges from the VLAN Translation table for double-tagging.">bcm_vlan_dtag_range_delete_all(int unit)</a>  </td><td>Remove all VLAN ranges from the VLAN Translation table for double-tagging.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa1ea18045e2a806d36d4011cfd7b345f" title="Get the VLAN translation for double tagging on a given port and VLAN range.">bcm_vlan_dtag_range_get(int unit, int port, bcm_vlan_t old_vid_low, bcm_vlan_t old_vid_high, bcm_vlan_t* new_vid, int* prio)</a>  </td><td>Get the VLAN translation for double tagging on a given port and VLAN range.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga417953097049541ec21b281fba81c527" title="Iterate over VLAN double tagging range table and calls user-provided callback for every valid range.">bcm_vlan_dtag_range_traverse(int unit, bcm_vlan_dtag_range_traverse_cb cb, void* user_data)</a>  </td><td>Iterate over VLAN double tagging range table and calls user-provided callback for every valid range.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa4fc327bc336019d11add8d8ba74859a" title="Initialize the bcm_vlan_ip_t structure.">bcm_vlan_ip_t_init(bcm_vlan_ip_t* vlan_ip)</a>  </td><td>Initialize the bcm_vlan_ip_t structure.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga0ce482f2e62b2791bf294f23bd87941f" title="Add an association from IP subnet to VLAN to use for assigning a VLAN tag to untagged packets.">bcm_vlan_ip_add(int unit, bcm_vlan_ip_t* vlan_ip)</a>  </td><td>Add an association from IP subnet to VLAN to use for assigning a VLAN tag to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad836901f060db4c6911e7f338bb9aa32" title="Remove an association from IP subnet to VLAN.">bcm_vlan_ip_delete(int unit, bcm_vlan_ip_t* vlan_ip)</a>  </td><td>Remove an association from IP subnet to VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga2486c492a81671529f5fa51a9194f889" title="Remove all associations from IP subnet to VLAN.">bcm_vlan_ip_delete_all(int unit)</a>  </td><td>Remove all associations from IP subnet to VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga359afca1a2448610e0e44cb489028cc8" title="Add an association from IP subnet to VLAN actions to use for assigning VLAN tag actions to untagged p...">bcm_vlan_ip_action_add(int unit, bcm_vlan_ip_t* vlan_ip, bcm_vlan_action_set_t* action)</a>  </td><td>Add an association from IP subnet to VLAN actions to use for assigning VLAN tag actions to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga1aadae1aa07d301ca480dc5b41eef441" title="Get an association from IP subnet to VLAN actions that used for assigning VLAN tag actions to untagge...">bcm_vlan_ip_action_get(int unit, bcm_vlan_ip_t* vlan_ip, bcm_vlan_action_set_t* action)</a>  </td><td>Get an association from IP subnet to VLAN actions that used for assigning VLAN tag actions to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab701216d316cf6cf55ce747e6492539d" title="Deletes an association from IP subnet to VLAN actions that used for assigning VLAN tag actions to unt...">bcm_vlan_ip_action_delete(int unit, bcm_vlan_ip_t* vlan_ip)</a>  </td><td>Deletes an association from IP subnet to VLAN actions that used for assigning VLAN tag actions to untagged packets.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga302afac1de1cecf87a5f094da68de5dd" title="Deletes all associations from IP subnet to VLAN actions.">bcm_vlan_ip_action_delete_all(int unit)</a>  </td><td>Deletes all associations from IP subnet to VLAN actions   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaced91b6e3812a91e42e67a7967ad7425" title="Iterates over all associations from IP subnet to VLAN actions and executes provided callback function...">bcm_vlan_ip_action_traverse(int unit, bcm_vlan_ip_action_traverse_cb cb, void* user_data)</a>  </td><td>Iterates over all associations from IP subnet to VLAN actions and executes provided callback function.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga4d37df3d7e4c99d5647cc3d3cb80287e" title="Initialize the bcm_vlan_control_vlan_t structure.">bcm_vlan_control_vlan_t_init(bcm_vlan_control_vlan_t* data)</a>  </td><td>Initialize the bcm_vlan_control_vlan_t structure.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga834030eba55666ae57a9179792d0e17f" title="Set/get miscellaneous VLAN-specific chip options.">bcm_vlan_control_set(int unit, bcm_vlan_control_t type, int arg)</a>  </td><td>Set/get miscellaneous VLAN-specific chip options.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga83c507b1bcba8120370c60f916211df0" title="Set/get miscellaneous VLAN-specific chip options.">bcm_vlan_control_get(int unit, bcm_vlan_control_t type, int* arg)</a>  </td><td>Set/get miscellaneous VLAN-specific chip options.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad10a9e28dc65ee202e234685d22c3f04" title="Set/get miscellaneous port-specific VLAN options.">bcm_vlan_control_port_set(int unit, int port, bcm_vlan_control_port_t type, int arg)</a>  </td><td>Set/get miscellaneous port-specific VLAN options.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac276683c3486b035404a66d00cad39b3" title="Set/get miscellaneous port-specific VLAN options.">bcm_vlan_control_port_get(int unit, int port, bcm_vlan_control_port_t type, int* arg)</a>  </td><td>Set/get miscellaneous port-specific VLAN options.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga7a38da2535616b979a0f06aaaea638ee" title="Set or retrieve the current VLAN multicast flood behavior.">bcm_vlan_mcast_flood_set(int unit, bcm_vlan_t vlan, bcm_vlan_mcast_flood_t mode)</a>  </td><td>Set or retrieve the current VLAN multicast flood behavior.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga414d21e27655a543bae84a09424b2cc7" title="Set or retrieve the current VLAN multicast flood behavior.">bcm_vlan_mcast_flood_get(int unit, bcm_vlan_t vlan, bcm_vlan_mcast_flood_t* mode)</a>  </td><td>Set or retrieve the current VLAN multicast flood behavior.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga2169e02d73752b3714dee29cfca57e9b" title="Set or retrieve current VLAN properties selectively.">bcm_vlan_control_vlan_selective_set(int unit, bcm_vlan_t vlan, uint32 valid_fields, bcm_vlan_control_vlan_t* control)</a>  </td><td>Set or retrieve current VLAN properties selectively.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga196f5997f67c95ad892c918b85dfa72d" title="Set or retrieve current VLAN properties selectively.">bcm_vlan_control_vlan_selective_get(int unit, bcm_vlan_t vlan, uint32 valid_fields, bcm_vlan_control_vlan_t* control)</a>  </td><td>Set or retrieve current VLAN properties selectively.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac8bc36ee8dfa57aef2d475377e84cd88" title="Set or retrieve current VLAN properties.">bcm_vlan_control_vlan_set(int unit, bcm_vlan_t vlan, bcm_vlan_control_vlan_t control)</a>  </td><td>Set or retrieve current VLAN properties.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa45b9326db7221cab982fcf1066cd670" title="Set or retrieve current VLAN properties.">bcm_vlan_control_vlan_get(int unit, bcm_vlan_t vlan, bcm_vlan_control_vlan_t* control)</a>  </td><td>Set or retrieve current VLAN properties.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga6c31544021c0678f5d99c95aa93ac066" title="Set vlan_control_vlan flags over a VLAN vector.">bcm_vlan_vector_flags_set(int unit, bcm_vlan_vector_t vlan_vector, uint32 flags_mask, uint32 flags_value)</a>  </td><td>Set vlan_control_vlan flags over a VLAN vector.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga343fa901287d2ee5b0cb27df175deb03" title="Configure VLAN cross-connect.">bcm_vlan_cross_connect_add(int unit, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_gport_t port_1, bcm_gport_t port_2)</a>  </td><td>Configure VLAN cross-connect.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga07d01fd5d615bea23a3d58fdc2739ee1" title="Configure VLAN cross-connect.">bcm_vlan_cross_connect_delete(int unit, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan)</a>  </td><td>Configure VLAN cross-connect.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga5d224991bc4d49d052b02df54819e524" title="Configure VLAN cross-connect.">bcm_vlan_cross_connect_delete_all(int unit)</a>  </td><td>Configure VLAN cross-connect.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga9b874518cc4adb6ac179490663d41d82" title="Configure VLAN cross-connect.">bcm_vlan_cross_connect_traverse(int unit, bcm_vlan_cross_connect_traverse_cb cb, void* user_data)</a>  </td><td>Configure VLAN cross-connect.   </td></tr>
</table>
<h1><a class="anchor" id="vlan_counters"></a>
VLAN Counters</h1>
<p>XCore device BCM88020 supports several counters on a per VLAN basis. There are also VLAN statistics modes available which dictates what counters are available. There are basically three modes for VLAN statistics.</p>
<ul>
<li>Single</li>
<li>Typed</li>
<li>MEF</li>
</ul>
<p>In Single mode, the only counters available are aggregate, that is, total of dropped and forwarded packets and bytes.</p>
<p>Typed mode implies accounting is available based on traffic type, that is, Unicast, Non-Unicast, Flood and Layer 3. Packet and Byte Counters are available for both forwarded and dropped packets. MEF mode implies counters are available on a per cos (packet priority) basis for packet marked as Yellow, Green, or Red. The following tables illustrate the actual counters available in different modes.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Typed Counters</caption>
<tr>
<th>Counter Type </th><th>Description  </th></tr>
<tr>
<td>bcmVlanStatPackets </td><td>Aggregate or all packets (dropped and forwarded)  </td></tr>
<tr>
<td>bcmVlanStatBytes  </td></tr>
<tr>
<td>bcmVlanStatForwardedPackets </td><td>Forwarded packets  </td></tr>
<tr>
<td>bcmVlanStatForwardedBytes  </td></tr>
<tr>
<td>bcmVlanStatDropPackets </td><td>Dropped packets  </td></tr>
<tr>
<td>bcmVlanStatDropBytes  </td></tr>
<tr>
<td>bcmVlanStatUnicastPackets </td><td>Forwarded unicast packets  </td></tr>
<tr>
<td>bcmVlanStatUnicastBytes  </td></tr>
<tr>
<td>bcmVlanStatUnicastDropPackets </td><td>Dropped unicast packets  </td></tr>
<tr>
<td>bcmVlanStatUnicastDropBytes  </td></tr>
<tr>
<td>bcmVlanStatNonUnicastPackets </td><td>Forwarded non-unicast packets  </td></tr>
<tr>
<td>bcmVlanStatNonUnicastBytes  </td></tr>
<tr>
<td>bcmVlanStatNonUnicastDropPackets </td><td>Dropped non-unicast packets  </td></tr>
<tr>
<td>bcmVlanStatNonUnicastDropBytes  </td></tr>
<tr>
<td>bcmVlanStatL3Packets </td><td>Forwarded L3 packets  </td></tr>
<tr>
<td>bcmVlanStatL3Bytes  </td></tr>
<tr>
<td>bcmVlanStatL3DropPackets </td><td>Dropped L3 packets  </td></tr>
<tr>
<td>bcmVlanStatL3DropBytes  </td></tr>
<tr>
<td>bcmVlanStatFloodPackets </td><td>Flooded packets  </td></tr>
<tr>
<td>bcmVlanStatFloodBytes  </td></tr>
<tr>
<td>bcmVlanStatFloodDropPackets </td><td>Flood packets that got dropped  </td></tr>
<tr>
<td>bcmVlanStatFloodDropBytes  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>MEF Counters</caption>
<tr>
<th>Counter Type </th><th>Description  </th></tr>
<tr>
<td>bcmVlanStatPackets </td><td>Aggregate or all packets (dropped and forwarded)  </td></tr>
<tr>
<td>bcmVlanStatBytes  </td></tr>
<tr>
<td>bcmVlanStatForwardedPackets </td><td>Forwarded packets  </td></tr>
<tr>
<td>bcmVlanStatForwardedBytes  </td></tr>
<tr>
<td>bcmVlanStatDropPackets </td><td>Dropped packets  </td></tr>
<tr>
<td>bcmVlanStatDropBytes  </td></tr>
<tr>
<td>bcmVlanStatGreenPackets </td><td>Packets marked green  </td></tr>
<tr>
<td>bcmVlanStatGreenBytes  </td></tr>
<tr>
<td>bcmVlanStatYellowPackets </td><td>Packets marked yellow  </td></tr>
<tr>
<td>bcmVlanStatYellowBytes  </td></tr>
<tr>
<td>bcmVlanStatRedPackets </td><td>Packets marked red  </td></tr>
<tr>
<td>bcmVlanStatRedBytes  </td></tr>
</table>
<p>Some StrataXGS switch devices support counters on a per-VLAN basis. There is only one mode, and per-COS counters are not supported. For all of the bcm_vlan_stat get/set functions, the cos parameter must be BCM_COS_INVALID. In these APIs, the VLAN parameter may also include VPNs. The table below describes the available statistics.</p>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>StrataXGS VLAN Counters</caption>
<tr>
<th>Counter Type </th><th>Description  </th></tr>
<tr>
<td>bcmVlanStatIngressPackets </td><td>Packets that ingress on the VLAN  </td></tr>
<tr>
<td>bcmVlanStatIngressBytes </td><td>Bytes that ingress on the VLAN  </td></tr>
<tr>
<td>bcmVlanStatEgressPackets </td><td>Packets that egress on the VLAN  </td></tr>
<tr>
<td>bcmVlanStatEgressBytes </td><td>Bytes that egress on the VLAN  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga67bac30eeb47b84e454f7f24c7e722a7" title="Extract per-VLAN statistics from the chip.">bcm_vlan_stat_get(int unit, bcm_vlan_t vlan, bcm_cos_t cos, bcm_vlan_stat_t stat, uint64* val)</a>  </td><td>Extract per-VLAN statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaca902db65eee1ccda51251aae83715e7" title="Extract per-VLAN statistics from the chip.">bcm_vlan_stat_get32(int unit, bcm_vlan_t vlan, bcm_cos_t cos, bcm_vlan_stat_t stat, uint32* val)</a>  </td><td>Extract per-VLAN statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga97193c8a57016f377d23cf212c771429" title="Force an immediate counter update and retrieve per-VLAN statistics from the chip.">bcm_vlan_stat_sync_get(int unit, bcm_vlan_t vlan, bcm_cos_t cos, bcm_vlan_stat_t stat, uint64* val)</a>  </td><td>Force an immediate counter update and retrieve per-VLAN statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga54a962965f322804b2066fc4a8f2b277" title="Force an immediate counter update and retrieve per-VLAN statistics from the chip.">bcm_vlan_stat_sync_get32(int unit, bcm_vlan_t vlan, bcm_cos_t cos, bcm_vlan_stat_t stat, uint32* val)</a>  </td><td>Force an immediate counter update and retrieve per-VLAN statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad2f95fe35a2e6f3bbfaab06381f5f4f5" title="Set the specified statistic to the indicated value for the specified VLAN.">bcm_vlan_stat_set(int unit, bcm_vlan_t vlan, bcm_cos_t cos, bcm_vlan_stat_t stat, uint64 val)</a>  </td><td>Set the specified statistic to the indicated value for the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab630b115a9ae6a2ddc0ec2fe13af39b2" title="Set the specified statistic to the indicated value for the specified VLAN.">bcm_vlan_stat_set32(int unit, bcm_vlan_t vlan, bcm_cos_t cos, bcm_vlan_stat_t stat, uint32 val)</a>  </td><td>Set the specified statistic to the indicated value for the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac649102ed911b4a4db18af06fbfd95d7" title="Get counter value for multiple VLAN statistic types.">bcm_vlan_stat_multi_get(int unit, bcm_vlan_t vlan, bcm_cos_t cos, int nstat, bcm_vlan_stat_t* stat_arr, uint64* value_arr)</a>  </td><td>Get counter value for multiple VLAN statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga10b327418c9d07529472d401c67e99ea" title="Get counter value for multiple VLAN statistic types.">bcm_vlan_stat_multi_get32(int unit, bcm_vlan_t vlan, bcm_cos_t cos, int nstat, bcm_vlan_stat_t* stat_arr, uint32* value_arr)</a>  </td><td>Get counter value for multiple VLAN statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga8bbf09631d19e2d41227befcb7e20551" title="Set counter value for multiple VLAN statistic types.">bcm_vlan_stat_multi_set(int unit, bcm_vlan_t vlan, bcm_cos_t cos, int nstat, bcm_vlan_stat_t* stat_arr, uint64* value_arr)</a>  </td><td>Set counter value for multiple VLAN statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad48df838fc04449f4c1720c9d599b381" title="Set counter value for multiple VLAN statistic types.">bcm_vlan_stat_multi_set32(int unit, bcm_vlan_t vlan, bcm_cos_t cos, int nstat, bcm_vlan_stat_t* stat_arr, uint32* value_arr)</a>  </td><td>Set counter value for multiple VLAN statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga5c15b5ab95c472c3aede8cc13266c058" title="Enable/disable collection of statistics on the indicated VLAN.">bcm_vlan_stat_enable_set(int unit, bcm_vlan_t vlan, int enable)</a>  </td><td>Enable/disable collection of statistics on the indicated VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga987575c0a746a5931f73da1eec85d2c8" title="Attach counter entries to the given VLAN.">bcm_vlan_stat_attach(int unit, bcm_vlan_t vlan, uint32 stat_counter_id)</a>  </td><td>Attach counter entries to the given VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga548e25aa92ef579f5b87c849ba5e6f30" title="Detach counter entries to the given VLAN.">bcm_vlan_stat_detach(int unit, bcm_vlan_t vlan)</a>  </td><td>Detach counter entries to the given VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga6d48bb5c5c1b12005ef3a461d2d53dd0" title="Detach counter entries to the given VLAN with a given stat counter id.">bcm_vlan_stat_detach_with_id(int unit, bcm_vlan_t vlan, uint32 stat_counter_id)</a>  </td><td>Detach counter entries to the given VLAN with a given stat counter id.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga81534dc15c93fe9bb398147e1491018e" title="Get the specified statistic to the indicated value for the specified VLAN.">bcm_vlan_stat_counter_get(int unit, bcm_vlan_t vlan, bcm_vlan_stat_t stat, uint32 num_entries, uint32* counter_indexes, bcm_stat_value_t* counter_values)</a>  </td><td>Get the specified statistic to the indicated value for the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaffddff810d670470aa8c822f7ab84cd5" title="Get the specified statistic to the indicated value for the specified VLAN.">bcm_vlan_stat_counter_sync_get(int unit, bcm_vlan_t vlan, bcm_vlan_stat_t stat, uint32 num_entries, uint32* counter_indexes, bcm_stat_value_t* counter_values)</a>  </td><td>Force an immediate counter update and retrieve the specified statistic to the indicated value for the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga0f969b61bc0b3229e36a7a6b910f961b" title="Set the specified statistic to the indicated value for the specified VLAN.">bcm_vlan_stat_counter_set(int unit, bcm_vlan_t vlan, bcm_vlan_stat_t stat, uint32 num_entries, uint32* counter_indexes, bcm_stat_value_t* counter_values)</a>  </td><td>Set the specified statistic to the indicated value for the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gadc054b3740ce89a860fc0620a1e038db" title="Get stat counter ID associated with given VLAN.">bcm_vlan_stat_id_get(int unit, bcm_vlan_t vlan, bcm_vlan_stat_t stat, uint32* stat_counter_id)</a>  </td><td>Get stat counter ID associated with given VLAN.   </td></tr>
</table>
<p>Some StrataXGS switch devices support counters on a per-VLAN translation basis. For any specification of a VLAN translation action, counters may be associated with that specification.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga4f303859999ac8bef82979a2b5fa5803" title="Extract ingress VLAN translation statistics from the chip.">bcm_vlan_translate_stat_get(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint64* val)</a>  </td><td>Extract ingress VLAN translation statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gadf10d396471fe3bac2e9fa0f69564927" title="Extract ingress VLAN translation statistics from the chip.">bcm_vlan_translate_stat_get32(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32* val)</a>  </td><td>Extract ingress VLAN translation statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga86dd6f0e0c965e3e6ebdbee59c2ce012" title="Force an immediate counter update and retrieve ingress VLAN translation statistics from the chip.">bcm_vlan_translate_stat_sync_get(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint64* val)</a>  </td><td>Force an immediate counter update and retrieve ingress VLAN translation statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gadd6eda3cd5119dbcb5c36a4708683d57" title="Force an immediate counter update and retrieve ingress VLAN translation statistics from the chip.">bcm_vlan_translate_stat_sync_get32(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32* val)</a>  </td><td>Force an immediate counter update and retrieve ingress VLAN translation statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac41c2208bdb8087fa1e48144d42f345b" title="Set the specified statistic to the indicated value for the specified ingress VLAN translation.">bcm_vlan_translate_stat_set(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint64 val)</a>  </td><td>Set the specified statistic to the indicated value for the specified ingress VLAN translation.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga435a33d291b1168982712b4ed21c1610" title="Set the specified statistic to the indicated value for the specified ingress VLAN translation.">bcm_vlan_translate_stat_set32(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32 val)</a>  </td><td>Set the specified statistic to the indicated value for the specified ingress VLAN translation.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaf5af3e09234e65bd502c8f7d9921e3fd" title="Get 64-bit counter value for multiple ingress VLAN translation statistic types.">bcm_vlan_translate_stat_multi_get(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int nstat, bcm_vlan_stat_t* stat_arr, uint64* value_arr)</a>  </td><td>Get 64-bit counter value for multiple ingress VLAN translation statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa7ef293980de8f5ab5f45a63c5d56817" title="Get 64-bit counter value for multiple ingress VLAN translation statistic types.">bcm_vlan_translate_stat_multi_get32(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int nstat, bcm_vlan_stat_t* stat_arr, uint32* value_arr)</a>  </td><td>Get 64-bit counter value for multiple ingress VLAN translation statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga7ff7886b8079027551008d146e97136e" title="Set 64-bit counter value for multiple ingress VLAN translation statistic types.">bcm_vlan_translate_stat_multi_set(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int nstat, bcm_vlan_stat_t* stat_arr, uint64* value_arr)</a>  </td><td>Set 64-bit counter value for multiple ingress VLAN translation statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga713b8e2126b92a85b4380ec67264ad8e" title="Set 64-bit counter value for multiple ingress VLAN translation statistic types.">bcm_vlan_translate_stat_multi_set32(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int nstat, bcm_vlan_stat_t* stat_arr, uint32* value_arr)</a>  </td><td>Set 64-bit counter value for multiple ingress VLAN translation statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga06a8de554b8dc56996ece396b90fc558" title="Enable/disable collection of statistics on the indicated ingress VLAN translation.">bcm_vlan_translate_stat_enable_set(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int enable)</a>  </td><td>Enable/disable collection of statistics on the indicated ingress VLAN translation.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga5abbf77ed12bf22162d3b19f206d8bf1" title="Attach counters entries for the given ingress VLAN translation table.">bcm_vlan_translate_stat_attach(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, uint32 stat_counter_id)</a>  </td><td>Attach counters entries for the given ingress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga7385327a0e4a00caef9caf2af013857d" title="Detach counters entries for the given ingress VLAN translation table.">bcm_vlan_translate_stat_detach(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan)</a>  </td><td>Detach counters entries for the given ingress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga73edcde2f6dffa5249e215612c9d5067" title="Get counter values from ingress VLAN translation table.">bcm_vlan_translate_stat_counter_get(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32 num_entries, uint32* counter_indexes, bcm_stat_value_t* counter_values)</a>  </td><td>Get counter values from ingress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga8b8517f8d340de4c4c48a088ec4ebbe5" title="Force an immediate counter update and retrieve counter values from ingress VLAN translation table.">bcm_vlan_translate_stat_counter_sync_get(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32 num_entries, uint32* counter_indexes, bcm_stat_value_t* counter_values)</a>  </td><td>Force an immediate counter update and retrieve counter values from ingress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gae7d38a95b024b3050d52a075cf80f60d" title="Set counter values into a ingress VLAN translation table.">bcm_vlan_translate_stat_counter_set(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32 num_entries, uint32* counter_indexes, bcm_stat_value_t* counter_values)</a>  </td><td>Set counter values into a ingress VLAN translation table   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga622c9971e41d8ae6817422cab3ccb4e1" title="Get stat counter ID associated with given ingress VLAN translation table.">bcm_vlan_translate_stat_id_get(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32* stat_counter_id)</a>  </td><td>Get stat counter ID associated with given ingress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga3a9cfc83c437ca789fbae171c80dc9f1" title="Extract egress VLAN translation statistics from the chip.">bcm_vlan_translate_egress_stat_get(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint64* val)</a>  </td><td>Extract egress VLAN translation statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga46f512fea22e9e7c7a018ec169708ba8" title="Extract egress VLAN translation statistics from the chip.">bcm_vlan_translate_egress_stat_get32(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32* val)</a>  </td><td>Extract egress VLAN translation statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga2d631b263d9202f6ae8f199ba3eee4eb" title="Force an immediate counter update and retrieve egress VLAN translation statistics from the chip.">bcm_vlan_translate_egress_stat_sync_get(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint64* val)</a>  </td><td>Force an immediate counter update and retrieve egress VLAN translation statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa533c3e890244c3c0bd271e0d8730836" title="Force an immediate counter update and retrieve egress VLAN translation statistics from the chip.">bcm_vlan_translate_egress_stat_sync_get32(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32* val)</a>  </td><td>Force an immediate counter update and retrieve egress VLAN translation statistics from the chip.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac11068baddb5d0aedfd149787a2a71d4" title="Set the specified statistic to the indicated value for the specified egress VLAN translation.">bcm_vlan_translate_egress_stat_set(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint64 val)</a>  </td><td>Set the specified statistic to the indicated value for the specified egress VLAN translation.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga48726ebcbdc4039855f441e53246b459" title="Set the specified statistic to the indicated value for the specified egress VLAN translation.">bcm_vlan_translate_egress_stat_set32(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32 val)</a>  </td><td>Set the specified statistic to the indicated value for the specified egress VLAN translation.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga9e2019cd3ee51975b828471b480a4c9c" title="Get 64-bit counter value for multiple egress VLAN translation statistic types.">bcm_vlan_translate_egress_stat_multi_get(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int nstat, bcm_vlan_stat_t* stat_arr, uint64* value_arr)</a>  </td><td>Get 64-bit counter value for multiple egress VLAN translation statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga9a149d94e7667c9c666ab9c32733fda0" title="Get 64-bit counter value for multiple egress VLAN translation statistic types.">bcm_vlan_translate_egress_stat_multi_get32(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int nstat, bcm_vlan_stat_t* stat_arr, uint32* value_arr)</a>  </td><td>Get 64-bit counter value for multiple egress VLAN translation statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gabc8e4ab3c032c474e8a0b0c1b308d04d" title="Set 64-bit counter value for multiple egress VLAN translation statistic types.">bcm_vlan_translate_egress_stat_multi_set(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int nstat, bcm_vlan_stat_t* stat_arr, uint64* value_arr)</a>  </td><td>Set 64-bit counter value for multiple egress VLAN translation statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga45bd22fec61bc3729442fee7bfd70d88" title="Set 64-bit counter value for multiple egress VLAN translation statistic types.">bcm_vlan_translate_egress_stat_multi_set32(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int nstat, bcm_vlan_stat_t* stat_arr, uint32* value_arr)</a>  </td><td>Set 64-bit counter value for multiple egress VLAN translation statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac71ccad9fd2d27bc0561a4728c3a7117" title="Enable/disable collection of statistics on the indicated egress VLAN translation.">bcm_vlan_translate_egress_stat_enable_set(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int enable)</a>  </td><td>Enable/disable collection of statistics on the indicated egress VLAN translation.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad4607d96b218ac72ae1bfcb16b81f56a" title="Attach counters for the given egress VLAN translation table.">bcm_vlan_translate_egress_stat_attach(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, uint32 stat_counter_id)</a>  </td><td>Attach counters for the given egress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaae7c1c8b1f90cb7ea28a5a52f33c287b" title="Detach counters for the given egress VLAN translation table.">bcm_vlan_translate_egress_stat_detach(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan)</a>  </td><td>Detach counters for the given egress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga3f57360b48fe5daff527d19886b6b5cb" title="Get counter values from egress VLAN translation table.">bcm_vlan_translate_egress_stat_counter_get(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32 num_entries, uint32* counter_indexes, bcm_stat_value_t* counter_values)</a>  </td><td>Get counter values from egress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab601e45c9bb18b6c00c9c01cdfc20446" title="Force an immediate counter update and retrieve counter values from egress VLAN translation table.">bcm_vlan_translate_egress_stat_counter_sync_get(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32 num_entries, uint32* counter_indexes, bcm_stat_value_t* counter_values)</a>  </td><td>Force an immediate counter update and retrieve counter values from egress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga3b906347d55dd1a73266d4469e8ceb6b" title="Set counter values from egress VLAN translation table.">bcm_vlan_translate_egress_stat_counter_set(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32 num_entries, uint32* counter_indexes, bcm_stat_value_t* counter_values)</a>  </td><td>Set counter values from egress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga76dc745cb52a3909ea31f18917d854af" title="Get stat counter ID associated with given egress VLAN translation table.">bcm_vlan_translate_egress_stat_id_get(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_stat_t stat, uint32* stat_counter_id)</a>  </td><td>Get stat counter ID associated with given egress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac7c9b938513d125b28155a0e16d8910d" title="Manipulate the Policer ID associated with the specified VLAN.">bcm_vlan_policer_set(int unit, bcm_vlan_t vlan, bcm_policer_t policer_id)</a>  </td><td>Manipulate the Policer ID associated with the specified VLAN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga530b405bb1cecd6b651e5c3d63adb40e" title="Manipulate the Policer ID associated with the specified VLAN.">bcm_vlan_policer_get(int unit, bcm_vlan_t vlan, bcm_policer_t* policer_id)</a>  </td><td>Manipulate the Policer ID associated with the specified VLAN.   </td></tr>
<tr>
<td>bcm_vlan_port_policer_set()  </td><td>Set/Get the Policer ID associated with the specified VLAN and physical port.   </td></tr>
<tr>
<td>bcm_vlan_port_policer_get()  </td><td>Set/Get the Policer ID associated with the specified VLAN and physical port.   </td></tr>
<tr>
<td>bcm_vlan_port_egress_policer_set()  </td><td>Set/Get the Egress Policer ID associated with the specified VLAN and physical port.   </td></tr>
<tr>
<td>bcm_vlan_port_egress_policer_get()  </td><td>Set/Get the Egress Policer ID associated with the specified VLAN and physical port.   </td></tr>
<tr>
<td>bcm_vlan_port_stat_enable_set()  </td><td>Enable/Disable Statistics Collection on VLAN and physical port or GPORT.   </td></tr>
<tr>
<td>bcm_vlan_port_stat_enable_get()  </td><td>Enable/Disable Statistics Collection on VLAN and physical port or GPORT.   </td></tr>
<tr>
<td>bcm_vlan_port_stat_get()  </td><td>Get the specified statistic for the specified VLAN and port or GPORT   </td></tr>
<tr>
<td>bcm_vlan_port_stat_get32()  </td><td>Get the specified statistic for the specified VLAN and port or GPORT   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga570354c1c67031a316ee775afb6d3f3b" title="Get 64-bit or 32-bit counter value for multiple GPORT or VLAN/port statistic types.">bcm_vlan_port_stat_multi_get(int unit, bcm_vlan_t vlan, bcm_port_t port, bcm_cos_t cos, int nstat, bcm_vlan_stat_t* stat_arr, uint64* value_arr)</a>  </td><td>Get 64-bit or 32-bit counter value for multiple GPORT or VLAN/port statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab1766eae0051bedb88e0725052850d74" title="Get 64-bit or 32-bit counter value for multiple GPORT or VLAN/port statistic types.">bcm_vlan_port_stat_multi_get32(int unit, bcm_vlan_t vlan, bcm_port_t port, bcm_cos_t cos, int nstat, bcm_vlan_stat_t* stat_arr, uint32* value_arr)</a>  </td><td>Get 64-bit or 32-bit counter value for multiple GPORT or VLAN/port statistic types.   </td></tr>
<tr>
<td>bcm_vlan_port_stat_set()  </td><td>Set the specified statistic to the indicated value for the specified VLAN and port or GPORT.   </td></tr>
<tr>
<td>bcm_vlan_port_stat_set32()  </td><td>Set the specified statistic to the indicated value for the specified VLAN and port or GPORT.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaa4e5c0c624f26dcc72c4b5688d9d4933" title="Set 64-bit or 32-bit counter value for multiple GPORT or VLAN/port statistic types.">bcm_vlan_port_stat_multi_set(int unit, bcm_vlan_t vlan, bcm_port_t port, bcm_cos_t cos, int nstat, bcm_vlan_stat_t* stat_arr, uint64* value_arr)</a>  </td><td>Set 64-bit or 32-bit counter value for multiple GPORT or VLAN/port statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga8337d4908c162a190d532546418984f6" title="Set 64-bit or 32-bit counter value for multiple GPORT or VLAN/port statistic types.">bcm_vlan_port_stat_multi_set32(int unit, bcm_vlan_t vlan, bcm_port_t port, bcm_cos_t cos, int nstat, bcm_vlan_stat_t* stat_arr, uint32* value_arr)</a>  </td><td>Set 64-bit or 32-bit counter value for multiple GPORT or VLAN/port statistic types.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga550b9816645ffbc0b91ba7797471ca73" title="Initialize flex counter configuration structure in VLAN module.">bcm_vlan_flexctr_config_t_init(bcm_vlan_flexctr_config_t *config)</a>  </td><td>Initialize flex counter configuration structure in VLAN module.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga79470fc6c5f86fc5c52f661e81b97695" title="Attach the stat counter ID and object value into a given ingress VLAN translation table.">bcm_vlan_translate_flexctr_attach(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_flexctr_config_t *config)</a>  </td><td>Attach the stat counter ID and object value into a given ingress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga74454f6152788137f3b831ce31a10efa" title="Detach the stat counter ID and object value from a given ingress VLAN translation table.">bcm_vlan_translate_flexctr_detach(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_flexctr_config_t *config)</a>  </td><td>Detach the stat counter ID and object value from a given ingress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga1cb8fb8ab269dd016492635a1437197b" title="Detach all stat counter IDs and object values from a given ingress VLAN translation table.">bcm_vlan_translate_flexctr_detach_all(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan)</a>  </td><td>Detach all stat counter IDs and object values from a given ingress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab86824028c0531aec0aa1da0ffc8b8f3" title="Get the stat counter ID and object value from a given ingress VLAN translation table.">bcm_vlan_translate_flexctr_get(int unit, bcm_gport_t port, bcm_vlan_translate_key_t key_type, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int array_size, bcm_vlan_flexctr_config_t *config_array, int *count)</a>  </td><td>Get the stat counter ID and object value from a given ingress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga8c1a0b0def40b1bc9ea7d7d5d85db9d9" title="Detach the stat counter ID and object value from a given egress VLAN translation table.">bcm_vlan_translate_egress_flexctr_detach(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_flexctr_config_t *config)</a>  </td><td>Attach the stat counter ID and object value into a given egress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga8c1a0b0def40b1bc9ea7d7d5d85db9d9" title="Detach the stat counter ID and object value from a given egress VLAN translation table.">bcm_vlan_translate_egress_flexctr_detach(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, bcm_vlan_flexctr_config_t *config)</a>  </td><td>Detach the stat counter ID and object value from a given egress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad7fa42baadb90b44e9a6ffcfccaf3cf3" title="Detach all stat counter IDs and object values from a given egress VLAN translation table.">bcm_vlan_translate_egress_flexctr_detach_all(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan)</a>  </td><td>Detach all stat counter IDs and object values from a given egress VLAN translation table.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga18bfa5a33ada8c5a167dec2175037a9f" title="Get the stat counter ID and object value from a given egress VLAN translation table.">bcm_vlan_translate_egress_flexctr_get(int unit, int port_class, bcm_vlan_t outer_vlan, bcm_vlan_t inner_vlan, int array_size, bcm_vlan_flexctr_config_t *config_array, int *count)</a>  </td><td>Get the stat counter ID and object value from a given egress VLAN translation table.   </td></tr>
</table>
<h1><a class="anchor" id="vlan_block"></a>
Block Traffic on a VLAN.</h1>
<p>StrataXGS IV devices are capable of blocking out specific traffic types per VLAN/port pair. Blocked traffic types include known and unknown multicast, broadcast and unknown destination unicast. The block mask is not limited to VLAN native traffic but might be optionally applied to the FP redirected traffic. See bcmFieldControlRedirectVlanFloodBlock documentation in field processor section in this document.</p>
<p>Parameters of a VLAN block mask are passed to <a class="el" href="group__vlan.html#bcm_vlan_block_set">bcm_vlan_block_set</a> in the form of bcm_vlan_block_t structure, which is defined as follows: <a class="anchor" id="bcm_vlan_block_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__vlan__block__s.html">bcm_vlan_block_s</a> {</div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__vlan__block__s.html#a00e989c0f92ac51e379106663c1d4de4">known_multicast</a>;</div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__vlan__block__s.html#aa92a68c034408261b47e75cc34b530a4">unknown_multicast</a>;</div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__vlan__block__s.html#abc0cacb9540b28f03f0d87dedbe36a92">unknown_unicast</a>;</div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__vlan__block__s.html#add65aaeda0069100adc308180c46e08a">broadcast</a>;</div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__vlan__block__s.html#a46c12e5200a98e73c95f91471c3fbed9">unicast</a>;</div><div class="line">} <a class="code" href="group__vlan.html#ga701c549ff0b821656b26548e3cfd6d40">bcm_vlan_block_t</a>;</div></div><!-- fragment --><p>The structure should be initialized to a default "non-blocking" state using <a class="el" href="group__vlan.html#bcm_vlan_block_t_init">bcm_vlan_block_t_init</a> API.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga11c5ca453a91230a4bd08c40f2046420" title="Initialize the bcm_vlan_block_s structure.">bcm_vlan_block_t_init(bcm_vlan_block_t* data)</a>  </td><td>Initialize the <a class="el" href="structbcm__vlan__block__s.html">bcm_vlan_block_s</a> structure.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga996b1491b19c0707d02bb3039322f17e" title="Set VLAN block properties.">bcm_vlan_block_set(int unit, bcm_vlan_t vlan, bcm_vlan_block_t* vlan_block)</a>  </td><td>Set VLAN block properties.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga4d33c9b4c18e0501550405bab5f289d1" title="Set VLAN block properties.">bcm_vlan_block_get(int unit, bcm_vlan_t vlan, bcm_vlan_block_t* vlan_block)</a>  </td><td>Set VLAN block properties.   </td></tr>
</table>
<h1><a class="anchor" id="vlan_logical_ports"></a>
Layer 2 Logical Ports</h1>
<p>Some devices support logical layer 2 ports. Logical layer 2 ports can be created via <a class="el" href="group__vlan.html#bcm_vlan_port_create">bcm_vlan_port_create</a> . <a class="el" href="group__vlan.html#bcm_vlan_port_create">bcm_vlan_port_create</a> returns GPORT value which can then be passed to other BCM APIs instead of a physical port number. After a logical port is no longer used, it should be destroyed by <a class="el" href="group__vlan.html#bcm_vlan_port_destroy">bcm_vlan_port_destroy</a> .</p>
<p>Parameters of a Layer 2 Logical Port are passed to <a class="el" href="group__vlan.html#bcm_vlan_port_create">bcm_vlan_port_create</a> in the form of bcm_vlan_port_t structure, which is defined as follows: <a class="anchor" id="bcm_vlan_port_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__vlan__port__s.html">bcm_vlan_port_s</a> {</div><div class="line">    <a class="code" href="group__vlan.html#gad3e5a6453accd64d71aa84200c484f15">bcm_vlan_port_match_t</a> <a class="code" href="structbcm__vlan__port__s.html#a9a303dee92265f40742e456e42815b3d">criteria</a>; <span class="comment">/* Match criteria. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__port__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                   <span class="comment">/* BCM_VLAN_PORT_xxx. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__vlan__port__s.html#a062fde8ab0c68de2f28e121f8085326a">vsi</a>;                 <span class="comment">/* Populated for bcm_vlan_port_get only */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__vlan__port__s.html#ad22679e36d7259c4d88d606c80d6d4c5">match_vlan</a>;          <span class="comment">/* Outer VLAN ID to match. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__vlan__port__s.html#ad4878e6cfd724f3e83cb9fab60ae73d9">match_inner_vlan</a>;    <span class="comment">/* Inner VLAN ID to match. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__port__s.html#a732a67523699ac4cb672592630320675">match_pcp</a>; <span class="comment">/* Outer PCP ID to match. */</span></div><div class="line">    <a class="code" href="group__types.html#ga8add25d62be4eb533e834086aa30956c">bcm_tunnel_id_t</a> <a class="code" href="structbcm__vlan__port__s.html#a3292f744a03d1220d33b4ee71628cbe0">match_tunnel_value</a>; <span class="comment">/* Tunnel value to match. */</span></div><div class="line">    <a class="code" href="group__port.html#ga77ead6dcbe4370695d243aabd300c901">bcm_port_ethertype_t</a> <a class="code" href="structbcm__vlan__port__s.html#ac6eeca2639ac514c0774e1e9d939a828">match_ethertype</a>; <span class="comment">/* Ethernet type value to match. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__vlan__port__s.html#a56da6f3a91f2f6d38953ef7c66fa78b2">port</a>;               <span class="comment">/* Gport: local or remote Physical or logical gport. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__vlan__port__s.html#a43f20e42eb08f7e9aef95f2d53831e36">pkt_pri</a>;                   <span class="comment">/* Service tag priority */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__vlan__port__s.html#a9d02907c7f4901f53eea486052421b70">pkt_cfi</a>;                   <span class="comment">/* Service tag cfi */</span></div><div class="line">    unit16 <a class="code" href="structbcm__vlan__port__s.html#a1fff9352b8c83e37662b5abfa0bda831">egress_service_tpid</a>;      <span class="comment">/* Service VLAN TPID Value */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__vlan__port__s.html#a0b6fb832e55202d1fc8d636cd82bd1a6">egress_vlan</a>;         <span class="comment">/* Egress Outer VLAN or SD-TAG VLAN ID. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__vlan__port__s.html#a0c787cd4c93d2fddab0fab296e4c9078">egress_inner_vlan</a>;   <span class="comment">/* Egress Inner VLAN. */</span></div><div class="line">    <a class="code" href="group__types.html#ga8add25d62be4eb533e834086aa30956c">bcm_tunnel_id_t</a> <a class="code" href="structbcm__vlan__port__s.html#a62a120d499f5dde35341a487ce290402">egress_tunnel_value</a>; <span class="comment">/* Egress Tunnel Value. */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__vlan__port__s.html#a399a9c2e57c84182ae4d633fb9340f11">encap_id</a>;              <span class="comment">/* Encapsulation Index. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__port__s.html#ae0f3a8319d260386ef0ad80c714ef5a2">qos_map_id</a>;                 <span class="comment">/* QoS Map Index. */</span></div><div class="line">    <a class="code" href="group__types.html#ga252d53447d82acf3fb573f1918e7f251">bcm_policer_t</a> <a class="code" href="structbcm__vlan__port__s.html#a143d6b42473f4c7f524f7980b2f02ee3">policer_id</a>;       <span class="comment">/* Policer ID */</span></div><div class="line">    <a class="code" href="group__types.html#gaf273a2d08ebc6fc3e5d0319aeb414ceb">bcm_failover_t</a> <a class="code" href="structbcm__vlan__port__s.html#a5814080f31ea8ec26e594e85df149197">failover_id</a>;     <span class="comment">/* Failover Object Index. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__vlan__port__s.html#a337241a0bfc580988a19fd881340ad16">failover_port_id</a>;   <span class="comment">/* Failover VLAN Port Identifier. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__vlan__port__s.html#ac5c1b39a8c864c7dbd1f8efba95947f8">vlan_port_id</a>;       <span class="comment">/* GPORT identifier */</span></div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a> <a class="code" href="structbcm__vlan__port__s.html#a4568255a6fca642871c55ef3d1a1c029">failover_mc_group</a>;  <span class="comment">/* MC group used for bi-cast. */</span></div><div class="line">    <a class="code" href="group__types.html#gaf273a2d08ebc6fc3e5d0319aeb414ceb">bcm_failover_t</a> <a class="code" href="structbcm__vlan__port__s.html#a7d5e95597de4672dda1ccf15830b2102">ingress_failover_id</a>; <span class="comment">/* 1+1 protection. */</span></div><div class="line">    <a class="code" href="group__types.html#gaf273a2d08ebc6fc3e5d0319aeb414ceb">bcm_failover_t</a> <a class="code" href="structbcm__vlan__port__s.html#a82f0a1ecf72433781d1626299f46d79b">egress_failover_id</a>;  <span class="comment">/* Failover object index for Egress Protection */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__vlan__port__s.html#ae3f72cfd7fc07a5c19332a7911b9f235">egress_failover_port_id</a>; <span class="comment">/* Failover VLAN Port Identifier for Egress Protection */</span></div><div class="line">    <a class="code" href="group__types.html#ga356b17d1510b1781318bb0f840405e28">bcm_switch_network_group_t</a> <a class="code" href="structbcm__vlan__port__s.html#a7f87f8c2e6b7de8c0080247d638e1f58">ingress_network_group_id</a>; <span class="comment">/* Split Horizon ingress network group identifier */</span></div><div class="line">    <a class="code" href="group__types.html#ga356b17d1510b1781318bb0f840405e28">bcm_switch_network_group_t</a> <a class="code" href="structbcm__vlan__port__s.html#a07383bc8ff7ffb0ee7834c5a85b00513">egress_network_group_id</a>; <span class="comment">/* Split Horizon egress network group identifier */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__port__s.html#a54d09c2ea30d38c9258f758ed92989af">inlif_counting_profile</a>;         <span class="comment">/* In LIF counting profile */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__vlan__port__s.html#af6ad039dbf5967db3b9664ea9267d81a">outlif_counting_profile</a>;        <span class="comment">/* Out LIF counting profile */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__port__s.html#a93ec8bd3b1e35ff73e12191664f035d8">if_class</a>;                    <span class="comment">/* Egress Interface Class Id */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__port__s.html#a0e92a090bff65520b560a7e04722f585">group</a>;                       <span class="comment">/* flush group id to be used by l2 flush mechanism */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__vlan__port__s.html#a5a77a1918c1ed45e344ef837c1c6d95e">ingress_failover_port_id</a>; <span class="comment">/* Failover VLAN Port Identifier for ingress Protection. */</span></div><div class="line">} <a class="code" href="group__vlan.html#ga60a5002601d23c0e30e4ee7e475907ba">bcm_vlan_port_t</a>;</div></div><!-- fragment --><p> Port match criteria for a Logical Layer 2 port can be set as one of the following values <a class="el" href="vlan.html#bcm_vlan_port_match_t">bcm_vlan_port_match_t</a> <a class="anchor" id="bcm_vlan_port_match_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_vlan_port_match_t</caption>
<tr>
<th>Value </th><th>Meaning  </th></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_INVALID </td><td>Illegal. Will result in the API returning an error. Offers some protection against calling the API with a structure that was memset to zero.   </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_NONE </td><td>No source match criteria.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT </td><td>{Module, Port} or Trunk.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_VLAN </td><td>Mod/port/trunk + outer VLAN or SVLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_VLAN_STACKED </td><td>Mod/port/trunk + outer/inner VLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_VLAN16 </td><td>Mod/port/trunk + 16-bit outer VLAN tag.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_PCP_VLAN </td><td>Mod/port/trunk + outer VLAN + outer PCP.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_PCP_VLAN_STACKED </td><td>Mod/port/trunk + outer/inner VLAN + outer/inner PCP.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_INITIAL_VLAN </td><td>Mod/port/trunk + Initial-VID.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL </td><td>Mod/port/trunk + Tunnel Value.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_VLAN </td><td>Mod/port/trunk + Tunnel Value + outer VLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_VLAN_STACKED </td><td>Mod/port/trunk + Tunnel Value + outer VLAN + inner VLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_PCP_VLAN </td><td>Mod/port/trunk + Tunnel Value + outer PCP + outer VLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_PCP_VLAN_STACKED </td><td>Mod/port/trunk + Tunnel Value + outer PCP + outer VLAN + inner VLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_PCP_VLAN_ETHERTYPE </td><td>Mod/port/trunk + Tunnel Value + Outer PCP + outer VLAN + EtherType.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_PCP_VLAN_VLAN_ETHERTYPE </td><td>Mod/port/trunk + Tunnel Value + Outer PCP + outer VLAN + Inner VLAN + EtherType.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_ETHERTYPE </td><td>Mod/port/trunk + Tunnel Value + EtherType.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_VLAN_ETHERTYPE </td><td>Mod/port/trunk + Tunnel Value + outer VLAN + EtherType.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_VLAN_STACKED_ETHERTYPE </td><td>Mod/port/trunk + Tunnel Value + outer VLAN + inner VLAN + EtherType.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_TUNNEL_PCP </td><td>Mod/port/trunk + Tunnel Value + outer PCP.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_UNTAGGED </td><td>Mod/port/trunk for untagged packets.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_PON_TUNNEL </td><td>Mod/port/trunk + LLTAG VLAN ID[11:0].  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_PON_TUNNEL_VLAN </td><td>Mod/port/trunk + LLTAG VLAN ID[11:0] + Outer VLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_PON_TUNNEL_INNER_VLAN </td><td>Mod/port/trunk + LLTAG VLAN ID[11:0] + Inner VLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_INNER_VLAN </td><td>Mod/port/trunk + Inner VLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_CVLAN </td><td>Mod/port/trunk + CVLAN.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_PORT_INNER_VLAN16 </td><td>Mod/port/trunk + Inner VLAN tag.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_NAMESPACE_VSI </td><td>Namespace + VSI.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_MATCH_NAMESPACE_PORT </td><td>Namespace + port.  </td></tr>
</table>
<p>A combination of one or more of the following flags can be passed to <a class="el" href="group__vlan.html#bcm_vlan_port_create">bcm_vlan_port_create</a> inside bcm_vlan_port_t flags field: <a class="anchor" id="bcm_vlan_port_flags"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_vlan_port_t Flags</caption>
<tr>
<th>FLAG </th><th>Meaning  </th></tr>
<tr>
<td>BCM_VLAN_PORT_REPLACE </td><td>Replace existing entry.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_WITH_ID </td><td>Add using the specified ID.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_INNER_VLAN_PRESERVE </td><td>Preserve the inner VLAN tag (by default it is stripped).  </td></tr>
<tr>
<td>BCM_VLAN_PORT_EGRESS_UNTAGGED </td><td>Specify the egress behavior  </td></tr>
<tr>
<td>BCM_VLAN_PORT_INNER_VLAN_ADD </td><td>Specify behavior of untagged packets. When set, the CEP VID will be inserted into the packet on PNP egress. When clear, the packet will remain untagged.   </td></tr>
<tr>
<td>BCM_VLAN_PORT_EGRESS_UNTAGGED </td><td>Indicates tag is stripped on logical port egress  </td></tr>
<tr>
<td>BCM_VLAN_PORT_EGRESS_VLAN16 </td><td>Indicates a 16-bit tag (instead of 3-bit priority, 1-bit CFI, and 12-bit VLAN) is added on logical port egress   </td></tr>
<tr>
<td>BCM_VLAN_PORT_ENCAP_WITH_ID </td><td>Use the specified encap ID to allocate and setup encapsulation  </td></tr>
<tr>
<td>BCM_VLAN_PORT_NETWORK </td><td>Core facing vlan port. This is used for split-horizon checks. Packets forwarded from core-facing port to another core-facing port is discarded.   </td></tr>
<tr>
<td>BCM_VLAN_PORT_OUTER_VLAN_PRESERVE </td><td>Preserve the outer VLAN tag (by default it is stripped).  </td></tr>
<tr>
<td>BCM_VLAN_PORT_EXTENDED </td><td>Use the extended P2P service.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_TRANSPARENT </td><td>Use the transparent mode to pass through traffic from PON port to NNI port.  </td></tr>
<tr>
<td>BCM_VLAN_PORT_CREATE_INGRESS_ONLY </td><td>Indicates Ingress settings  </td></tr>
<tr>
<td>BCM_VLAN_PORT_CREATE_EGRESS_ONLY </td><td>Indicates Egress settings  </td></tr>
<tr>
<td>BCM_VLAN_PORT_LOCAL_PROTECTION </td><td>Local protection according to link status  </td></tr>
<tr>
<td>BCM_VLAN_PORT_FORWARD_GROUP </td><td>Use forwarding group  </td></tr>
<tr>
<td>BCM_VLAN_PORT_EGRESS_PROTECTION </td><td>Egress Protection object  </td></tr>
<tr>
<td>BCM_VLAN_PORT_VSI_BASE_VID </td><td>VSI assignment mode.VSI equal to VSI in LIF table + VID  </td></tr>
<tr>
<td>BCM_VLAN_PORT_CASCADED </td><td>Creates a VLAN port object of type FEC that is pointed by another VLAN port object  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga2627bcef4b753f90516ab08aaa2159f5" title="Initialize the VLAN port structure.">bcm_vlan_port_t_init(bcm_vlan_port_t* vlan_port)</a>  </td><td>Initialize the VLAN port structure.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga7e58c25f5b87f10794b06f7f39b5fdb0" title="Create a layer 2 logical port.">bcm_vlan_port_create(int unit, bcm_vlan_port_t* vlan_port)</a>  </td><td>Create a layer 2 logical port.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gadc59a1317003314b9e8e7fda33f0f621" title="Destroy a layer 2 logical port.">bcm_vlan_port_destroy(int unit, bcm_gport_t gport)</a>  </td><td>Destroy a layer 2 logical port.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaf8ef095e79504fff008b4c900f0112c3" title="Get/find a layer 2 logical port given the GPORT ID or match criteria.">bcm_vlan_port_find(int unit, bcm_vlan_port_t* vlan_port)</a>  </td><td>Get/find a layer 2 logical port given the GPORT ID or match criteria.   </td></tr>
</table>
<p>VLAN port translation configuration is passed to <a class="el" href="group__vlan.html#bcm_vlan_port_translation_set">bcm_vlan_port_translation_set</a> in the form of bcm_vlan_port_translation_t structure, which is defined as follows: <a class="anchor" id="bcm_vlan_port_translation_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__vlan__port__translation__s.html">bcm_vlan_port_translation_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__port__translation__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;               <span class="comment">/* BCM_VLAN_ACTION_SET_XXX */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__vlan__port__translation__s.html#a5bbb92b9248c9ea595e205dd48adefd8">gport</a>;          <span class="comment">/* gport ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__port__translation__s.html#a0ebf7c7ca6afaeee6227cf0f1cd03fb0">new_outer_vlan</a>;      <span class="comment">/* New outer VLAN ID to use in VLAN translation */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__port__translation__s.html#a2df21d1e47d5d20b67b45f9ba340d200">new_inner_vlan</a>;      <span class="comment">/* New inner VLAN ID to use in VLAN translation */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__port__translation__s.html#aa80f9ec068cd66d8a8c06f9aff80cf79">vlan_edit_class_id</a>;  <span class="comment">/* VLAN editing profile */</span></div><div class="line">} <a class="code" href="group__vlan.html#ga98207412bcdd25805964216a405a8cc6">bcm_vlan_port_translation_t</a>;</div></div><!-- fragment --><table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac12b222e5496907a848a98486c7cf3f3" title="Initialize a structure that holds both the key and the info for VLAN port translation configuration.">bcm_vlan_port_translation_t_init(bcm_vlan_port_translation_t* vlan_port_translation)</a>  </td><td>Initialize a structure that holds both the key and the info for VLAN port translation configuration.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga0869f119c8b5695e75be20292e441d5f" title="Set translation information for a VLAN port.">bcm_vlan_port_translation_set(int unit, bcm_vlan_port_translation_t* vlan_port_translation)</a>  </td><td>Set translation information for a VLAN port.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaf35b604eb1a7e60e505766ef5bec60f9" title="Get translation information from a VLAN port.">bcm_vlan_port_translation_get(int unit, bcm_vlan_port_translation_t* vlan_port_translation)</a>  </td><td>Get translation information from a VLAN port.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaff287ceca5ca691c2eaf6bcd6d224966" title="Create a VLAN queue map entry.">bcm_vlan_queue_map_create(int unit, uint32 flags, int* qmid)</a>  </td><td>Create a VLAN queue map entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gad7d2efb9690d8beef10c3b98db6357e2" title="Delete a VLAN queue map entry.">bcm_vlan_queue_map_destroy(int unit, int qmid)</a>  </td><td>Delete a VLAN queue map entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga0fc829c76e3c02239b41c323521562c2" title="Delete all VLAN queue map entries.">bcm_vlan_queue_map_destroy_all(int unit)</a>  </td><td>Delete all VLAN queue map entries.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gac2586552d64f01536abfb41bd4abc2de" title="Set a VLAN queue map entry.">bcm_vlan_queue_map_set(int unit, int qmid, int pkt_pri, int cfi, int queue, int color)</a>  </td><td>Set a VLAN queue map entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaae19c390bea90661f6a6a6a217700d75" title="Get a VLAN queue map entry.">bcm_vlan_queue_map_get(int unit, int qmid, int pkt_pri, int cfi, int* queue, int* color)</a>  </td><td>Get a VLAN queue map entry.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga2f892f636826c742bba9197fdc1ade02" title="Attach a queue map object to a VLAN or VFI.">bcm_vlan_queue_map_attach(int unit, bcm_vlan_t vlan, int qmid)</a>  </td><td>Attach a queue map object to a VLAN or VFI.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga0a5f732b8469363cae9475c8eb5bf6c6" title="Get the queue map object which is attached to a VLAN or VFI.">bcm_vlan_queue_map_attach_get(int unit, bcm_vlan_t vlan, int* qmid)</a>  </td><td>Get the queue map object which is attached to a VLAN or VFI.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga3597e2cd2a771bbae76126394631800e" title="Detach a queue map object from a VLAN or VFI.">bcm_vlan_queue_map_detach(int unit, bcm_vlan_t vlan)</a>  </td><td>Detach a queue map object from a VLAN or VFI.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gafd7e8e5149d2655f33bd39d412e002e3" title="Detach queue map objects from all VLAN and VFI.">bcm_vlan_queue_map_detach_all(int unit)</a>  </td><td>Detach queue map objects from all VLAN and VFI.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gacd1f8784296ddb7f5f1925c28ab81313" title="Get a virtual or physical port from the specified VLAN.">bcm_vlan_gport_info_get(int unit, bcm_vlan_gport_info_t* vlan_gport_info)</a>  </td><td>Get a virtual or physical port from the specified VLAN.   </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN VPN flags</caption>
<tr>
<td>BCM_VLAN_VPN_ELINE </td><td>Create ELINE VPN  </td></tr>
<tr>
<td>BCM_VLAN_VPN_ELAN </td><td>Create ELAN VPN  </td></tr>
<tr>
<td>BCM_VLAN_VPN_WITH_ID </td><td>Create VPN with specified ID  </td></tr>
</table>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__vlan__vpn__config__s.html">bcm_vlan_vpn_config_s</a> {</div><div class="line">      unit32 <a class="code" href="structbcm__vlan__vpn__config__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;</div><div class="line">      <a class="code" href="group__types.html#gad0476041b742ee817043d5d0c99fc2ac">bcm_vpn_t</a> <a class="code" href="structbcm__vlan__vpn__config__s.html#ab4aa203386fefc77212e8a50b58d7ca5">vpn</a>;</div><div class="line">      <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a> <a class="code" href="structbcm__vlan__vpn__config__s.html#a114da9007e9014c9b8cb11206e0e0163">broadcast_group</a>;</div><div class="line">      <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a> <a class="code" href="structbcm__vlan__vpn__config__s.html#a23da875b7522ca342116c784be3cdcc1">unknown_unicast_group</a>;</div><div class="line">      <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a> <a class="code" href="structbcm__vlan__vpn__config__s.html#aea986011b6e84795ff6689a580e315ae">unknown_multicast_group</a>;</div><div class="line">  } <a class="code" href="group__vlan.html#gaaa85c3d12cf2329820a8f4f4e194e3b3">bcm_vlan_vpn_config_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN port flags</caption>
<tr>
<td>BCM_VLAN_PORT_SERVICE_TAGGED </td><td>Service tag mode  </td></tr>
<tr>
<td>BCM_VLAN_PORT_SERVICE_VLAN_ADD </td><td>Add SD-tag  </td></tr>
<tr>
<td>BCM_VLAN_PORT_SERVICE_VLAN_REPLACE </td><td>Replace VLAN not TPID  </td></tr>
<tr>
<td>BCM_VLAN_PORT_SERVICE_VLAN_DELETE </td><td>Delete VLAN Tag  </td></tr>
<tr>
<td>BCM_VLAN_PORT_SERVICE_VLAN_TPID_REPLACE </td><td>Replace VLAN and TPID  </td></tr>
<tr>
<td>BCM_VLAN_PORT_SERVICE_VLAN_PRI_TPID_REPLACE </td><td>Replace VLAN, VLAN-PRI, VLAN-CFI and TPID  </td></tr>
<tr>
<td>BCM_VLAN_PORT_SERVICE_VLAN_PRI_REPLACE </td><td>Replace VLAN, VLAN-PRI and VLAN-CFI  </td></tr>
<tr>
<td>BCM_VLAN_PORT_SERVICE_PRI_REPLACE </td><td>Replace VLAN-PRI and VLAN-CFI  </td></tr>
<tr>
<td>BCM_VLAN_PORT_SERVICE_TPID_REPLACE </td><td>Replace TPID only  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga881dfc4e4e0972ea1773037d0ef4370d" title="Initialize VPN config structure.">bcm_vlan_vpn_config_t_init(bcm_vlan_vpn_config_t* info)</a>  </td><td>Initialize VPN config structure.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga26d9e5e352e048e35f6e33da8f2f6305" title="Create or update VPN.">bcm_vlan_vpn_create(int unit, bcm_vlan_vpn_config_t* info)</a>  </td><td>Create or update VPN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gaf28ddb54599071d2cc8b2c92eaf6b9cf" title="Destroy VPN.">bcm_vlan_vpn_destroy(int unit, bcm_vpn_t vpn)</a>  </td><td>Destroy VPN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga60ba7b4fe01178785ec75891627ed480" title="Destroy VPN.">bcm_vlan_vpn_destroy_all(int unit)</a>  </td><td>Destroy VPN.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gade43f5aa89926cd9a48eed76e3668798" title="Get VPN information.">bcm_vlan_vpn_get(int unit, bcm_vpn_t vpn, bcm_vlan_vpn_config_t* info)</a>  </td><td>Get VPN information.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga9bf7ae49c9671fc295c3396e3b241ca2" title="Traverse all valid VPN entries and call the supplied callback routine.">bcm_vlan_vpn_traverse(int unit, bcm_vlan_vpn_traverse_cb cb, void* user_data)</a>  </td><td>Traverse all valid VPN entries and call the supplied callback routine.   </td></tr>
</table>
<p><a class="anchor" id="VLAN_MATCH_ACTION_OPTIONS"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN MATCH ACTION Options</caption>
<tr>
<td>BCM_VLAN_MATCH_ACTION_REPLACE </td><td>Replace Vlan match action  </td></tr>
</table>
<div class="fragment"><div class="line"><span class="comment">/* Generic vlan match attribute structure */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__vlan__match__info__s.html">bcm_vlan_match_info_s</a> {</div><div class="line">    <a class="code" href="group__vlan.html#gaccf528db3b342bd02b4251b78499aeb8">bcm_vlan_match_t</a> <a class="code" href="structbcm__vlan__match__info__s.html#a10c2fd3c8bfcf32a18984b0162d4af04">match</a>; <span class="comment">/* Match criteria */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__vlan__match__info__s.html#a56da6f3a91f2f6d38953ef7c66fa78b2">port</a>;       <span class="comment">/* Match port */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__vlan__match__info__s.html#aa921daa2f03946ed7c419003a5682c7c">src_mac</a>;      <span class="comment">/* Match source mac address */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__vlan__match__info__s.html#a63cc03433b3840964afae0a93f0de445">port_class</a>;      <span class="comment">/* Match port class */</span></div><div class="line">} <a class="code" href="group__vlan.html#ga1cc14d30e005c941822a7954ca1b5390">bcm_vlan_match_info_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>VLAN MATCH Criteria</caption>
<tr>
<td>BCM_VLAN_MATCH_INVALID </td><td>Invalid  </td></tr>
<tr>
<td>BCM_VLAN_MATCH_MAC_PORT </td><td>Match on mac address and module/port or trunk or virtual port  </td></tr>
<tr>
<td>BCM_VLAN_MATCH_MAC_PORT_CLASS </td><td>Match on Mac Address and Port-Class  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga340396df3962774368b3e3c7e8ba055e" title="Initialize Vlan Match info structure.">bcm_vlan_match_info_t_init(bcm_vlan_match_info_t* vlan_match_info)</a>  </td><td>Initialize Vlan Match info structure.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga3b5658b834902c697e7aed5a992cc7df" title="Add action for match criteria for Vlan assignment.">bcm_vlan_match_action_add(int unit, uint32 options, bcm_vlan_match_info_t* match_info, bcm_vlan_action_set_t* action_set)</a>  </td><td>Add action for match criteria for Vlan assignment.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga5bd95c9b89e27d4f3b8ab411691a1fa5" title="Get action for match criteria.">bcm_vlan_match_action_get(int unit, bcm_vlan_match_info_t* match_info, bcm_vlan_action_set_t* action_set)</a>  </td><td>Get action for match criteria.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga52a078470545ac9003789844ab014f8d" title="Get all actions and match criteria for given vlan match.">bcm_vlan_match_action_multi_get(int unit, bcm_vlan_match_t match, int size, bcm_vlan_match_info_t* match_info_array, bcm_vlan_action_set_t* action_set_array, int* count)</a>  </td><td>Get all actions and match criteria for given vlan match.   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#gab1bf059c9fa260b31b80093fabfa3cd7" title="Remove action for a match criteria.">bcm_vlan_match_action_delete(int unit, bcm_vlan_match_info_t* match_info)</a>  </td><td>Remove action for a match criteria   </td></tr>
<tr>
<td><a class="el" href="group__vlan.html#ga67fb6592c40e175c8aca5fa353ffa627" title="Remove all actions for vlan match.">bcm_vlan_match_action_delete_all(int unit, bcm_vlan_match_t match)</a>  </td><td>Remove all actions for vlan match.   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2020 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
