<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Flex Counter (Flexctr)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Flex Counter (Flexctr) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Flex counters are a set of counters pools available on demand. The counters are intended for system performance monitoring and flow statistics collection.</p>
<p>The new flex counter indices and counter operands are flexibly generated using flex counter objects and the counter operand can be updated using different operations such as Max, Min, Set, Increment, Decrement, .. Additional capabilities like trigger management and object quantization could be applied on a flex counter action to achieve traffic monitor functions</p>
<p><a class="anchor" id="bcm_flexctr_type_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter type.</caption>
<tr>
<th>Enumeration of flex counter type. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrTypeCounter </td><td>Counter type.  </td></tr>
<tr>
<td>bcmFlexctrTypeState </td><td>State type.  </td></tr>
<tr>
<td>bcmFlexctrTypeCount </td><td>Always last one.  </td></tr>
</table>
<ul>
<li>bcm_flexctr_counter_source_t enumerates the different sources which could generate a flex counter action. <a class="anchor" id="bcm_flexctr_counter_source_t"></a><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter sources.</caption>
<tr>
<th>Enumeration of flex counter sources. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrCounterSourceIngPort </td><td>Ingress system port.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceEgrPort </td><td>Egress system port.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceIngVlan </td><td>Ingress vlan.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceEgrVlan </td><td>Egress vlan.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceIngVPN </td><td>Ingress VPN.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceEgrVPN </td><td>Egress VPN.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceSVP </td><td>Source VP.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceDVP </td><td>Destination VP.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceIngL3Intf </td><td>Ingress L3 Interface.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceIngVRF </td><td>Ingress VRF.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceIfp </td><td>Ingress Filter Processor.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceVfp </td><td>Ingress Vlan Filter Processor.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceEfp </td><td>Egress Filter Processor.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceL3EgressOverlay </td><td>Overlay L3 Egress Forwarding Object.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceL3EgressUnderlay </td><td>Underlay L3 Egress Forwarding Object.  </td></tr>
<tr>
<td>bcmFlexctrSourceExactMatch </td><td>ExactMatch Filter Processor.  </td></tr>
<tr>
<td>bcmFlexctrSourceIpmc </td><td>Ipmc.  </td></tr>
<tr>
<td>bcmFlexctrSourceL3Route </td><td>L3 route.  </td></tr>
<tr>
<td>bcmFlexctrSourceMplsLabel </td><td>MPLS termination.  </td></tr>
<tr>
<td>bcmFlexctrSourceEcmp </td><td>ECMP group.  </td></tr>
<tr>
<td>bcmFlexctrSourceEgrL3Intf </td><td>Egress L3 interface.  </td></tr>
<tr>
<td>bcmFlexctrSourceTrunk </td><td>TRUNK group.  </td></tr>
<tr>
<td>bcmFlexctrSourceLatencyMonitor </td><td>Latency monitor.  </td></tr>
<tr>
<td>bcmFlexctrSourceEsFilter </td><td>Ethernet Segment filter.  </td></tr>
<tr>
<td>bcmFlexctrSourceL2TunnelInitiator </td><td>L2 tunnel initiator.  </td></tr>
<tr>
<td>bcmFlexctrSourceL2TunnelVnidAssignment </td><td>L2 tunnel VNID assignment.  </td></tr>
<tr>
<td>bcmFlexctrSourceL2TunnelTerminator </td><td>L2 tunnel termination.  </td></tr>
<tr>
<td>bcmFlexctrSourceL2TunnelVpnAssignment </td><td>L2 tunnel VPN assignment.  </td></tr>
<tr>
<td>bcmFlexctrSourceSvpAssignment </td><td>Source VP assignment.  </td></tr>
<tr>
<td>bcmFlexctrSourceIngVlanTranslate </td><td>Ingress VLAN translation.  </td></tr>
<tr>
<td>bcmFlexctrSourceEgrVlanTranslate </td><td>Egress VLAN translation.  </td></tr>
<tr>
<td>bcmFlexctrCounterSourceCount </td><td>Always last one.  </td></tr>
</table>
</li>
<li>bcm_flexctr_counter_object_t enumerates the objects could be used to generate counter index and counter value. Besides the objects 0 - 4, other objects can also be used for counter quantization and conditional counter trigger. <a class="anchor" id="bcm_flexctr_counter_object_t"></a><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter objects.</caption>
<tr>
<th>Enumeration of flex counter objects. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrCounterObjectConstZero </td><td>Const value 0 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectConstOne </td><td>Const value 1 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectTriggerInterval </td><td>Trigger interval object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectQuant </td><td>Quantization result object.  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticIngVfi </td><td>Ingress: VFI (virtual forwarding instance).  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticIngDvp </td><td>Ingress: destination VP (virtual port).   </td></tr>
<tr>
<td>bcmFlexctrObjectStaticIngSvp </td><td>Ingress: source VP (virtual port).  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticIngOverlayEcmpGroup </td><td>Ingress: overlay ECMP group object.  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticIngOverlayEcmpMember </td><td>Ingress: overlay ECMP member object.  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticIngOverlayL3NextHop </td><td>Ingress: overlay L3 next hop object.  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticEgrDvp </td><td>Egress: destination VP (virtual port).  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticEgrSvp </td><td>Egress: source VP (virtual port).  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticEgrVfi </td><td>Egress: VFI (virtual forwarding instance).  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticEgrNetworkGroupSvp </td><td>Egress: network group for source VP (virtual port).  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticEgrNetworkGroupDvp </td><td>Egress: network group for destination VP (virtual port).  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticEgrOverlayL3NextHop </td><td>Egress: overlay L3 next hop object.  </td></tr>
<tr>
<td>bcmFlexctrObjectStaticEgrOverlayL3Oif </td><td>Egress: overlay L3 outgoing interface object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngSystemSource </td><td>Ingress system source object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngIngressPpPort </td><td>Ingress pp port object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngL2Iif </td><td>Ingress l2 iif object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngL3Iif </td><td>Ingress l3 iif object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngL2SrcLookupHitIndex0 </td><td>Ingress l2 src lookup hit index 0 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngL2SrcLookupHitIndex1 </td><td>Ingress l2 src lookup hit index 1 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngL2DstLookupHitIndex0 </td><td>Ingress l2 dst lookup hit index 0 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngL2DstLookupHitIndex1 </td><td>Ingress l2 dst lookup hit index 1 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngSvp </td><td>Ingress svp object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngVfi </td><td>Ingress vfi object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngDstFpFlexCtrIndex </td><td>Ingress dst fp flex ctr index object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngIfpOpaqueObj1 </td><td>Ingress ifp opaque obj 1 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngIfpOpaqueObj0 </td><td>Ingress ifp opaque obj 0 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrVfi </td><td>Egress vfi object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrDvp </td><td>Egress dvp object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrL2Oif </td><td>Egress l2 oif object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrL3Oif1 </td><td>Egress l3 oif 1 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrTxPpPort </td><td>Egress tx pp port object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrL3Oif2 </td><td>Egress l3 oif 2 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrL3NextHop2FlexCtrIndex </td><td>Egress l3 next hop 2 flex ctr index object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrL3NextHop1FlexCtrIndex </td><td>Egress l3 next hop 1 flex ctr index object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrPipePortQueueNum </td><td>Egress pipe port queue num object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrEfpOpaqueObj2 </td><td>Egress efp opaque obj 2 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrEfpOpaqueObj1 </td><td>Egress efp opaque obj 1 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrResidenceTimeShifted0 </td><td>Egress residence time shifted 0 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrResidenceTimeShifted </td><td>Egress residence time shifted object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngVfpOpaqueObj0 </td><td>Ingress vfp opaque obj 0 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngNhop2OrEcmpGroupIndex1 </td><td>Ingress nhop 2 or ecmp group index 1.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngNhopIndex1 </td><td>Ingress nhop index 1.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngEmFtOpaqueObj1 </td><td>Ingress em ft opaque obj 1 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectIngEmFtOpaqueObj0 </td><td>Ingress em ft opaque obj 0 object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectEgrEcnMapInputVector </td><td>Egress ecn map input vector.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIntPri </td><td>Ingress int pri object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj2 </td><td>Ingress ifp opaque obj 2 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectEgrIntcnIntpriCng0 </td><td>Egress intcn intpri cng 0 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectEgrIntcnIntpriCng </td><td>Egress intcn intpri cng object.  </td></tr>
<tr>
<td>bcmFlexctrObjectEgrL3Oif216VfiClassid </td><td>Egress l3 oif 2 16 vfi classid object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIngressQoSRemapValue </td><td>Ingress QoS Remap value object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngFlexDigestA0 </td><td>Ingress flex digest a0 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngFlexDigestA1 </td><td>Ingress flex digest a1 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngFlexDigestB0 </td><td>Ingress flex digest b0 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngFlexDigestB1 </td><td>Ingress flex digest b1 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngFlexDigestC0 </td><td>Ingress flex digest c0 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngFlexDigestC1 </td><td>Ingress flex digest c1 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIpHdrTotalLength </td><td>Ingress ip header total length object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngI2eClassId </td><td>Ingress i2e class id object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngVlanXlate </td><td>Ingress vlan xlate object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpLagDgmActionSet </td><td>Ingress ifp lag dgm action set object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpSamplerIndex </td><td>Ingress ifp sampler index object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngEmFtOpaqueObj </td><td>Ingress em ft opaque obj object.  </td></tr>
<tr>
<td>bcmFlexctrObjectEgrEvxltFlexCtrIndex </td><td>Egress evxlt flex ctr index object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj1_0 </td><td>Ingress ifp opaque obj 1 0 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj1_1 </td><td>Ingress ifp opaque obj 1 1 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj1_2 </td><td>Ingress ifp opaque obj 1 2 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj1_3 </td><td>Ingress ifp opaque obj 1 3 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj3 </td><td>Ingress ifp opaque obj 3 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj4 </td><td>Ingress ifp opaque obj 4 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj5 </td><td>Ingress ifp opaque obj 5 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj6 </td><td>Ingress ifp opaque obj 6 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj7 </td><td>Ingress ifp opaque obj 7 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj8 </td><td>Ingress ifp opaque obj 8 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngIfpOpaqueObj9 </td><td>Ingress ifp opaque obj 9 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngVfpOpaqueObj1 </td><td>Ingress vfp opaque obj 1 object.  </td></tr>
<tr>
<td>bcmFlexctrObjectIngEpNihHdrDropCode </td><td>Ingress EP NIH header drop code object.  </td></tr>
<tr>
<td>bcmFlexctrObjectEgrEpRecircProfile </td><td>Egress EP Recirculate profile object.  </td></tr>
<tr>
<td>bcmFlexctrCounterObjectCount </td><td>Always last one.  </td></tr>
</table>
</li>
<li>bcm_flexctr_state_source_t enumerates the different sources which could generate a flex state action. <a class="anchor" id="bcm_flexctr_state_source_t"></a><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter state sources.</caption>
<tr>
<th>Enumeration of flex counter state sources. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrStateSourceEmFt </td><td>Ingress EM flow tracker.  </td></tr>
<tr>
<td>bcmFlexctrStateSourceCount </td><td>Always last one.  </td></tr>
</table>
</li>
<li>bcm_flexctr_state_object_t enumerates the objects could be used to generate counter index and counter value. Besides the objects 0 - 4, other objects can also be used for counter quantization and conditional counter trigger. <a class="anchor" id="bcm_flexctr_state_object_t"></a><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter state objects.</caption>
<tr>
<th>Enumeration of flex counter state objects. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrStateObjectConstZero </td><td>Const value 0 object.  </td></tr>
<tr>
<td>bcmFlexctrStateObjectConstOne </td><td>Const value 1 object.  </td></tr>
<tr>
<td>bcmFlexctrStateObjectTriggerInterval </td><td>Trigger interval object.  </td></tr>
<tr>
<td>bcmFlexctrStateObjectQuant </td><td>Quantization result object.  </td></tr>
<tr>
<td>bcmFlexctrStateObjectIngL2Iif </td><td>Ingress l2 iif object.  </td></tr>
<tr>
<td>bcmFlexctrStateObjectIngEmFtOpaqueObj1 </td><td>Ingress em ft opaque obj 1 object.  </td></tr>
<tr>
<td>bcmFlexctrStateObjectIngEmFtOpaqueObj0 </td><td>Ingress em ft opaque obj 0 object.  </td></tr>
<tr>
<td>bcmFlexctrStateObjectCount </td><td>Always last one.  </td></tr>
</table>
</li>
<li>bcm_flexctr_counter_value_t contians the statistic value.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flexctr__counter__value__s.html">bcm_flexctr_counter_value_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#aa3ad64cf41ec3a042bd92550cc6ed308">uint64</a> <a class="code" href="structbcm__flexctr__counter__value__s.html#a696e2477f3eadfced9e550522886313c">value</a>[BCM_FLEXCTR_COUNTER_VALUE_SIZE]; <span class="comment">/* Flex counter statistic value array. */</span></div><div class="line">} <a class="code" href="flexctr_8h.html#a10a70cddfcb75061a77225b7985d3d96">bcm_flexctr_counter_value_t</a>;</div></div><!-- fragment --><ul>
<li>bcm_flexctr_index_operation_t indicates how to generate counter index. Quant_id is only applicable when associated object is quantization object.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Flex counter index operation structure.</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * This data structure lists the operation of a flex counter index.</span></div><div class="line"><span class="comment"> * Number of supported elements for these member arrays and how the</span></div><div class="line"><span class="comment"> * index is generated from these elements may vary depending on device.</span></div><div class="line"><span class="comment"> * Flex counter index generated from two elements (if supported):</span></div><div class="line"><span class="comment"> *      value0 = (SEL(object0) &gt;&gt; shift0) &amp; ((1 &lt;&lt; mask_size0) - 1)).</span></div><div class="line"><span class="comment"> *      value1 = (SEL(object1) &amp; ((1 &lt;&lt; mask_size1) - 1)) &lt;&lt; shift1.</span></div><div class="line"><span class="comment"> *      index = (value1 | value0).</span></div><div class="line"><span class="comment"> * Flex counter index generated from three elements (if supported):</span></div><div class="line"><span class="comment"> *      value0 = (SEL(object0) &gt;&gt; shift0) &amp; ((1 &lt;&lt; mask_size0) - 1)).</span></div><div class="line"><span class="comment"> *      value1 = ((SEL(object1) &gt;&gt; shift2) &amp; ((1 &lt;&lt; mask_size1) - 1)) &lt;&lt;</span></div><div class="line"><span class="comment"> * shift1.</span></div><div class="line"><span class="comment"> *      value2 = ((SEL(object2) &gt;&gt; shift4) &amp; ((1 &lt;&lt; mask_size2) - 1)) &lt;&lt;</span></div><div class="line"><span class="comment"> * shift3.</span></div><div class="line"><span class="comment"> *      index = (value2 | value1 | value0).</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flexctr__index__operation__s.html">bcm_flexctr_index_operation_s</a> {</div><div class="line">    bcm_flexctr_counter_object_t counter_object[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Flex counter object array. */</span></div><div class="line">    bcm_flexctr_state_object_t state_object[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Flex state object array. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__index__operation__s.html#a03885f3ca8d211bb17374dea0174c5f4">quant_id</a>[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Quantization ID. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flexctr__index__operation__s.html#a1f7cec27dfc26bdd208181e2b9596155">mask_size</a>[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Object mask size array. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flexctr__index__operation__s.html#a9cf4c1a835399d1edc3906d4bde8c2bc">shift</a>[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Object shift array. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> index_num;                   <span class="comment">/* Total counter index number. */</span></div><div class="line">} <a class="code" href="flexctr_8h.html#a756d8de9b1f1ec101477e697e88fdc09">bcm_flexctr_index_operation_t</a>;</div></div><!-- fragment --><p> <a class="anchor" id="bcm_flexctr_value_select_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter value select.</caption>
<tr>
<th>Enumeration of flex counter value select. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrValueSelectCounterValue </td><td>Select counter value generated by operation to update counter.   </td></tr>
<tr>
<td>bcmFlexctrValueSelectPacketLength </td><td>Select packet length to update counter.  </td></tr>
<tr>
<td>bcmFlexctrValueSelectPairedCounter </td><td>Select paired counter value to update counter.  </td></tr>
<tr>
<td>bcmFlexctrValueSelectCount </td><td>Always last one.  </td></tr>
</table>
<p><a class="anchor" id="bcm_flexctr_value_operation_type_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter value operation types.</caption>
<tr>
<th>Enumeration of flex counter value operation types. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrValueOperationTypeNoop </td><td>COUNTER = OLD_COUNTER.  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeSet </td><td>COUNTER = CVALUE.  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeInc </td><td>COUNTER = OLD_COUNTER + CVALUE.  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeDec </td><td>COUNTER = OLD_COUNTER - CVALUE.  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeMax </td><td>COUNTER = MAX(OLD_COUNTER, CVALUE).  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeMin </td><td>COUNTER = MIN(OLD_COUNTER, CVALUE).  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeAverage </td><td>COUNTER = AVERAGE(OLD_COUNTER, CVALUE).  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeSetbit </td><td>COUNTER = SETBIT(OLD_COUNTER, CVALUE).  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeRdec </td><td>COUNTER = CVALUE - OLD_COUNTER.  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeXor </td><td>COUNTER = XOR(OLD_COUNTER, CVALUE).  </td></tr>
<tr>
<td>bcmFlexctrValueOperationTypeCount </td><td>Always last one.  </td></tr>
</table>
<ul>
<li>bcm_flexctr_value_select_t indicates how to generate counter value. Quant_id is only applicable when associated object is quantization object.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Flex counter value operation structure.</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * This data structure lists the operation of a flex counter update</span></div><div class="line"><span class="comment"> * value.</span></div><div class="line"><span class="comment"> * Number of supported elements for these member arrays and how the</span></div><div class="line"><span class="comment"> * value is generated from these elements may vary depending on device.</span></div><div class="line"><span class="comment"> * Flex counter update value generated from two elements (if supported):</span></div><div class="line"><span class="comment"> *      value0 = (SEL(object0) &gt;&gt; shift0) &amp; ((1 &lt;&lt; mask_size0) - 1)).</span></div><div class="line"><span class="comment"> *      value1 = (SEL(object1) &amp; ((1 &lt;&lt; mask_size1) - 1)) &lt;&lt; shift1.</span></div><div class="line"><span class="comment"> *      value = (value1 | value0).</span></div><div class="line"><span class="comment"> *      New_counter = UPDATE_TYPE(old_counter, value).</span></div><div class="line"><span class="comment"> * Flex counter update value generated from three elements</span></div><div class="line"><span class="comment"> * (if supported):</span></div><div class="line"><span class="comment"> *      value0 = (SEL(object0) &gt;&gt; shift0) &amp; ((1 &lt;&lt; mask_size0) - 1)).</span></div><div class="line"><span class="comment"> *      value1 = ((SEL(object1) &gt;&gt; shift2) &amp; ((1 &lt;&lt; mask_size1) - 1)) &lt;&lt;</span></div><div class="line"><span class="comment"> * shift1.</span></div><div class="line"><span class="comment"> *      value2 = ((SEL(object2) &gt;&gt; shift4) &amp; ((1 &lt;&lt; mask_size2) - 1)) &lt;&lt;</span></div><div class="line"><span class="comment"> * shift3.</span></div><div class="line"><span class="comment"> *      value =  (value2 | value1 | value0).</span></div><div class="line"><span class="comment"> *      New_counter = UPDATE_TYPE(old_counter, value).</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flexctr__value__operation__s.html">bcm_flexctr_value_operation_s</a> {</div><div class="line">    <a class="code" href="flexctr_8h.html#acec8cf24fddb4ef514da746fbdfd97b3">bcm_flexctr_value_select_t</a> <a class="code" href="structbcm__flexctr__value__operation__s.html#a6130c26276003b2ed596e6243b6f445f">select</a>;  <span class="comment">/* Select counter value. */</span></div><div class="line">    bcm_flexctr_counter_object_t counter_object[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Flex counter object array. */</span></div><div class="line">    bcm_flexctr_state_object_t state_object[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Flex state object array. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__value__operation__s.html#a03885f3ca8d211bb17374dea0174c5f4">quant_id</a>[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Quantization ID. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flexctr__value__operation__s.html#a1f7cec27dfc26bdd208181e2b9596155">mask_size</a>[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Object mask size array. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flexctr__value__operation__s.html#a9cf4c1a835399d1edc3906d4bde8c2bc">shift</a>[BCM_FLEXCTR_OPERATION_OBJECT_SIZE]; <span class="comment">/* Object shift array. */</span></div><div class="line">    <a class="code" href="flexctr_8h.html#a15476f5723ab108317806460f9984ff6">bcm_flexctr_value_operation_type_t</a> <a class="code" href="structbcm__flexctr__value__operation__s.html#a43fac2ecd2cb2352da032e0b084f7b7f">type</a>; <span class="comment">/* Counter value operation type. */</span></div><div class="line">} <a class="code" href="flexctr_8h.html#a324f8cc431717b183717279c9d06fcbc">bcm_flexctr_value_operation_t</a>;</div></div><!-- fragment --><ul>
<li>BCM_FLEXCTR_QUANTIZATION_FLAGS_32BIT_MODE Specify 32-bit values in the range check arrays (if supported).</li>
<li>bcm_flexctr_quantization_t lists the properties of a flex counter quantization. Each quantization instance generates a range check result.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Flex counter quantization structure.</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * This data structure lists the properties of a flex counter</span></div><div class="line"><span class="comment"> * quantization.</span></div><div class="line"><span class="comment"> * Each quantization instance generates a range check result.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flexctr__quantization__s.html">bcm_flexctr_quantization_s</a> {</div><div class="line">    <a class="code" href="flexctr_8h.html#adee351c22dcbcbf9efd4235934cb6b6c">bcm_flexctr_object_t</a> <a class="code" href="structbcm__flexctr__quantization__s.html#a1a44c985785c184178d838c8d8109d8a">object</a>;        <span class="comment">/* Flex counter object. */</span></div><div class="line">    <a class="code" href="flexctr_8h.html#adee351c22dcbcbf9efd4235934cb6b6c">bcm_flexctr_object_t</a> <a class="code" href="structbcm__flexctr__quantization__s.html#a5df201b2fc0d86c92990b14cdff66d8e">object_upper</a>;  <span class="comment">/* Flex counter object for the upper 16</span></div><div class="line"><span class="comment">                                           bits when flag</span></div><div class="line"><span class="comment">                                           BCM_FLEXCTR_QUANTIZATION_FLAGS_32BIT_MODE</span></div><div class="line"><span class="comment">                                           is set. The &#39;object&#39; field is for the</span></div><div class="line"><span class="comment">                                           lower 16 bits. */</span></div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__flexctr__quantization__s.html#a92fd9cf429d4027bbaa6ae6e0908fb7d">ports</a>;                   <span class="comment">/* Flex counter ports. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__quantization__s.html#a211970309c94954aec89764e89ec4b7a">range_check_min</a>[BCM_FLEXCTR_QUANTIZATION_RANGE_SIZE]; <span class="comment">/* Range check min value array. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__quantization__s.html#a2a2420294077c1a1321cd9ccd4f9990e">range_check_max</a>[BCM_FLEXCTR_QUANTIZATION_RANGE_SIZE]; <span class="comment">/* Range check max value array. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flexctr__quantization__s.html#a7eef81b61a61f09552313831d5d56882">range_num</a>;                    <span class="comment">/* Total range check number */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__quantization__s.html#a27559ac90ce82460370fa17c5e6d5e49">object_id</a>;                   <span class="comment">/* Flex counter object ID. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__quantization__s.html#a6e99b5415da6f8fae6a114a58acb4b81">object_id_upper</a>;             <span class="comment">/* Flex counter object ID (0-based</span></div><div class="line"><span class="comment">                                           index) for the counter object</span></div><div class="line"><span class="comment">                                           specified by &#39;object_upper&#39; field (if</span></div><div class="line"><span class="comment">                                           required). Valid when flag</span></div><div class="line"><span class="comment">                                           BCM_FLEXCTR_QUANTIZATION_FLAGS_32BIT_MODE</span></div><div class="line"><span class="comment">                                           is set. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__quantization__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* Quantization flags. */</span></div><div class="line">} <a class="code" href="flexctr_8h.html#aa9fed8f8b207231cdbf4920e9a5849f8">bcm_flexctr_quantization_t</a>;</div></div><!-- fragment --><p> <a class="anchor" id="bcm_flexctr_trigger_type_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter trigger type.</caption>
<tr>
<th>Enumeration of flex counter trigger type. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrTriggerTypeTime </td><td>Time based trigger type.  </td></tr>
<tr>
<td>bcmFlexctrTriggerTypeCondition </td><td>Condition based trigger type.  </td></tr>
<tr>
<td>bcmFlexctrTriggerTypeConditionStartTimeStop </td><td>Condition based start and time based stop type.  </td></tr>
<tr>
<td>bcmFlexctrTriggerTypeTimeStartActionCountStop </td><td>Time based start and action count based stop type.  </td></tr>
<tr>
<td>bcmFlexctrTriggerTypeConditionStartActionCountStop </td><td>Condition based start and action count based stop type.  </td></tr>
<tr>
<td>bcmFlexctrTriggerTypeCount </td><td>Always last one.  </td></tr>
</table>
<p><a class="anchor" id="bcm_flexctr_trigger_interval_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter trigger interval scale.</caption>
<tr>
<th>Enumeration of flex counter trigger interval scale. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrTriggerIntervalUnlimited </td><td>Unlimited collection.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval100ns </td><td>100 nanosecond interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval500ns </td><td>500 nanosecond interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval1us </td><td>1 millisecond interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval10us </td><td>10 millisecond interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval100us </td><td>100 microsecond interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval1ms </td><td>1 microsecond interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval10ms </td><td>10 microsecond interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval100ms </td><td>100 millisecond interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval1s </td><td>1 second interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerInterval10s </td><td>10 second interval.  </td></tr>
<tr>
<td>bcmFlexctrTriggerIntervalCount </td><td>Always last one.  </td></tr>
</table>
<ul>
<li>BCM_FLEXCTR_TRIGGER_CONDITION_COMPARE_NOT_EQUAL_START Specify to use 'not equal' as the compare function to trigger start counter update for conditional trigger.</li>
<li>BCM_FLEXCTR_TRIGGER_CONDITION_COMPARE_NOT_EQUAL_STOP Specify to use 'not equal' as the compare function to trigger stop counter update for conditional trigger.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Flex counter trigger structure.</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * This data structure lists the properties of the flex counter trigger.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flexctr__trigger__s.html">bcm_flexctr_trigger_s</a> {</div><div class="line">    <a class="code" href="flexctr_8h.html#ab766d5eaf5604848a1ed68290e24b999">bcm_flexctr_trigger_type_t</a> <a class="code" href="structbcm__flexctr__trigger__s.html#a2585bf72d983ddca7b19bf49d1c77b11">trigger_type</a>; <span class="comment">/* Trigger type. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flexctr__trigger__s.html#aea4c4a8d0013d0fc6f5971b2b4989b0e">period_num</a>;                   <span class="comment">/* Time trigger period number. */</span></div><div class="line">    <a class="code" href="flexctr_8h.html#a8ff6e0b2bb3b6dcd9c741d5afa958ab3">bcm_flexctr_trigger_interval_t</a> <a class="code" href="structbcm__flexctr__trigger__s.html#a402d6fabfda4e7fec531751e3d4f9864">interval</a>; <span class="comment">/* Time trigger interval scale. */</span></div><div class="line">    <a class="code" href="flexctr_8h.html#adee351c22dcbcbf9efd4235934cb6b6c">bcm_flexctr_object_t</a> <a class="code" href="structbcm__flexctr__trigger__s.html#a1a44c985785c184178d838c8d8109d8a">object</a>;        <span class="comment">/* Flex counter object. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flexctr__trigger__s.html#a05dadf698ff7b1fc0b908e9aef1968c2">object_value_start</a>;          <span class="comment">/* Conditional trigger start value. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flexctr__trigger__s.html#ac33e2ca7d7fa12e468fc1f2b96e4c403">object_value_stop</a>;           <span class="comment">/* Conditional trigger stop value. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flexctr__trigger__s.html#a7eea657c3b04c453bd847a33c1fa3129">object_value_mask</a>;           <span class="comment">/* Conditional trigger mask. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flexctr__trigger__s.html#a1d17a51f81dba3a6d4adbb6097f6a999">interval_shift</a>;              <span class="comment">/* Time trigger interval shift. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flexctr__trigger__s.html#a5fe518b242ce7ba6256c50113c299201">interval_size</a>;               <span class="comment">/* Time trigger interval size. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__trigger__s.html#a27559ac90ce82460370fa17c5e6d5e49">object_id</a>;                   <span class="comment">/* Flex counter object ID. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flexctr__trigger__s.html#afa5ac7339bc143108e78f595a7b484ce">action_count_stop</a>;            <span class="comment">/* Number of times a counter action is</span></div><div class="line"><span class="comment">                                           hit before stopping. Only valid with</span></div><div class="line"><span class="comment">                                           action count based stop type. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__trigger__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* Trigger flags. */</span></div><div class="line">} <a class="code" href="flexctr_8h.html#a74b108a9966b5425e902d94a3cb73310">bcm_flexctr_trigger_t</a>;</div></div><!-- fragment --><p> <a class="anchor" id="bcm_flexctr_counter_mode_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter counter modes.</caption>
<tr>
<th>Enumeration of flex counter counter modes. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrCounterModeNormal </td><td>Each counter contains two values A and B. The update value of value A and B are separately controlled by value_a_operation and value_b_operation in counter action. All value operation modes are suitable for values A and B.   </td></tr>
<tr>
<td>bcmFlexctrCounterModeWide </td><td>Each counter only contains one value A. The update value of value A is controlled by value_a_operation in counter action. Only value operation modes noop, set, inc and setbit are suitable for value A.   </td></tr>
<tr>
<td>bcmFlexctrCounterModeSlim </td><td>Each counter only contains one value A. The update value of value A is controlled by value_a_operation in counter action. Only value operation modes noop, set and inc are suitable for value A. Using slim mode could contain more counters within same h/w resources.   </td></tr>
<tr>
<td>bcmFlexctrCounterModeCount </td><td>Always last one.  </td></tr>
</table>
<p><a class="anchor" id="bcm_flexctr_drop_count_mode_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter drop count modes.</caption>
<tr>
<th>Enumeration of flex counter drop count modes. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrDropCountModeNoDrop </td><td>Count only if not being dropped.  </td></tr>
<tr>
<td>bcmFlexctrDropCountModeDrop </td><td>Count only if being dropped.  </td></tr>
<tr>
<td>bcmFlexctrDropCountModeAll </td><td>Ignore drop status and always count.  </td></tr>
<tr>
<td>bcmFlexctrDropCountModeCount </td><td>Always last one.  </td></tr>
</table>
<p><a class="anchor" id="bcm_flexctr_hint_type_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex counter hint type.</caption>
<tr>
<th>Enumeration of flex counter hint type. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrHintPool </td><td>Assign the same pool ID on one hint value for the given flex counter source.  </td></tr>
<tr>
<td>bcmFlexctrHintFieldGroupId </td><td>Indicate a field group ID as the hint and assign the pool ID based on the field group priority.  </td></tr>
<tr>
<td>bcmFlexctrHintCount </td><td>Always last one.  </td></tr>
</table>
<p><a class="anchor" id="bcm_flexctr_state_update_compare_t"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Enumeration of flex state update compare types.</caption>
<tr>
<th>Enumeration of flex state update compare types. </th><th>Description  </th></tr>
<tr>
<td>bcmFlexctrStateUpdateCompareAlwaysTrue </td><td>No conditional update.  </td></tr>
<tr>
<td>bcmFlexctrStateUpdateCompareEqual </td><td>Update if stored counter value = computed value.  </td></tr>
<tr>
<td>bcmFlexctrStateUpdateCompareLess </td><td>Update if stored counter value &lt; computed value.  </td></tr>
<tr>
<td>bcmFlexctrStateUpdateCompareCount </td><td>Always last one.  </td></tr>
</table>
<div class="fragment"><div class="line"><span class="comment">/* Flex state operation structure. */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>bcm_flexctr_state_operation_s {</div><div class="line">    bcm_flexctr_state_update_compare_t update_compare; <span class="comment">/* Comparison operation to be performed</span></div><div class="line"><span class="comment">                                           on stored value of counter for</span></div><div class="line"><span class="comment">                                           conditional update. */</span></div><div class="line">    <a class="code" href="structbcm__flexctr__value__operation__s.html">bcm_flexctr_value_operation_t</a> compare_operation; <span class="comment">/* Flex state value comparison</span></div><div class="line"><span class="comment">                                           structure. */</span></div><div class="line">    <a class="code" href="structbcm__flexctr__value__operation__s.html">bcm_flexctr_value_operation_t</a> operation_true; <span class="comment">/* Flex state value true operation</span></div><div class="line"><span class="comment">                                           structure. */</span></div><div class="line">    <a class="code" href="structbcm__flexctr__value__operation__s.html">bcm_flexctr_value_operation_t</a> operation_false; <span class="comment">/* Flex state value false operation</span></div><div class="line"><span class="comment">                                           structure. */</span></div><div class="line">} bcm_flexctr_state_operation_t;</div></div><!-- fragment --><ul>
<li>BCM_FLEXCTR_ACTION_FLAGS_TRIGGER_VALID Trigger is attached in the action.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Flex counter action structure.</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * This data structure lists the properties of a flex counter action.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flexctr__action__s.html">bcm_flexctr_action_s</a> {</div><div class="line">    bcm_flexctr_type_t <a class="code" href="stat_8dox.html#a2b1516d21ffe5483777c2bec8029beb4">type</a>;            <span class="comment">/* Flex counter type. */</span></div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__flexctr__action__s.html#a92fd9cf429d4027bbaa6ae6e0908fb7d">ports</a>;                   <span class="comment">/* Flex counter ports. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__action__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* Action flags. */</span></div><div class="line">    bcm_flexctr_counter_source_t counter_source; <span class="comment">/* Flex counter source. */</span></div><div class="line">    bcm_flexctr_state_source_t state_source; <span class="comment">/* Flex state source. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flexctr__action__s.html#a0e4193a9f84384c5cff53796ce5ab1d2">hint</a>;                           <span class="comment">/* Flex counter hint. */</span></div><div class="line">    <a class="code" href="flexctr_8h.html#a3033991bac99bf026717ef747219bfe8">bcm_flexctr_drop_count_mode_t</a> <a class="code" href="structbcm__flexctr__action__s.html#a87af6d7b4f8f452fe1957e091ceec2ae">drop_count_mode</a>; <span class="comment">/* Counter drop mode for functional</span></div><div class="line"><span class="comment">                                           packet drops. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flexctr__action__s.html#a6a5bc7dd3d72d974c4f73a6465f8d680">exception_drop_count_enable</a>;    <span class="comment">/* Enable to count on hardware exception</span></div><div class="line"><span class="comment">                                           drops. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flexctr__action__s.html#ae13d02147969bce1de36b7a94512f469">egress_mirror_count_enable</a>;     <span class="comment">/* Enable to count egress mirrored</span></div><div class="line"><span class="comment">                                           packets also. */</span></div><div class="line">    <a class="code" href="flexctr_8h.html#a2e02a3971c2c224e01ee6f5d9e05a323">bcm_flexctr_counter_mode_t</a> <a class="code" href="structbcm__flexctr__action__s.html#a7c53b332fe0e9052cd3632db5857154b">mode</a>;    <span class="comment">/* Action mode. */</span></div><div class="line">    <a class="code" href="structbcm__flexctr__index__operation__s.html">bcm_flexctr_index_operation_t</a> <a class="code" href="structbcm__flexctr__action__s.html#a1f90c2813a94f817698b2c83aecbddd2">index_operation</a>; <span class="comment">/* Flex counter or state index operation</span></div><div class="line"><span class="comment">                                           structure. */</span></div><div class="line">    <a class="code" href="structbcm__flexctr__value__operation__s.html">bcm_flexctr_value_operation_t</a> counter_operation_a; <span class="comment">/* Flex counter value A operation</span></div><div class="line"><span class="comment">                                           structure. */</span></div><div class="line">    <a class="code" href="structbcm__flexctr__value__operation__s.html">bcm_flexctr_value_operation_t</a> counter_operation_b; <span class="comment">/* Flex counter value B operation</span></div><div class="line"><span class="comment">                                           structure. */</span></div><div class="line">    bcm_flexctr_state_operation_t state_operation_a; <span class="comment">/* Flex state value A operation</span></div><div class="line"><span class="comment">                                           structure. */</span></div><div class="line">    bcm_flexctr_state_operation_t state_operation_b; <span class="comment">/* Flex state value B operation</span></div><div class="line"><span class="comment">                                           structure. */</span></div><div class="line">    <a class="code" href="structbcm__flexctr__trigger__s.html">bcm_flexctr_trigger_t</a> <a class="code" href="structbcm__flexctr__action__s.html#aeea90f5f4b853a308425e59779938573">trigger</a>;      <span class="comment">/* Flex counter trigger structure. */</span></div><div class="line">    <a class="code" href="flexctr_8h.html#a93c9c61a98c6752ae087103965259c9c">bcm_flexctr_hint_type_t</a> <a class="code" href="structbcm__flexctr__action__s.html#ab7af2b7b6f95e38cd54b697db6ad5bff">hint_type</a>;  <span class="comment">/* Hint type. */</span></div><div class="line">} <a class="code" href="flexctr_8h.html#a1694d1e129aff22d72e18c51a372752c">bcm_flexctr_action_t</a>;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Flex counter group action structure.</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * This data structure lists the properties of a flex counter group</span></div><div class="line"><span class="comment"> * action.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flexctr__group__action__s.html">bcm_flexctr_group_action_s</a> {</div><div class="line">    bcm_flexctr_type_t <a class="code" href="stat_8dox.html#a2b1516d21ffe5483777c2bec8029beb4">type</a>;            <span class="comment">/* Flex counter type. */</span></div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__flexctr__group__action__s.html#a92fd9cf429d4027bbaa6ae6e0908fb7d">ports</a>;                   <span class="comment">/* Flex counter ports. */</span></div><div class="line">    bcm_flexctr_counter_source_t counter_source; <span class="comment">/* Flex counter source. */</span></div><div class="line">    bcm_flexctr_state_source_t state_source; <span class="comment">/* Flex state source. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flexctr__group__action__s.html#ab82194a810a143dd79ea0155c0ca11bc">stat_counter_id</a>[BCM_FLEXCTR_GROUP_ACTION_SIZE]; <span class="comment">/* Flex counter group action array. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="l3_8dox.html#a33e304a487e0157ac2699689bdca31be">number</a>;                       <span class="comment">/* Total group action array number */</span></div><div class="line">} <a class="code" href="flexctr_8h.html#a837ee2022fd2e476a2ed140df4046966">bcm_flexctr_group_action_t</a>;</div></div><!-- fragment --><table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a3888e114ef97aa06080b61bbc44f0d81" title="Flex counter quantization data structure initialization function.">bcm_flexctr_quantization_t_init(bcm_flexctr_quantization_t* quantization)</a>  </td><td>Flex counter quantization data structure initialization function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a0c5ec7360f278af208db7578fd7b5af3" title="Flex counter quantization creation function.">bcm_flexctr_quantization_create(int unit, int options, bcm_flexctr_quantization_t* quantization, uint32* quant_id)</a>  </td><td>Flex counter quantization creation function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#ad6edd8570db1805c124e81a6389d62d8" title="Flex counter quantization destroy function.">bcm_flexctr_quantization_destroy(int unit, uint32 quant_id)</a>  </td><td>Flex counter quantization destroy function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a200895098247ed66ab541a0a858288e2" title="Flex counter quantization get function.">bcm_flexctr_quantization_get(int unit, uint32 quant_id, bcm_flexctr_quantization_t* quantization)</a>  </td><td>Flex counter quantization get function.   </td></tr>
</table>
<ul>
<li>bcm_flexctr_quantization_traverse_cb Flex counter quantization traverse callback function type.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="flexctr_8h.html#a4e600c2dff391f0480214be558df6ecc">bcm_flexctr_quantization_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <span class="keywordtype">int</span> quant_id,</div><div class="line">    <a class="code" href="structbcm__flexctr__quantization__s.html">bcm_flexctr_quantization_t</a> *quantization,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div></div><!-- fragment --><table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_flexctr_quantization_traverse(int unit, bcm_flexctr_type_t type, bcm_flexctr_quantization_traverse_cb trav_fn, void* user_data)  </td><td>Flex counter quantization traverse function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#aa63cf5ca30841fe398f69a01ec40f90e" title="Flex counter action data structure initialization function.">bcm_flexctr_action_t_init(bcm_flexctr_action_t* action)</a>  </td><td>Flex counter action data structure initialization function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a9758bced62bb35dabe96e1252076e768" title="Flex counter action creation function.">bcm_flexctr_action_create(int unit, int options, bcm_flexctr_action_t* action, uint32* stat_counter_id)</a>  </td><td>Flex counter action creation function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a9f428fef48c0affacc98adf16febc503" title="Flex counter action destroy function.">bcm_flexctr_action_destroy(int unit, uint32 stat_counter_id)</a>  </td><td>Flex counter action destroy function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a928c007805f6fb6d8302cc3b4ba30640" title="Flex counter action get function.">bcm_flexctr_action_get(int unit, uint32 stat_counter_id, bcm_flexctr_action_t* action)</a>  </td><td>Flex counter action get function.   </td></tr>
</table>
<ul>
<li>bcm_flexctr_action_traverse_cb Flex counter action traverse callback function type.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="flexctr_8h.html#a09162ff8c8a851e50d84833c63bf950f">bcm_flexctr_action_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> stat_counter_id,</div><div class="line">    <a class="code" href="structbcm__flexctr__action__s.html">bcm_flexctr_action_t</a> *<a class="code" href="field_8dox.html#aa2604850c6201f08b23a7f3c2b849638">action</a>,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div></div><!-- fragment --><table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_flexctr_action_traverse(int unit, bcm_flexctr_type_t type, bcm_flexctr_action_traverse_cb trav_fn, void* user_data)  </td><td>Flex counter action traverse function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a1de22343472c772e856fb87b83f5240f" title="Flex counter group action data structure initialization function.">bcm_flexctr_group_action_t_init(bcm_flexctr_group_action_t* group_action)</a>  </td><td>Flex counter group action data structure initialization function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#ae079d205b89329fcdb1242a40f95a5e0" title="Flex counter group action creation function.">bcm_flexctr_group_action_create(int unit, int options, bcm_flexctr_group_action_t* group_action, uint32* group_stat_counter_id)</a>  </td><td>Flex counter group action creation function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#ab357a074e9509042d1848505e29e24d9" title="Flex counter group action destroy function.">bcm_flexctr_group_action_destroy(int unit, uint32 group_stat_counter_id)</a>  </td><td>Flex counter group action destroy function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a64ee3cabb76f8a37adc4f803231331d5" title="Flex counter group action get function.">bcm_flexctr_group_action_get(int unit, uint32 group_stat_counter_id, bcm_flexctr_group_action_t* group_action)</a>  </td><td>Flex counter group action get function.   </td></tr>
</table>
<ul>
<li>bcm_flexctr_group_action_traverse_cb Flex counter group action traverse callback function type.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="flexctr_8h.html#a776954ec4ec6cf5e8c6e7c0c4e21470c">bcm_flexctr_group_action_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> group_stat_counter_id,</div><div class="line">    <a class="code" href="structbcm__flexctr__group__action__s.html">bcm_flexctr_group_action_t</a> *group_action,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div></div><!-- fragment --><table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_flexctr_group_action_traverse(int unit, bcm_flexctr_type_t type, bcm_flexctr_group_action_traverse_cb trav_fn, void* user_data)  </td><td>Flex counter group action traverse function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#af1e9e74b527f5c25731ab1e4f5eed1ea" title="Flex counter trigger enable set function.">bcm_flexctr_trigger_enable_set(int unit, uint32 stat_counter_id, int enable)</a>  </td><td>Flex counter trigger enable set function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a5c789a0941172820db0084be1abe5fec" title="Flex counter trigger enable get function.">bcm_flexctr_trigger_enable_get(int unit, uint32 stat_counter_id, int* enable)</a>  </td><td>Flex counter trigger enable get function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a1764828fc96a1a0bfe201f024f145c8f" title="Flex counter statistic get function.">bcm_flexctr_stat_get(int unit, uint32 stat_counter_id, uint32 num_entries, uint32* counter_indexes, bcm_flexctr_counter_value_t* counter_values)</a>  </td><td>Flex counter statistic get function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a916cea28f6bd55e2f57c6db1a8c79373" title="Flex counter statistic set function.">bcm_flexctr_stat_set(int unit, uint32 stat_counter_id, uint32 num_entries, uint32* counter_indexes, bcm_flexctr_counter_value_t* counter_values)</a>  </td><td>Flex counter statistic set function.   </td></tr>
<tr>
<td><a class="el" href="flexctr_8h.html#a99000ab7f214d0fc9e4b7b094c585721" title="Get overlaid objects for a specified flexctr object.">bcm_flexctr_object_overlay_multi_get(int unit, bcm_flexctr_object_t object, int array_size, bcm_flexctr_object_t *overlay_object_array, int *count)</a>  </td><td>Get overlaid objects for a specified flexctr object.   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2020 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
