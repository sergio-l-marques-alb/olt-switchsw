<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: WLAN Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">WLAN Management </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The BCM56634, BCM56540, BCM56640 and BCM56524 families of devices provide the means of supporting centralized WLAN control and management through the use of the CAPWAP protocol. The BCM WLAN APIs allow application developers to manage the Broadcom WLAN features.</p>
<h1><a class="anchor" id="wlan_overview"></a>
WLAN Overview</h1>
<p>Centralized WLAN network management is gaining in importance and demand and the BCM56634, BCM56540, BCM56640 and BCM56524 families of devices address this need. WLAN access control, mobility management, authentication and radio resource management are done at a central point of control, which is an Ethernet switch. The centralized controller or switch is known as an Access Controller (AC). The access points associated with it are known as Wireless Termination Points (WTP). The AC may be a layer 2 or a layer 3 device and is used to control/configure multiple WTPs as well as manage the mobility of the end wireless stations, also known as wireless clients. The AC also serves a point of aggregation in the data plane.</p>
<p>The Internet Engineering Task Force (IETF) Control And Provisioning of Wireless Access Points (CAPWAP) protocol aims to standardize the control and data plane communication between the WTP and the AC. CAPWAP defines UDP tunnels to transport data and control traffic between the AC and the WTP. BCM56634, BCM56540, BCM56640 and BCM56524 families of devices support CAPWAP tunnel encapsulation and decapsulation along with the associated fragmentation and re-assembly of packets. They also support mobility management for wireless clients. For the Home Agent (HA) / Foreign Agent (FA) model, traffic for a roamed-in client must be directed to its HA, which is another AC. Such packets are also transported using CAPWAP tunnels.</p>
<h1><a class="anchor" id="wlan_data_types"></a>
WLAN Data Types</h1>
<ul>
<li>The bcm_wlan_client_t structure describes the wireless client attributes.</li>
</ul>
<p><a class="anchor" id="bcm_wlan_client_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__wlan__client__s.html">bcm_wlan_client_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__wlan__client__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;               <span class="comment">/* Configuration flags */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__wlan__client__s.html#abfc17e5633711f4f28d8181298c85f45">wlan_port_id</a>;   <span class="comment">/* WLAN port number */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__wlan__client__s.html#a741f0f5b72838cbc381590a7b4651d67">mac</a>;              <span class="comment">/* Client MAC Address */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__wlan__client__s.html#a0012c11fe874e3c9337619706a4cfb93">home_agent</a>;     <span class="comment">/* The home agent */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__wlan__client__s.html#a6990037956573f78578a097e60bf24cc">wtp</a>;            <span class="comment">/* The access point */</span></div><div class="line">} <a class="code" href="group__wlan.html#gab10933ca94736cd8601e2b5eb5d7da7a">bcm_wlan_client_t</a>;</div></div><!-- fragment --><ul>
<li>The bcm_wlan_port_t structure describes a WLAN port (or "virtual-port").</li>
</ul>
<p><a class="anchor" id="bcm_wlan_port_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__wlan__port__s.html">bcm_wlan_port_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__wlan__port__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;               <span class="comment">/* Configuration flags */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__wlan__port__s.html#abfc17e5633711f4f28d8181298c85f45">wlan_port_id</a>;   <span class="comment">/* WLAN port number */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__wlan__port__s.html#a56da6f3a91f2f6d38953ef7c66fa78b2">port</a>;           <span class="comment">/* Physical port / trunk. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__wlan__port__s.html#afb43724358a2930f11effd8bbb6cdf71">if_class</a>;               <span class="comment">/* Interface class ID. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__wlan__port__s.html#a6fc39dbcc7021446b7867e7cb356a490">bssid</a>;            <span class="comment">/* BSSID */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__wlan__port__s.html#ac53b42243ee40edc74b615fe86806fe3">radio</a>;                  <span class="comment">/* Radio ID */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__wlan__port__s.html#a8aa8ad00170f646efea3446c924bccd1">match_tunnel</a>;   <span class="comment">/* Ingress Tunnel ID */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__wlan__port__s.html#abfc52a9d7e8f0c929a692b981871e6dc">egress_tunnel</a>;  <span class="comment">/* Egress Tunnel ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__wlan__port__s.html#a97fc8dfbb143f59da09cbc22facd2d02">client_multicast</a>;    <span class="comment">/* Client multicast bitmap */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__wlan__port__s.html#a399a9c2e57c84182ae4d633fb9340f11">encap_id</a>;          <span class="comment">/* Encap identifier. */</span></div><div class="line">} <a class="code" href="group__wlan.html#ga3ac6dfeed33721bc576c27315ee1e535">bcm_wlan_port_t</a>;</div></div><!-- fragment --><p>A WLAN port is a "virtual port" that can be:</p>
<ul>
<li>A WTP to AC port (identified by BSSID and optionally, the radio ID)</li>
<li>An AC to AC port (identified by the tunnel ID)</li>
</ul>
<p>Each WLAN port has a unique GPORT identifier, wlan_port_id, that is allocated by the SDK when a new WLAN port is added. The flags define which information is used as match and egress criteria.</p>
<h1><a class="anchor" id="wlan_generic_apis"></a>
Generic WLAN APIs</h1>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#gac059b6bf98869c479b070aabb346baf7" title="Initialize the WLAN port structure.">bcm_wlan_port_t_init(bcm_wlan_port_t* wlan_port)</a>  </td><td>Initialize the WLAN port structure.   </td></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga996932be98c56abf4dbcdbf743ee88a8" title="Initialize the WLAN client structure.">bcm_wlan_client_t_init(bcm_wlan_client_t* wlan_client)</a>  </td><td>Initialize the WLAN client structure.   </td></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga234080b8db6c9dd419f305d1c847d0ab" title="Initialize the BCM WLAN subsystem.">bcm_wlan_init(int unit)</a>  </td><td>Initialize the BCM WLAN subsystem.   </td></tr>
<tr>
<td><a class="el" href="group__wlan.html#gacb7c5cb12c6e72ae089ba20d7a6a9f08" title="Detach the WLAN software module.">bcm_wlan_detach(int unit)</a>  </td><td>Detach the WLAN software module.   </td></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga7841f79c988610cf83c293c31103d610" title="Add a wireless client to the database.">bcm_wlan_client_add(int unit, bcm_wlan_client_t* info)</a>  </td><td>Add a wireless client to the database.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#gaacb69eac7ab698b7cabb4045abd2fa83" title="Delete a client or all clients from the database.">bcm_wlan_client_delete(int unit, bcm_mac_t mac)</a>  </td><td>Delete a client or all clients from the database.   </td></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga99ce824b8a4af494c29cbdac8a30897f" title="Delete a client or all clients from the database.">bcm_wlan_client_delete_all(int unit)</a>  </td><td>Delete a client or all clients from the database.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga6a106ba9997afb6b8f19adf1f0cdd533" title="Get information about a WLAN client.">bcm_wlan_client_get(int unit, bcm_mac_t mac, bcm_wlan_client_t* info)</a>  </td><td>Get information about a WLAN client.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga981053d3f23259dde8c2e851be14f827" title="Traverse all WLAN clients.">bcm_wlan_client_traverse(int unit, bcm_wlan_client_traverse_cb cb, void* user_data)</a>  </td><td>Traverse all WLAN clients.   </td></tr>
</table>
<h1><a class="anchor" id="wlan_port_apis"></a>
WLAN Port APIs</h1>
<p>This set of APIs deals with the creation, deletion and management of WLAN virtual ports. WLAN ports can be WTP to AC or AC to AC. WTP to AC ports are based on the BSSID or optionally, the radio ID. AC to AC ports are based on the tunnel ID.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#gabbcbd767e22c29fe17c6c91039c0918c" title="Add a new WLAN port or update an existing one.">bcm_wlan_port_add(int unit, bcm_wlan_port_t* info)</a>  </td><td>Add a new WLAN port or update an existing one.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#gabe9f17452c79da9344555f4d94496ec5" title="Delete a WLAN port or all WLAN ports.">bcm_wlan_port_delete(int unit, bcm_gport_t wlan_port_id)</a>  </td><td>Delete a WLAN port or all WLAN ports.   </td></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga7d764606ff0ab165bd7a87bfe23f1330" title="Delete a WLAN port or all WLAN ports.">bcm_wlan_port_delete_all(int unit)</a>  </td><td>Delete a WLAN port or all WLAN ports.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga2156beab9ad9a9414fb62c04996ff37f" title="Get a WLAN port.">bcm_wlan_port_get(int unit, bcm_gport_t wlan_port_id, bcm_wlan_port_t* info)</a>  </td><td>Get a WLAN port.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga39d39ee48ccf05a89c462ec854af76f5" title="Traverse all WLAN ports.">bcm_wlan_port_traverse(int unit, bcm_wlan_port_traverse_cb cb, void* user_data)</a>  </td><td>Traverse all WLAN ports.   </td></tr>
</table>
<h1><a class="anchor" id="wlan_tunnel_apis"></a>
WLAN Tunnel APIs</h1>
<p>New tunnel types for AC to AC and WTP to AC tunnels have been added. The <a class="el" href="tunnel_8h.html#a63fc57d642f521481fb6656630e99fda">bcm_tunnel_terminator_t</a> and <a class="el" href="tunnel_8h.html#aaf11c224cb6954b19984cfd46d13a098">bcm_tunnel_initiator_t</a> structures have been updated along with the corresponding configuration flags. For tunnel termination, the existing APIs can be used. See the L3 section for the previously mentioned updates. This set of APIs deals with outgoing WLAN tunnels (tunnel initiation).</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga0ed878b1967ec75c7311d57ca6639c46" title="Set the tunneling initiator parameters for a WLAN tunnel.">bcm_wlan_tunnel_initiator_create(int unit, bcm_tunnel_initiator_t* info)</a>  </td><td>Set the tunneling initiator parameters for a WLAN tunnel.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga47c4b9a41ea5d0e201e2c35ec89d6e23" title="Delete an outgoing WLAN tunnel.">bcm_wlan_tunnel_initiator_destroy(int unit, bcm_gport_t wlan_tunnel_id)</a>  </td><td>Delete an outgoing WLAN tunnel.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__wlan.html#ga4077b84a729c1fd4d870900a673b34cc" title="Get the tunnel properties for an outgoing WLAN tunnel.">bcm_wlan_tunnel_initiator_get(int unit, bcm_tunnel_initiator_t* info)</a>  </td><td>Get the tunnel properties for an outgoing WLAN tunnel.   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2020 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
