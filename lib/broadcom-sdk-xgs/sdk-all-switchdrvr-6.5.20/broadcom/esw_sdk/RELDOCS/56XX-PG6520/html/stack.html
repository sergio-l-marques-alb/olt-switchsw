<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Multi-device Stack Control</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Multi-device Stack Control </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Network switches can act in a stand alone manner or be part of a larger distributed switching system. Such systems may be simply a small number of switching devices within a single box or a larger number of switching devices across multiple stacked boxes or in a chassis.</p>
<p>In each of these cases, each switch device must be programmed with its address in the larger system (called a module identifier or module ID) and have some means of directing traffic to other devices in the system. This topology information may be statically defined or dynamically determined by using the stacking software that Broadcom provides.</p>
<p>These defined API routines are the building blocks to set the system wide addressing and topology information.</p>
<p>StrataSwitch and StrataXGS switches support up to 32 or 64 module identifiers. Some StrataXGS fabric switches provide a mechanism called module mapping that allows up to 128 module identifiers to be used in a system. This is discussed in <a class="el" href="stack.html#stk_modmap">Module Mapping</a> .</p>
<p>There are two general types of stack ports that are supported.</p>
<ul>
<li>HiGig ports are dedicated 10 gigabit/second stack ports. These ports are found on most StrataXGS switch devices. There are dedicated fabric switches that consist only of HiGig ports as well as network switches that contain one or more front-panel ports (which can be Fast Ethernet (FE), Gigabit Ethernet (GbE) or Ten Gigabit Ethernet (XE) ports) and one or more HiGig ports.</li>
<li>Some devices may have gigabit ports that are capable of being put into a stack mode where each packet sent or received with an extra stack tag that provides stack wide addressing information. This type of stack port is called an SL stack port or front-panel stack port. SL stack ports are part of the StrataSwitch architecture and can be found on some StrataXGS devices.</li>
</ul>
<p>SL stack ports can be run in either simplex or duplex mode. Simplex stack ports transmit to one remote device and receives from another. Full connectivity in the stack requires that all stack ports in the system form a non-redundant ring. Simplex stack rings require that the count of systems in the ring be programmed into each stack port. A ring of systems can be constructed with only a single stack port on each system, but a single link failure can disrupt the entire ring.</p>
<p>An SL stack port in duplex mode transmits and receives with a single remote system. to build a ring of stacked systems, two stack ports are required, but the ring is redundant. A single failed stack link need not disrupt the entire ring of stacked switch devices.</p>
<p>For XCore devices module ID must be assigned to Forwarding Engine (FE) and Queuing Engine (QE) devices. This is discussed in <a class="el" href="stack.html#sbx_stk_modmap">XCore Device Module Assignment</a> .</p>
<h1><a class="anchor" id="stk_modmap"></a>
Module Mapping</h1>
<p>This describes the software support and methodology provided by the Broadcom programming libraries to handle Module Identifier mapping in the StrataXGS environment.</p>
<p>The use of Module Identifier mapping is generally required in any system that uses BCM5675s and module identifiers greater than 31. For a complete description of the feature, refer to the BCM5675 Programmers Reference Guide and Theory of Operations. This feature is also available for BCM5680x devices.</p>
<p>The following terms shown in <a class="el" href="stack.html#Module_Mapping_Terminology">Module_Mapping_Terminology</a> are prerequisite to understanding the programming guidelines and API calls.</p>
<p><a class="anchor" id="Module_Mapping_Terminology"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Module Mapping Terminology</caption>
<tr>
<th>Term </th><th>Description  </th></tr>
<tr>
<td>Switch Device </td><td>StrataXGS switch devices BCM5650/BCM5655/BCM5665, BCM5673/BCM5674, BCM5690/BCM5691/BCM5692/BCM5693, BCM5695/BCM5696/BCM5697/BCM5698, BCM5630x/BCM5650x/BCM5660x.   </td></tr>
<tr>
<td>Fabric Device </td><td>StrataXGS fabric devices BCM5670/BCM5671, BCM5675/BCM5676.  </td></tr>
<tr>
<td>Legacy Fabric Device </td><td>Module identifier mapping incapable fabric device like BCM5670.  </td></tr>
<tr>
<td>Legacy Domain </td><td>An island of legacy fabric devices and switch devices bridged to one another only by connection(s) to BCM5675 port(s). For example, in the case of a line card with BCM5670 + 2 BCM5690 connecting to a fabric module with BCM5675, BCM5670 + 2 BCM5690 belong to a single legacy domain.   </td></tr>
<tr>
<td>Local Module Identifier \sc (LMODID, LMODID_MAX) \ec </td><td><p class="starttd">This is the module identifier programmed in the switch device in CONFIG/ICONFIG register. This is local to the switch device.</p>
<p class="intertd">Each switch chip within a legacy domain must be assigned a unique LMODID. For example, a line card with BCM5670+4xBCM5690 should use LMODIDs 0..3.</p>
<p class="intertd">LMODID_MAX is the maximum LMODID assigned in any legacy domain throughout the system.</p>
<p class="intertd">LMODID equals 0 for devices directly connected to BCM5675, which is often the case. For each BCM5665, two LMODIDs are required (0 and 1).</p>
<p class="intertd">LMODID is the module identifier recorded in various switching tables like L2, L3, TRUNK, etc. for referring to switch ports within switch's own legacy domain, as opposed to on the other side of a BCM5675 link.</p>
<p class="endtd">This is also referred to as 32/64-space module identifier.   </p>
</td></tr>
<tr>
<td>Local Module Port (LPORT) </td><td><p class="starttd">This is the zero-based port number used in switching tables in the devices part of switch's own legacy domain. The same appears mapped to (SMODID, SPORT) in switching tables on other switch devices not part of the switch's own legacy domain in the system; see SMODID and SPORT defined below.</p>
<p class="endtd">This is also referred to as 32/64-space port number.   </p>
</td></tr>
<tr>
<td>Fabric Module Identifier (FMODID) </td><td><p class="starttd">Value 0..127. A FMODID identifies a switch on the translation-capable fabric. Each switch device is assigned a unique FMODID. Each BCM5665 requires two FMODIDs.</p>
<p class="endtd">This is also referred to as 128-space module identifier.   </p>
</td></tr>
<tr>
<td>Fabric Module Port (FPORT) </td><td><p class="starttd">Value 0..31. Zero-based port number for all ports on a switch device.</p>
<p class="endtd">This is also referred to as 128-space port number.   </p>
</td></tr>
<tr>
<td>Switch Module Identifier (SMODID) </td><td><p class="starttd">Value (LMODID_MAX+1)..31. The range can be (LMODID_MAX+1)..63 if only BCM5695s switch devices are used in the system.</p>
<p class="intertd">Multiple switch devices within a legacy domain should have a unique SMODID. Multiple switch devices across a legacy domain can share the same SMODID (for example, two BCM5690 devices or four BCM5673 devices). Two legacy devices sharing the same SMODID should have a translation capable fabric device (BCM5675) between them.</p>
<p class="intertd">SMODID is the module identifier recorded in various switching tables like L2, L3, TRUNK, etc. for referring to switch ports outside a switch's own legacy domain.</p>
<p class="endtd">This is also referred to as 32/64-space module identifier.   </p>
</td></tr>
<tr>
<td>Switch Module Port (SPORT) </td><td><p class="starttd">Value 0..31. This is the port identifier recorded in various switching tables like L2, L3, TRUNK, etc. for referring to switch ports outside a switch's own legacy domain.</p>
<p class="endtd">This is also referred to as 32/64-space port number.   </p>
</td></tr>
</table>
<h2>Programming Guidelines</h2>
<h2>LMODID</h2>
<pre class="fragment">Program the LMODID(s) in each switch device.  This will be a call to
</pre> <div class="fragment"><div class="line"><a class="code" href="group__stack.html#ga6c6bfaabcc58d2b8da738f9368016bd1">bcm_stk_my_modid_set</a>(<span class="keywordtype">int</span> unit, <span class="keywordtype">int</span> my_modid);  <span class="comment">/* LMODID = 0..LMODID_MAX */</span></div></div><!-- fragment --><p> This will set the device module ID in CONFIG/ICONFIG register.</p>
<h2>FMODID</h2>
<pre class="fragment">Assign a unique FMODID for every device in the system after
determining all the devices.

It is recommended, but not required, to assign FMODIDs beginning
with 127 and decrementing, to reduce confusion while
debugging implementations.
</pre><h2>SMODID</h2>
<pre class="fragment">Assign (SMODID, BASE_SPORT) to all devices in the system.  For
example, two BCM5690/BCM5695 devices attached to the BCM5675
can share the same SMODID with the base port level-shifted
suitably.  BCM5695 device 1 could be assigned (SMODID=A,
BASE_SPORT=0) and BCM5695 device 2 could be assigned (SMODID=A,
BASE_SPORT=16).  Up to four devices can share the same SMODID as
long as the sum of number of ports on these devices is &lt;= 32.
SMODID values assigned must be outside the range of LMODIDs,
reducing the number of SMODIDs available.
</pre><h2>Switch Device Table Programming</h2>
<pre class="fragment">There are many switch device table programming API calls similar
to the following which require as input, either through arguments or
through a structure, a module ID and port pair.  For example:
</pre> <div class="fragment"><div class="line">bcm_l3_ip_add/<span class="keyword">delete</span>()</div><div class="line"><a class="code" href="group__l2.html#ga352ec773839990b5f417c168e11e066e">bcm_l2_addr_add</a>/<a class="code" href="field_8dox.html#ac916703d3c386323f72bf56cdf214263">remove</a>()</div><div class="line"><a class="code" href="group__l2.html#gafdefc2d848cfe6db0333dcfb64d30935">bcm_l2_addr_get</a>()</div></div><!-- fragment --><p> In each case, the caller must pass the (SMODID, SPORT) when referring to ports outside switch's own legacy domain and (LMODID, LPORT) when referring to ports inside switch's own legacy domain whenever these API routines call for a module ID and port number pair. For systems not using module ID translation, FMODID is SMODID and FPORT is SPORT</p>
<h2>Fabric Table Programming</h2>
<pre class="fragment">Program the fabric device using FMODID to set up the crossbar
tables. This will use existing BCM API like
\ref bcm_stk_ucbitmap_set .
</pre><h2>Compatibility in Mixed Fabric Systems</h2>
<p>If only BCM5670 fabric devices are present in the system, no module ID translation is available and the module ID space is 0..31.</p>
<p>If only BCM5675 fabric devices are present in the system, module ID translation is available and the module ID space is 0..127.</p>
<p>If both types of devices are present in the system, module ID translation is available. There is also a requirement that FMODID be assigned sequentially to the switch devices, that is, if LMODID 0, 1, 2, 3 are assigned to switch devices on a legacy Line card then assigned FMODIDs should be A+0, A+1, A+2 and A+3. The FMODID settings for the translation capable fabric port to which the Line card connects will be A.</p>
<h2>API Function Definitions</h2>
<p>There are two sets of APIs to control the use of the module mapping capability that the BCM5675 provides.</p>
<p>There are a set of fabric related APIs to program the mapping tables in the BCM5675 itself (Fabric Configuration), and a set of APIs that control the software mapping that must be done on the connected switch chips such as BCM5695 and BCM5673 (Switch Configuration).</p>
<h2>Fabric Configuration</h2>
<p>The following APIs are provided to configure module ID translation, including enabling the feature and programming the BCM5675 translation tables.</p>
<ul>
<li><a class="el" href="group__stack.html#bcm_stk_fmod_lmod_mapping_set">bcm_stk_fmod_lmod_mapping_set</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_fmod_lmod_mapping_get">bcm_stk_fmod_lmod_mapping_get</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_fmod_smod_mapping_set">bcm_stk_fmod_smod_mapping_set</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_fmod_smod_mapping_get">bcm_stk_fmod_smod_mapping_get</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_modmap_enable_set">bcm_stk_modmap_enable_set</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_modmap_enable_get">bcm_stk_modmap_enable_get</a></li>
</ul>
<h2>Switch Configuration</h2>
<p>The BCM APIs take and return module identifiers in the FMOD space (fabric virtual modids). However, they do not keep internal state to perform actual translations to and from LMOD and SMOD values. The translation is potentially dynamic and hence application-specific.</p>
<p>Therefore, whenever the BCM API must program a hardware table with a translated (MODID, port) pair, it calls back to the application to perform the translation for it. Conversely, whenever it reads a (MODID, port) pair from a hardware table, it calls back to the application to perform a reverse translation. For example, there are callout points in the L2, L3, IPMC, Trunk, and Filter APIs.</p>
<ul>
<li><a class="el" href="group__stack.html#ga051d08a192e80cf4c4c47dc05b75d7d5">bcm_stk_modmap_cb_t</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_modmap_register">bcm_stk_modmap_register</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_modmap_unregister">bcm_stk_modmap_unregister</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_modmap_map">bcm_stk_modmap_map</a></li>
</ul>
<h2>Module Mapping Port Groups</h2>
<p>The BCM5680x series devices also feature module mapping capabilities. On these devices, the fabric ports are collected into mapping groups. Each group has the same FMODID &lt;=&gt; SMODID mapping defined. Additional APIs allow management of the port mapping groups.</p>
<ul>
<li><a class="el" href="group__stack.html#bcm_stk_port_modmap_group_set">bcm_stk_port_modmap_group_set</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_port_modmap_group_get">bcm_stk_port_modmap_group_get</a></li>
<li><a class="el" href="group__stack.html#bcm_stk_port_modmap_group_max_get">bcm_stk_port_modmap_group_max_get</a></li>
</ul>
<h1><a class="anchor" id="sbx_stk_modmap"></a>
XCore Device Module Assignment</h1>
<p>It is the responsibility of the application to set a a unique module ID.</p>
<p>For QE devices, the module ID starts from a high base. The QE node ID is encoded in the module ID. Application should use the following macro to construct the module ID. </p><div class="fragment"><div class="line">BCM_STK_NODE_TO_MOD(nodeid)</div></div><!-- fragment --><table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__stack.html#ga86e691442eb722fef1f14e1edc94c7aa" title="Initialize the Stack Control subsystem.">bcm_stk_init(int unit)</a>  </td><td>Initialize the Stack Control subsystem.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga6523ba9da0f93ee8219ff64d694c19cd" title="Gets the list of ports currently in SL stack mode.">bcm_stk_pbmp_get(int unit, bcm_pbmp_t* cur_pbm, bcm_pbmp_t* inactive_pbm)</a>  </td><td>Gets the list of ports currently in SL stack mode.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga1ca6284e2bb7eaa67aee592183dae412" title="Set/Get SL stack flags for a port.">bcm_stk_port_set(int unit, bcm_port_t port, uint32 flags)</a>  </td><td>Set/Get SL stack flags for a port.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gab45f21bd061bb585ba40d1343901a095" title="Set/Get SL stack flags for a port.">bcm_stk_port_get(int unit, bcm_port_t port, uint32* flags)</a>  </td><td>Set/Get SL stack flags for a port.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga1f825815a3d22822cacf472266c6f457" title="Set/Get SL stack mode status.">bcm_stk_mode_set(int unit, uint32 flags)</a>  </td><td>Set/Get SL stack mode status   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga4810d533069aea4b56371fa0babcf03e" title="Set/Get SL stack mode status.">bcm_stk_mode_get(int unit, uint32* flags)</a>  </td><td>Set/Get SL stack mode status   </td></tr>
<tr>
<td>bcm_stk_steering_unicast_set()  </td><td>Set a frame steering specification for unicast frames.   </td></tr>
<tr>
<td>bcm_stk_steering_multicast_set()  </td><td>Set a frame steering specification for multicast frames.   </td></tr>
<tr>
<td>bcm_stk_steering_clear()  </td><td>Remove a frame steering specification, or remove all frame steering, from a unit.   </td></tr>
<tr>
<td>bcm_stk_steering_clear_all()  </td><td>Remove a frame steering specification, or remove all frame steering, from a unit.   </td></tr>
</table>
<p><a class="anchor" id="MODID_TYPE"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_stk_modid_type_t</caption>
<tr>
<td>bcmStkModidTypePrimary </td><td>primary module IDs  </td></tr>
<tr>
<td>bcmStkModidTypeMultiNextHops </td><td>multiple next hops module IDs  </td></tr>
<tr>
<td>bcmStkModidTypeCoe </td><td>COE module IDs  </td></tr>
</table>
<p><a class="anchor" id="MODID_CONFIG"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>bcm_stk_modid_config_t</caption>
<tr>
<td>flags </td><td>bitwised uint32 flags  </td></tr>
<tr>
<td>modid </td><td>int identifier. modid -1 for a module only mapping to a local egress port deletion.  </td></tr>
<tr>
<td>num_ports </td><td>Number of ports to create on the given module. num_ports 0 for a module only mapping to a local egress port and port on this module is ignored during this mapping.  </td></tr>
<tr>
<td>modid_type </td><td>bcm_stk_modid_type_t identifier  </td></tr>
<tr>
<td>num_mods </td><td>int identifier. Number of modules for the local egress port mapping. Only 1 module is allowed for the module port to local egress port mapping, while consecutive modules are allowed for the module only to local egress port mapping.  </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__stack.html#ga1018600d561b5010ebf24aa52c713aa9" title="Initialize a bcm_stk_modid_config_t structure.">bcm_stk_modid_config_t_init(bcm_stk_modid_config_t* pconfig)</a>  </td><td>Initialize a bcm_stk_modid_config_t structure.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gac6e8b350cdb2c8e7cb22365048b26af0" title="Adds a desired module local to the system.">bcm_stk_modid_config_add(int unit, bcm_stk_modid_config_t* modid)</a>  </td><td>Adds a desired module local to the system.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga8c14872d55bf5913e21c1b5de3b3b732" title="Deletes a desired module that is local to the system.">bcm_stk_modid_config_delete(int unit, bcm_stk_modid_config_t* modid)</a>  </td><td>Deletes a desired module that is local to the system.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gacb53af606e4de50efebcfb4284f85a18" title="Deletes all modules added local to the system.">bcm_stk_modid_config_delete_all(int unit)</a>  </td><td>Deletes all modules added local to the system.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga870734419b3ae94bd478194636103dec" title="Sets/Gets the module id.">bcm_stk_modid_config_set(int unit, bcm_stk_modid_config_t* modid)</a>  </td><td>Sets/Gets the module id.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gae5515f1bde6579cbe492a68389c0eeb6" title="Sets/Gets the module id.">bcm_stk_modid_config_get(int unit, bcm_stk_modid_config_t* modid)</a>  </td><td>Sets/Gets the module id.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gac8698f9d1ac903f833abaed96a1789b2" title="Gets all modules added local to the system.">bcm_stk_modid_config_get_all(int unit, int modid_max, bcm_stk_modid_config_t* modid_array, int* modid_count)</a>  </td><td>Gets all modules added local to the system.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaec64e3f8bf7f30d7abac012a1d628c9f" title="Get or set the module ID of the local device.">bcm_stk_modid_get(int unit, int* modid)</a>  </td><td>Get or set the module ID of the local device   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga4d3c7f03509278b49be1c5147939d12e" title="Get or set the module ID of the local device.">bcm_stk_modid_set(int unit, int modid)</a>  </td><td>Get or set the module ID of the local device   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaafe8c590afe8d801c41446780139238d" title="Get or set the module ID of the local device.">bcm_stk_my_modid_get(int unit, int* my_modid)</a>  </td><td>Get or set the module ID of the local device   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga6c6bfaabcc58d2b8da738f9368016bd1" title="Get or set the module ID of the local device.">bcm_stk_my_modid_set(int unit, int my_modid)</a>  </td><td>Get or set the module ID of the local device   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga27258f7349db861c69aca04f8f22a780" title="Number of module identifiers used by device.">bcm_stk_modid_count(int unit, int* num_modid)</a>  </td><td>Number of module identifiers used by device   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gab07281fe9cc798a152571d8a69d05be2" title="Control module steering.">bcm_stk_modport_set(int unit, int modid, int port)</a>  </td><td>Control module steering.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gae29c1dd3bb6f6067d63e8b3c5272a18a" title="Control module steering.">bcm_stk_modport_get(int unit, int modid, int* port)</a>  </td><td>Control module steering.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga52eeaec7d064474c9789cc16a4a8f031" title="Get module steering.">bcm_stk_modport_get_all(int unit, int modid, int port_max, int* port_array, int* port_count)</a>  </td><td>Get module steering   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaf61a8dd6e57737d579cc9a6f907ee986" title="Add or delete more than one path for a given destination module.">bcm_stk_modport_add(int unit, int modid, bcm_port_t port)</a>  </td><td>Add or delete more than one path for a given destination module.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gac8f0374219167e1c109cabb2d0c2e0eb" title="Add or delete more than one path for a given destination module.">bcm_stk_modport_delete(int unit, int modid, bcm_port_t port)</a>  </td><td>Add or delete more than one path for a given destination module.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaee07596d3fdc46417a09bd8364a158d9" title="Clear module steering.">bcm_stk_modport_clear(int unit, int modid)</a>  </td><td>Clear module steering.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaca75c03d6de79acb15960c146b94e2fe" title="Clear module steering.">bcm_stk_modport_clear_all(int unit)</a>  </td><td>Clear module steering.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga838420c1950e80e9ab41d8af76b91ffa" title="Control per ingress port module steering.">bcm_stk_port_modport_set(int unit, bcm_port_t ing_port, bcm_module_t dest_modid, bcm_port_t dest_port)</a>  </td><td>Control per ingress port module steering.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gabb75671a8121a95debbe58115c429b83" title="Get a destination path for a given destination module of the ingress port.">bcm_stk_port_modport_get(int unit, bcm_port_t ing_port, bcm_module_t dest_modid, bcm_port_t* dest_port)</a>  </td><td>Control per ingress port module steering.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga8ecfc1fe396b63ea00afa7d7e24926a3" title="Get per ingress port module steering.">bcm_stk_port_modport_get_all(int unit, bcm_port_t ing_port, bcm_module_t dest_modid, int dest_port_max, bcm_port_t* dest_port_array, int* dest_port_count)</a>  </td><td>Get per ingress port module steering   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaa1bc7993634e68d363cdf32284dbc6a8" title="Add or delete more than one path for a given destination module of an ingress port.">bcm_stk_port_modport_add(int unit, bcm_port_t ing_port, bcm_module_t dest_modid, bcm_port_t dest_port)</a>  </td><td>Add or delete more than one path for a given destination module of an ingress port.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga1ea8d27d8ce716434285a481f5762f49" title="Delete one path for a given destination module of the ingress port.">bcm_stk_port_modport_delete(int unit, bcm_port_t ing_port, bcm_module_t dest_modid, bcm_port_t dest_port)</a>  </td><td>Add or delete more than one path for a given destination module of an ingress port.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga8daa61a4b58e0999da7b91856cc6fc27" title="Clear per ingress port module steering.">bcm_stk_port_modport_clear(int unit, bcm_port_t ing_port, bcm_module_t dest_modid)</a>  </td><td>Clear per ingress port module steering.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga6f3e0d4e1567a148876375d4bb714ad9" title="Clear destination paths for all destination modules of the ingress port.">bcm_stk_port_modport_clear_all(int unit, bcm_port_t ing_port)</a>  </td><td>Clear per ingress port module steering.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga08686b5481777c1b115152530f6328a7" title="Set, get, or delete Fabric unicast table entries.">bcm_stk_ucbitmap_set(int unit, int port, int modid, bcm_pbmp_t pbmp)</a>  </td><td>Set, get, or delete Fabric unicast table entries.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga8d087848265fb9a85d093fb43a012e72" title="Set, get, or delete Fabric unicast table entries.">bcm_stk_ucbitmap_get(int unit, int port, int modid, bcm_pbmp_t* pbmp)</a>  </td><td>Set, get, or delete Fabric unicast table entries.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga5eb1b8045414ce6b161f5f54c6c9ec43" title="Set, get, or delete Fabric unicast table entries.">bcm_stk_ucbitmap_del(int unit, bcm_port_t port, int modid, bcm_pbmp_t pbmp)</a>  </td><td>Set, get, or delete Fabric unicast table entries.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__stack.html#ga6841a39a91d9e3c198324418bdfbb75a" title="Set or get a fabric mapping between fabric and local space.">bcm_stk_fmod_lmod_mapping_set(int unit, bcm_port_t port, bcm_module_t fmod, bcm_module_t lmod)</a>  </td><td>Set or get a fabric mapping between fabric and local space.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaacd3a69e3f7ee5f6baad5d10a1d4642c" title="Set or get a fabric mapping between fabric and local space.">bcm_stk_fmod_lmod_mapping_get(int unit, bcm_port_t port, bcm_module_t* fmod, bcm_module_t* lmod)</a>  </td><td>Set or get a fabric mapping between fabric and local space.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gab34b2294394ca26ae8c0e490ad48c7ab" title="Set or get a fabric mapping between fabric and switch space.">bcm_stk_fmod_smod_mapping_set(int unit, bcm_port_t port, bcm_module_t fmod, bcm_module_t smod, bcm_port_t sport, uint32 nports)</a>  </td><td>Set or get a fabric mapping between fabric and switch space.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga39563cf561fc4745ae25447d1342dbb1" title="Set or get a fabric mapping between fabric and switch space.">bcm_stk_fmod_smod_mapping_get(int unit, bcm_port_t port, bcm_module_t fmod, bcm_module_t* smod, bcm_port_t* sport, uint32* nports)</a>  </td><td>Set or get a fabric mapping between fabric and switch space.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga07a3996a1a0541fd7689273367ab8891" title="Enable/Disable or get module mapping on a fabric port.">bcm_stk_modmap_enable_set(int unit, bcm_port_t port, int enable)</a>  </td><td>Enable/Disable or get module mapping on a fabric port.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga9899a2d9ee0a14de324263ea612794e6" title="Enable/Disable or get module mapping on a fabric port.">bcm_stk_modmap_enable_get(int unit, bcm_port_t port, int* enable)</a>  </td><td>Enable/Disable or get module mapping on a fabric port.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaf60b1c996dc067c4b68e3db35809b439" title="Assign or get fabric port to a module mapping group.">bcm_stk_port_modmap_group_set(int unit, bcm_port_t port, int group)</a>  </td><td>Assign or get fabric port to a module mapping group.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaa005aafbfc9b5ff76645da619c4c439c" title="Assign or get fabric port to a module mapping group.">bcm_stk_port_modmap_group_get(int unit, bcm_port_t port, int* group)</a>  </td><td>Assign or get fabric port to a module mapping group.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gacda9d9f08404a3ade3de14c43d77aa21" title="Retrieve the maximum module mapping group on a fabric.">bcm_stk_port_modmap_group_max_get(int unit, int* max_group)</a>  </td><td>Retrieve the maximum module mapping group on a fabric.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__stack.html#ga051d08a192e80cf4c4c47dc05b75d7d5">bcm_stk_modmap_cb_t()</a>  </td><td>Module mapping switch callback.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gac474a19dbc65b13ced5af9560cb81e3e" title="Register a Module Mapping callback.">bcm_stk_modmap_register(int unit, bcm_stk_modmap_cb_t func)</a>  </td><td>Register a Module Mapping callback.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gace4d170e13085d7394d0c2da28bef5c9" title="Register a Module Mapping callback.">bcm_stk_modmap_unregister(int unit)</a>  </td><td>Register a Module Mapping callback.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gae259d4ea8666f5b99933117e80829ff0" title="Map or unmap a module identifier.">bcm_stk_modmap_map(int unit, int setget, bcm_module_t mod_in, bcm_port_t port_in, bcm_module_t* mod_out, bcm_port_t* port_out)</a>  </td><td>Map or unmap a module identifier.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gafecfc3b449cb88ad7fb3046f32885aa5">bcm_stk_cb_f()</a>  </td><td>bcm_stk_update_callback function   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaa910a30948dbee35b6f42b361a120167" title="Register a function for stack port updates.">bcm_stk_update_callback_register(int unit, bcm_stk_cb_f cb, void* cookie)</a>  </td><td>Register a function for stack port updates.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gac215c6c4875c46905b6a9f8ce8263095" title="Unregister a function for stack port updates.">bcm_stk_update_callback_unregister(int unit, bcm_stk_cb_f cb, void* cookie)</a>  </td><td>Unregister a function for stack port updates.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gadf3b6709f6ce548610f7b150de465173" title="Enable or disable a module and specify number of ports.">bcm_stk_module_enable(int unit, bcm_module_t modid, int nports, int enable)</a>  </td><td>Enable or disable a module and specify number of ports.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga09a636731926b084854988f01664c67a" title="Maximum group ID set/get.">bcm_stk_module_max_set(int unit, uint32 flags, bcm_module_t max_module)</a>  </td><td>Maximum group ID set/get   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gae99d926692406c52e9367d4fad904413" title="Maximum group ID set/get.">bcm_stk_module_max_get(int unit, uint32 flags, bcm_module_t* max_module)</a>  </td><td>Maximum group ID set/get   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga1037d2554886cf27b750806056c69f8d" title="Set/get control value.">bcm_stk_module_control_set(int unit, uint32 flags, bcm_module_t module, bcm_stk_module_control_t control, int arg)</a>  </td><td>Set/get control value.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga9cfae6d60aa5ab342c61117afaec8b76" title="Set/get control value.">bcm_stk_module_control_get(int unit, uint32 flags, bcm_module_t module, bcm_stk_module_control_t control, int* arg)</a>  </td><td>Set/get control value.   </td></tr>
<tr>
<td>bcm_stk_fabric_map_set()  </td><td>Port map set   </td></tr>
<tr>
<td>bcm_stk_fabric_map_get()  </td><td>Port map get   </td></tr>
<tr>
<td>bcm_stk_module_protocol_set()  </td><td>Set module type.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga711ff18d7218762124d02c318cbb73d4" title="Map a SAND System-Port to a Gport.">bcm_stk_sysport_gport_set(int unit, bcm_gport_t sysport, bcm_gport_t gport)</a>  </td><td>Map a SAND System-Port to a Gport   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga49ed06fef9c0146ae28f9058417ce4a9" title="Given a SAND System-Port, get the Gport.">bcm_stk_sysport_gport_get(int unit, bcm_gport_t sysport, bcm_gport_t* gport)</a>  </td><td>Given a SAND System-Port, get the Gport   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gae3c7aaa5e04a1760ca164ede84f66c69" title="Given a Gport get the SAND System-Port.">bcm_stk_gport_sysport_get(int unit, bcm_gport_t gport, bcm_gport_t* sysport)</a>  </td><td>Given a Gport get the SAND System-Port   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gad97852b33f38d808af29d669adcdfb20" title="Create mapping from local gport id to system gport id.">bcm_stk_system_gport_map_create(int unit, bcm_stk_system_gport_map_t* sys_gport_map)</a>  </td><td>Create mapping from local gport id to system gport id   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gae846aee9220f5413113c80b2c5fc1c45" title="Get mapping from local gport id to system gport id.">bcm_stk_system_gport_map_get(int unit, bcm_stk_system_gport_map_t* sys_gport_map)</a>  </td><td>Get mapping from local gport id to system gport id   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga93aeef3f47aad97a633fdf6f89750eb6" title="Destroy mapping from local gport id to system gport id.">bcm_stk_system_gport_map_destroy(int unit, bcm_gport_t system_gport)</a>  </td><td>Destroy mapping from local gport id to system gport id   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaa5ea73ba9da77c5466b90bf618cdae67" title="Add or delete modid from TM-Domain.">bcm_stk_modid_domain_add(int unit, int modid, int tm_domain)</a>  </td><td>Add or delete modid from TM-Domain.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga72cb9bb0ce7304f13d2f33a7aecc4619" title="Delete modid from TM-domain.">bcm_stk_modid_domain_delete(int unit, int modid, int tm_domain)</a>  </td><td>Add or delete modid from TM-Domain.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaaa598350aa3afa9efead27ce7d98faf5" title="Get array of modid belongs to TM-Domin.">bcm_stk_modid_domain_get(int unit, int tm_domain, int mod_max, int* mod_array, int* mod_count)</a>  </td><td>Get array of modid belongs to TM-Domin   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga0448e38a2cf3e78fc4ed9cd93273fd22" title="Define via which Stacking-Lag the TM-Domain will be reached.">bcm_stk_domain_stk_trunk_add(int unit, int tm_domain, bcm_trunk_t stk_trunk)</a>  </td><td>Define via which Stacking-Lag the TM-Domain will be reached.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga6823be64e73209d4284c4e86bf37e6d0" title="Delete a path from stacking trunk to TM-domain.">bcm_stk_domain_stk_trunk_delete(int unit, int tm_domain, bcm_trunk_t stk_trunk)</a>  </td><td>Define via which Stacking-Lag the TM-Domain will be reached.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga071beafe910c8a1ec37c8031af42a52a" title="Get array of TM-Domains which are reachable by the Stacking-Lag.">bcm_stk_domain_stk_trunk_get(int unit, bcm_trunk_t stk_trunk, int domain_max, int* domain_array, int* domain_count)</a>  </td><td>Get array of TM-Domains which are reachable by the Stacking-Lag.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#gaff9b474ebbb82eb3de41893caef5bcc7" title="Set remote mapping between local port and remote port, remote modid.">bcm_stk_modport_remote_map_set(int unit, bcm_gport_t port, uint32 flags, int remote_modid, bcm_port_t remote_port)</a>  </td><td>Set remote mapping between local port and remote port, remote modid   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga7e661e4c75e557f22880cab7b9a777d0" title="Get remote mapping between local port and remote port, remote modid.">bcm_stk_modport_remote_map_get(int unit, bcm_gport_t port, uint32 flags, int* remote_modid, bcm_port_t* remote_port)</a>  </td><td>Get remote mapping between local port and remote port, remote modid   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga6171f51b87366489ac02eb69192a47c8" title="Enable remote ports for the specified module based on the specified port bitmap.">bcm_stk_module_remote_port_enable_set(int unit, int modid, bcm_pbmp_t pbmp)</a>  </td><td>Enable remote ports for the specified module based on the specified port bitmap.   </td></tr>
<tr>
<td><a class="el" href="group__stack.html#ga853bc1000a51b4bc9c6ad23f0e24a305" title="Get enabled remote port bitmap for the specified module.">bcm_stk_module_remote_port_enable_get(int unit, int modid, bcm_pbmp_t* pbmp)</a>  </td><td>Enable remote ports for the specified module based on the specified port bitmap.   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2020 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
