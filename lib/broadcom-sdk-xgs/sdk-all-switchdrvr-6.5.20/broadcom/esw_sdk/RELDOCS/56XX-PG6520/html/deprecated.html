<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Deprecated API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Deprecated API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="fp_stage"></a>
Field Qualify Stage</h1>
<p><a class="anchor" id="bcm_field_stage_t"></a> bcm_field_stage_t elements specify which Field Processor pipeline stage an entry applies to. This enumeration is used when calling <a class="el" href="group__field.html#ga1ffd8d30f7d3f6961f28d22f25be297f" title="Set qualification on a particular stage. This feature is normally used for preselectors.">bcm_field_qualify_Stage()</a>.</p>
<p>Firebolt (BCM56504) has a single Field Processor located in the early Ingress logic. Specifying bcmFieldStageIngressLate on Firebolt will cause error return codes.</p>
<p><a class="anchor" id="fp_stage_table"></a></p><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Field Pipeline Stage</caption>
<tr>
<th>Stage </th><th>Purpose  </th></tr>
<tr>
<td>bcmFieldStageFirst </td><td>Earliest Field stage in device  </td></tr>
<tr>
<td>bcmFieldStageIngressEarly </td><td>Early Ingress Field Stage  </td></tr>
<tr>
<td>bcmFieldStageIngressLate </td><td>Late Ingress Field Stage  </td></tr>
<tr>
<td>bcmFieldStageDefault </td><td>Default stage for device  </td></tr>
<tr>
<td>bcmFieldStageLast </td><td>Latest Field stage in device  </td></tr>
<tr>
<td>bcmFieldStageCount </td><td>Always last; not a usable stage value  </td></tr>
</table>
<h1><a class="anchor" id="fp_apis_userdef"></a>
User Defined Field (UDF) Management</h1>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__field.html#ga0b67df7d51db19c8623b4537f71b8b27" title="Initialize UDF specification structure.">bcm_field_udf_spec_t_init(bcm_field_udf_spec_t* udf_spec)</a>  </td><td>Set or get user-defined field information (location within packet of particular format). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_spec_set()  </td><td>Set or get user-defined field information (location within packet of particular format). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_spec_get()  </td><td>Set or get user-defined field information (location within packet of particular format). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_spec_set()  </td><td>Set or get user-defined field information (location within packet of particular format). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_spec_get()  </td><td>Set or get user-defined field information (location within packet of particular format). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_create()  </td><td>Create (install) and query a virtual UDF resource. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_create_id()  </td><td>Create (install) and query a virtual UDF resource. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_get()  </td><td>Create (install) and query a virtual UDF resource. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_create()  </td><td>Create (install) and query a virtual UDF resource. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_create_id()  </td><td>Create (install) and query a virtual UDF resource. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_get()  </td><td>Create (install) and query a virtual UDF resource. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_destroy()  </td><td>Destroy a virtual UDF resource. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_destroy()  </td><td>Destroy a virtual UDF resource. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_qset_add_udf()  </td><td>Add a virtual UDF resource to a qset (for subsequent group creation). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_qset_add_udf()  </td><td>Add a virtual UDF resource to a qset (for subsequent group creation). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_qset_udf_get()  </td><td>Get array of virtual UDF resources included in group qset. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_qset_udf_get()  </td><td>Get array of virtual UDF resources included in group qset. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_ethertype_set()  </td><td>Set or get the UDF EtherType match value. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_ethertype_get()  </td><td>Set or get the UDF EtherType match value. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_ethertype_set()  </td><td>Set or get the UDF EtherType match value. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_ethertype_get()  </td><td>Set or get the UDF EtherType match value. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_ipprotocol_set()  </td><td>Set or get the UDF IP Protocol match values. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_udf_ipprotocol_get()  </td><td>Set or get the UDF IP Protocol match values. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_ipprotocol_set()  </td><td>Set or get the UDF IP Protocol match values. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_udf_ipprotocol_get()  </td><td>Set or get the UDF IP Protocol match values. This API has been deprecated and new applications should NOT use this API.   </td></tr>
</table>
<h1><a class="anchor" id="fp_apis_counter"></a>
Counter Management</h1>
<p>This API section was superseded by bcm_field_stat APIs which expose a more robust and flexible statistics collection entity. These APIs are not compliant with warm boot. If the application wishes to use warm boot, it must use the bcm_field_stat_* APIs.</p>
<p>The bcm field module allows the user to collect various counters regarding traffic flowing in the system. Counters are directly attached to the field entries and identified in API calls by field entry ID. Counter represents a PAIR of physical counters associated with the entry. The pair of counters allows application conveniently collect statistics on up to two different flow types matching the field entry. Flow type is identified by counter update mode fp_BCM_FIELD_COUNTER_MODE_xxx . An individual counters in the counter pair might be addressed through counter_num parameter, which is required for single counter get/set purposes. The typical enable procedure for counter APIs is a two step process: Step one: bcm_field_counter_create call associates counter pair with field entry. Step two: <a class="el" href="group__field.html#bcm_field_action_add">bcm_field_action_add</a> call with action = bcmFieldActionUpdateCounter</p><ul>
<li>enables counter updates by identifying counter mode.</li>
</ul>
<p>bcm_field_counter_get/set APIs might be used to get/set collected statistics. The next important aspect of counter management is counter sharing: A single counter pair might be shared by a several field entries in a single field group. Counter sharing will result in counter increment if traffic hits either of the entries sharing the counter pair. bcm_field_counter_share . Reading and writing the value of the individual counter is limited to installed entries only! SDK will automatically reset the counter value during field entry install. Counter will not be reset if counter shared with another installed field entry.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_field_counter_create()  </td><td>Create a field counter pair and associate it with a field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_counter_create()  </td><td>Create a field counter pair and associate it with a field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_counter_share()  </td><td>Share a field counter pair from one field entry with another field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_counter_share()  </td><td>Share a field counter pair from one field entry with another field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_counter_destroy()  </td><td>Remove a field counter pair to field entry association This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_counter_destroy()  </td><td>Remove a field counter pair to field entry association This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_counter_set()  </td><td>Set or get a field counter value This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_counter_set32()  </td><td>Set or get a field counter value This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_counter_get()  </td><td>Set or get a field counter value This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_counter_get32()  </td><td>Set or get a field counter value This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_counter_set()  </td><td>Set or get a field counter value This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_counter_set32()  </td><td>Set or get a field counter value This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_counter_get()  </td><td>Set or get a field counter value This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_counter_get32()  </td><td>Set or get a field counter value This API has been deprecated and new applications should NOT use this API.   </td></tr>
</table>
<h1><a class="anchor" id="fp_apis_meter"></a>
Meter Management</h1>
<p>The Metering Engine provides the ability to control traffic bandwidth based on packet classification. Three color marking is used to indicate current flow status. The results of the metering engine are fed back to the policy engine for determining which actions should be processed. Metering can be done on a single flow or on a group of flows. As a rule meter engine preserves original packet color if no bandwidth constraints are imposed on the flow. Some StrataXGS IV devices are capable to merge results of several meter engines to determine packet final color, effectively creating hierarchical metering engine. Hierarchical metering result is computed using logical (and/or/tricolor) bit operations on individual metering results.</p>
<p>SDK refers to each individual meter engine entity as a "policer". Policers creation/destruction and status monitoring done through bcm_policer_xxx set of APIs, while policer attachment to field entries is exposed through bcm_field_policer_xxx API set. Hierarchical metering is supported by attaching policers at different levels to the entry. The default level is 0 and represents immediately attached policer, while level 1 comes to represent an aggregation of level 0 policers.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_field_meter_create()  </td><td>Create a field meter and associate it with a field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_meter_create()  </td><td>Create a field meter and associate it with a field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_meter_share()  </td><td>Share the field meter group from one field entry with another field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_meter_share()  </td><td>Share the field meter group from one field entry with another field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_meter_destroy()  </td><td>Remove a field meter association with a field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_meter_destroy()  </td><td>Remove a field meter association with a field entry This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_meter_set()  </td><td>Set or get the rate parameters for a field meter This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_field_meter_get()  </td><td>Set or get the rate parameters for a field meter This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_meter_set()  </td><td>Set or get the rate parameters for a field meter This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_field_meter_get()  </td><td>Set or get the rate parameters for a field meter This API has been deprecated and new applications should NOT use this API.   </td></tr>
</table>
<h1><a class="anchor" id="trunk_deprecation"></a>
Trunking (Link Aggregation)</h1>
<p>Previously, the bcm_trunk_set and bcm_trunk_get APIs could only handle up to BCM_TRUNK_MAX_PORTCNT (defined to be 16) members per trunk group. If the number of members in a trunk group exceeded 16, the bcm_trunk_member_set and bcm_trunk_member_get APIs had to be used. To enable bcm_trunk_set and bcm_trunk_get APIs to handle more than 16 members per trunk group, simply increasing BCM_TRUNK_MAX_PORTCNT is not ideal, as it would increase the size of the structure type bcm_trunk_add_info_t. Hence, the signatures of bcm_trunk_set and bcm_trunk_get were changed:</p>
<p>The previous signature of bcm_trunk_set was </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="group__trunk.html#ga0f565f5dad975b2fe9368de4d13045de">bcm_trunk_set</a>(<span class="keywordtype">int</span> unit, <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a> tid, <a class="code" href="structbcm__trunk__info__s.html">bcm_trunk_info_t</a>* trunk_info, <span class="keywordtype">int</span> member_count, <a class="code" href="structbcm__trunk__member__s.html">bcm_trunk_member_t</a>* member_array);</div></div><!-- fragment --><p>The new signature is </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="group__trunk.html#ga0f565f5dad975b2fe9368de4d13045de">bcm_trunk_set</a>(<span class="keywordtype">int</span> unit, <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a> tid, <a class="code" href="structbcm__trunk__info__s.html">bcm_trunk_info_t</a> *trunk_info,</div><div class="line">                  <span class="keywordtype">int</span> member_count, <a class="code" href="structbcm__trunk__member__s.html">bcm_trunk_member_t</a> *member_array);</div></div><!-- fragment --><p>The new bcm_trunk_set obviates the need for bcm_trunk_member_set.</p>
<p>The previous signature of bcm_trunk_get was </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="group__trunk.html#gac91144cf95b024122410f08a46387baa">bcm_trunk_get</a>(<span class="keywordtype">int</span> unit, <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a> tid, <a class="code" href="structbcm__trunk__info__s.html">bcm_trunk_info_t</a>* t_data, <span class="keywordtype">int</span> member_max, <a class="code" href="structbcm__trunk__member__s.html">bcm_trunk_member_t</a>* member_array, <span class="keywordtype">int</span>* member_count);</div></div><!-- fragment --><p>The new signature is </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="group__trunk.html#gac91144cf95b024122410f08a46387baa">bcm_trunk_get</a>(<span class="keywordtype">int</span> unit, <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a> tid, <a class="code" href="structbcm__trunk__info__s.html">bcm_trunk_info_t</a> *trunk_info,</div><div class="line">                  <span class="keywordtype">int</span> member_max, <a class="code" href="structbcm__trunk__member__s.html">bcm_trunk_member_t</a> *member_array, <span class="keywordtype">int</span> *member_count);</div></div><!-- fragment --><p>The new bcm_trunk_get obviates the need for bcm_trunk_member_get.</p>
<p>The structure type bcm_trunk_add_info_t is replaced by bcm_trunk_info_t, which contains all the fields of bcm_trunk_add_info_t except the trunk member fields.</p>
<p>In addition, a new flags parameter is added to bcm_trunk_create API. Its new signature is </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="group__trunk.html#gaef9fdf128b434af3f0d4d07e2b5fb36d">bcm_trunk_create</a>(<span class="keywordtype">int</span> unit, <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="l3_8dox.html#a6d63ab79fe26b54cd710ffb5e5227fa3">flags</a>, <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a>* tid);</div></div><!-- fragment --><p> The bcm_trunk_create_id API is deprecated, as its functionality can be achieved by calling the new bcm_trunk_create API with the BCM_TRUNK_FLAG_WITH_ID flag set.</p>
<p><a class="anchor" id="bcmx_trunk_member_t"></a> See <a class="el" href="trunk.html#bcm_trunk_member_t">bcm_trunk_member_t</a> </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="structbcm__trunk__member__s.html">bcm_trunk_member_t</a> bcmx_trunk_member_t;</div></div><!-- fragment --><p><a class="anchor" id="bcmx_trunk_add_info_t"></a></p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">    <span class="keywordtype">int</span> psc;                                <span class="comment">/* Port selection criteria */</span></div><div class="line">    <span class="keywordtype">int</span> ipmc_psc;                           <span class="comment">/* Port selection criteria for software IPMC trunk resolution */</span></div><div class="line">    bcmx_lport_t dlf_port;                  <span class="comment">/* DLF/broadcast port for trunk group */</span></div><div class="line">    bcmx_lport_t mc_port;                   <span class="comment">/* Multicast port for trunk group */</span></div><div class="line">    bcmx_lport_t ipmc_port;                 <span class="comment">/* IPMC port for trunk group */</span></div><div class="line">    bcmx_lplist_t ports;                    <span class="comment">/* Ports in trunk */</span></div><div class="line">} bcmx_trunk_add_info_t;</div></div><!-- fragment --><table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcmx_trunk_add_info_t_init()  </td><td>Initialize a bcmx_trunk_add_info_t data type.   </td></tr>
<tr>
<td>bcmx_trunk_add_info_t_free()  </td><td>Free memory allocated during call to bcmx_trunk_add_info_t_init .   </td></tr>
<tr>
<td>bcmx_trunk_init()  </td><td>Initialize the trunk module and SoC trunk hardware.   </td></tr>
<tr>
<td>bcmx_trunk_detach()  </td><td>Shut down (uninitialize) the trunk module.   </td></tr>
<tr>
<td>bcmx_trunk_create()  </td><td>Create the software data structure for a new trunk, using caller-specified or next available trunk ID.   </td></tr>
<tr>
<td>bcmx_trunk_psc_set()  </td><td>Set a trunk's Port Selection Criteria (PSC).   </td></tr>
<tr>
<td>bcmx_trunk_psc_get()  </td><td>Get a trunk's Port Selection Criteria (PSC).   </td></tr>
<tr>
<td>bcmx_trunk_chip_info_get()  </td><td>Gets the underlying SoC device's trunk support limits, or bcmx system trunk limits.   </td></tr>
<tr>
<td>bcmx_trunk_member_t_init()  </td><td>Initializes the bcm_trunk_member_t structure   </td></tr>
<tr>
<td>bcmx_trunk_set()  </td><td>Specify the ports in a trunk group.   </td></tr>
<tr>
<td>bcmx_trunk_get()  </td><td>Get the current attributes and member ports for the specified trunk group.   </td></tr>
<tr>
<td>bcmx_trunk_mcast_join()  </td><td>Add the specified trunk group to an existing MAC multicast entry.   </td></tr>
<tr>
<td>bcmx_trunk_egress_set()  </td><td>Restricts switching only to specified ports from the given trunk.   </td></tr>
<tr>
<td>bcmx_trunk_egress_get()  </td><td>Retrieve the current bitmap of ports for which switching is enabled from the given trunk.   </td></tr>
<tr>
<td>bcmx_trunk_find()  </td><td>Get the trunk group ID for a given system port, specified by Module ID and Port number   </td></tr>
<tr>
<td>bcmx_trunk_failover_set()  </td><td>Assign the failover port list for a specific trunk port.   </td></tr>
<tr>
<td>bcmx_trunk_failover_get()  </td><td>Retrieve the failover port list for a specific trunk port.   </td></tr>
<tr>
<td>bcmx_trunk_member_add()  </td><td>Add a member to a trunk group.   </td></tr>
<tr>
<td>bcmx_trunk_member_delete()  </td><td>Delete a member from a trunk group.   </td></tr>
<tr>
<td>bcmx_trunk_member_delete_all()  </td><td>Delete all members from a trunk group.   </td></tr>
</table>
<h1><a class="anchor" id="ipmc_deprecation"></a>
IP Multicast</h1>
<p>Previously, there were two ways of creating an IPMC group and managing its replication list:</p>
<ul>
<li>In the first method, an IPMC group is created by calling bcm_ipmc_add. The next available ipmc_index is returned by bcm_ipmc_add unless the caller set the BCM_IPMC_USE_IPMC_INDEX flag and provided an ipmc_index. Then, the IPMC group's replication list is managed by either bcm_ipmc_repl_* or bcm_ipmc_egress_intf_* APIs.</li>
<li>In the second method, an IPMC group is created by calling bcm_multicast_create. Then, bcm_ipmc_add is called to associate the group returned by bcm_multicast_create with {source IP address, group IP address, VLAN} of bcm_ipmc_addr_t. The IPMC group's replication list is managed by bcm_multicast_egress_* APIs.</li>
</ul>
<p>The first method is deprecated. Only the second method is supported. Consequently, bcm_ipmc_add will expect caller to always provide an IPMC group ID returned by bcm_multicast_create, rendering the BCM_IPMC_USE_IPMC_INDEX flag unnecessary. Also, the "int ipmc_index" field of bcm_ipmc_addr_t is replaced by "bcm_multicast_t group". Finally, the L2 and L3 port bitmap fields of bcm_ipmc_addr_t, as well as the bcm_ipmc_add_l2/l3_ports and bcm_ipmc_delete_l2/l3_ports APIs, are no longer needed, as IPMC group's replication list is managed exclusively by bcm_multicast_egress_* APIs.</p>
<p>The APIs that modify an individual attribute of an IPMC group, i.e. bcm_ipmc_entry_enable_set, bcm_ipmc_cos_set, bcm_ipmc_port_tgid_set, and bcm_ipmc_port_modid_set, are deprecated. Modification of individual attributes can be achieved by first calling bcm_ipmc_find, then modifying the attribute in bcm_ipmc_addr_t, and finally calling bcm_ipmc_add with BCM_IPMC_REPLACE flag set.</p>
<p>The following IPMC APIs are also deprecated:</p>
<ul>
<li>bcm_ipmc_delete: superseded by bcm_ipmc_remove.</li>
<li>bcm_ipmc_delete_all: superseded by bcm_ipmc_remove_all.</li>
<li>bcm_ipmc_get: superseded by bcm_ipmc_find.</li>
<li>bcm_ipmc_get_by_index: obsolete since multiple IPMC address entries call share the same ipmc_index. bcm_ipmc_traverse can be used to get all IPMC address entries that point to the same ipmc_index.</li>
<li>bcm_ipmc_source_ip_search: source IP matching cannot be disabled.</li>
<li>bcm_ipmc_source_port_check: source port check can be configured on a per IPMC group basis.</li>
</ul>
<h2><a class="anchor" id="ipmc_data_type_deprecation"></a>
Data Types Defined for IPMC APIs</h2>
<ul>
<li>bcmx_ipmc_addr_t is the BCMX API counterpart.</li>
<li>lookup_class is the class identifier. This is a class ID number supplied by the application to group multiple IPMC entries for classification purposes.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>      s_ip_addr;       <span class="comment">/* source IP address */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>      mc_ip_addr;      <span class="comment">/* IPMC group address */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>     s_ip6_addr;      <span class="comment">/* IPv6 source address */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>     mc_ip6_addr;     <span class="comment">/* IPv6 destination address */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>    vid;             <span class="comment">/* VLAN ID */</span></div><div class="line">    <a class="code" href="group__types.html#ga75bff066bcf4665db211170f0f49e58e">bcm_vrf_t</a>     <a class="code" href="l3_8dox.html#ad90cb6ae1111a34aeb9f39fbd7445efd">vrf</a>;             <span class="comment">/* Virtual Router Instance */</span></div><div class="line">    <a class="code" href="group__types.html#gaa0652dab31a18be549ee480c1af58f3a">bcm_cos_t</a>     cos;             <span class="comment">/* CoS based on IPMC addr */</span></div><div class="line">    bcmx_lplist_t l2_ports;        <span class="comment">/* L2 port list */</span></div><div class="line">    bcmx_lplist_t l2_untag_ports;  <span class="comment">/* L2 port list(untagged) */</span></div><div class="line">    bcmx_lplist_t l3_ports;        <span class="comment">/* L3 port list */</span></div><div class="line">    <span class="keywordtype">int</span>           ts;              <span class="comment">/* Source port or TGID bit */</span></div><div class="line">    bcmx_lport_t  port_tgid;       <span class="comment">/* Source port or TGID number */</span></div><div class="line">    <span class="keywordtype">int</span>           v;               <span class="comment">/* Valid bit */</span></div><div class="line">    <span class="keywordtype">int</span>           ipmc_index;      <span class="comment">/* index to program IPMC table */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>        <a class="code" href="l3_8dox.html#a6d63ab79fe26b54cd710ffb5e5227fa3">flags</a>;           <span class="comment">/* flags (see table) */</span></div><div class="line">} bcmx_ipmc_addr_t;</div></div><!-- fragment --><h2><a class="anchor" id="ipmc_apis_deprecation"></a>
Common IPMC APIs</h2>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcmx_ipmc_init()  </td><td>Initialize the BCM IPMC subsystem.   </td></tr>
<tr>
<td>bcmx_ipmc_detach()  </td><td>Detach the BCM IPMC subsystem.   </td></tr>
<tr>
<td>bcmx_ipmc_enable()  </td><td>Enable/disable IPMC support.   </td></tr>
<tr>
<td>bcmx_ipmc_addr_t_init()  </td><td>Initialize a bcmx_ipmc_addr_t.   </td></tr>
<tr>
<td>bcmx_ipmc_addr_t_free()  </td><td>Free a bcmx_ipmc_addr_t structure.   </td></tr>
<tr>
<td>bcmx_ipmc_add()  </td><td>Add a new entry to IPMC table.   </td></tr>
<tr>
<td>bcmx_ipmc_remove()  </td><td>Remove an entry from IPMC table.   </td></tr>
<tr>
<td>bcmx_ipmc_remove_all()  </td><td>Remove all entries from IPMC table.   </td></tr>
<tr>
<td>bcmx_ipmc_find()  </td><td>Find info about an IPMC entry.   </td></tr>
<tr>
<td>bcmx_ipmc_age()  </td><td>Run IPMC table aging.   </td></tr>
<tr>
<td>bcmx_ipmc_traverse()  </td><td>Traverse through the IPMC table and run callback at each valid IPMC entry.   </td></tr>
<tr>
<td>bcmx_ipmc_egress_port_init()  </td><td>Reinitialize/clear the egress IP multicast configuration.   </td></tr>
<tr>
<td>bcmx_ipmc_egress_port_set()  </td><td>Configure the IP Multicast egress properties.   </td></tr>
<tr>
<td>bcmx_ipmc_egress_port_get()  </td><td>Get the egress IP multicast configuration properties.   </td></tr>
<tr>
<td>bcmx_ipmc_counters_get()  </td><td>Get the combined IP multicast statistics.   </td></tr>
</table>
<h1><a class="anchor" id="diffserv_deprecation"></a>
Differentiated Services</h1>
<p>The diffserv (ds) API has been removed, since the functionality only applies to XGS1/XGS2 devices, which are no longer supported.</p>
<h1><a class="anchor" id="dmux_deprecation"></a>
DMUX Packet Distribution</h1>
<p>All DMUX APIs are deprecated as these APIs apply only to XGS1 and XGS2 devices, which are no longer supported.</p>
<h1><a class="anchor" id="filter_deprecation"></a>
Filter Management</h1>
<p>The filter API has been removed, since the functionality only applies to XGS1/XGS2 devices, which are no longer supported.</p>
<p>For current XGS switch devices, use the field API instead (<a class="el" href="field.html">Field Processor</a>).</p>
<h1><a class="anchor" id="htls_deprecation"></a>
Hierarchical Transparent LAN Services</h1>
<p>The htls API has been removed, since the functionality only applies to XGS2 devices, which are no longer supported.</p>
<h1><a class="anchor" id="igmp_deprecation"></a>
IGMP Snooping Control</h1>
<p>The APIs bcm_igmp_snooping_enable_set and bcm_igmp_snooping_enable_get are deprecated. IGMP snooping can be controlled via the switch control bcmSwitchIgmpPktToCpu.</p>
<h1><a class="anchor" id="meter_deprecation"></a>
Meter Management</h1>
<p>The meter API has been removed, since the functionality only applies to XGS1/XGS2 devices, which are no longer supported.</p>
<h1><a class="anchor" id="stack_deprecation"></a>
Multi-device Stack Control</h1>
<p>The APIs bcm_stk_sl_simplex_count_set and bcm_stk_sl_simplex_count_get are deprecated, since SL stacking is no longer supported.</p>
<h1><a class="anchor" id="L3_API_Deprecation"></a>
Layer-3 Configuration Management and Control</h1>
<p>Below is a description of L3 APIs that have been deprecated and the replacement API in each case as applicable.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_l3_age()  </td><td>Run L3 table aging. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_age()  </td><td>Run L3 table aging. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_conflict_get()  </td><td>Return list of conflicts in the L3 table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_conflict_get()  </td><td>Return list of conflicts in the L3 table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_defip_add()  </td><td>Add an IP route to the route table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_defip_add()  </td><td>Add an IP route to the route table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_defip_delete()  </td><td>Delete an IP route from the route table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_defip_delete()  </td><td>Delete an IP route from the route table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_defip_delete_all()  </td><td>Delete all routes. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_defip_delete_all()  </td><td>Delete all routes. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_defip_age()  </td><td>Age the route table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_defip_age()  </td><td>Age the route table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_defip_delete_by_interface()  </td><td>Delete routes based on matching L3 interface number. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_defip_delete_by_interface()  </td><td>Delete routes based on matching L3 interface number. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_defip_get()  </td><td>Given the net/prefix, return route info. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_defip_get()  </td><td>Given the net/prefix, return route info. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_defip_max_ecmp_get()  </td><td>Get the maximum ECMP paths allowed for a route (StrataXGS only). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_defip_max_ecmp_get()  </td><td>Get the maximum ECMP paths allowed for a route (StrataXGS only). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_defip_max_ecmp_set()  </td><td>Set the maximum ECMP paths allowed for a route (StrataXGS only). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_defip_max_ecmp_set()  </td><td>Set the maximum ECMP paths allowed for a route (StrataXGS only). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_interface_create()  </td><td>Create a new L3 interface. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_interface_create()  </td><td>Create a new L3 interface. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_interface_destroy()  </td><td>Delete an L3 interface. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_interface_destroy()  </td><td>Delete an L3 interface. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_interface_find()  </td><td>Given the L3 interface number, return the MAC and VLAN. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_interface_find()  </td><td>Given the L3 interface number, return the MAC and VLAN. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_interface_find_by_vlan()  </td><td>Find the L3 interface by VLAN ID. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_interface_find_by_vlan()  </td><td>Find the L3 interface by VLAN ID. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_interface_id_create()  </td><td>Create a new L3 interface with specified interface ID. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_interface_id_create()  </td><td>Create a new L3 interface with specified interface ID. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_interface_id_update()  </td><td>Create/update a new/existing L3 interface with specified interface ID. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_interface_id_update()  </td><td>Create/update a new/existing L3 interface with specified interface ID. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_interface_lookup()  </td><td>Search for L3 interface based on MAC address and VLAN This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_interface_lookup()  </td><td>Search for L3 interface based on MAC address and VLAN This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_invalidate_entry()  </td><td>Validate/Invalidate L3 entry without clearing so it can be re-validated later. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_validate_entry()  </td><td>Validate/Invalidate L3 entry without clearing so it can be re-validated later. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_invalidate_entry()  </td><td>Validate/Invalidate L3 entry without clearing so it can be re-validated later. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_validate_entry()  </td><td>Validate/Invalidate L3 entry without clearing so it can be re-validated later. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_ip_add()  </td><td>Add an entry into L3 host table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_ip_add()  </td><td>Add an entry into L3 host table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_ip_delete()  </td><td>Delete an entry from the L3 host table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_ip_delete()  </td><td>Delete an entry from the L3 host table. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_ip_delete_all()  </td><td>Delete all L3 host table entries. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_ip_delete_all()  </td><td>Delete all L3 host table entries. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_ip_delete_by_interface()  </td><td>Delete L3 host entries that match L3 interface number. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_ip_delete_by_interface()  </td><td>Delete L3 host entries that match L3 interface number. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_ip_delete_by_prefix()  </td><td>Delete L3 host entries based on IP prefix (network). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_ip_delete_by_prefix()  </td><td>Delete L3 host entries based on IP prefix (network). This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_ip_find()  </td><td>Lookup L3 host entry based on IP address. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_ip_find()  </td><td>Lookup L3 host entry based on IP address. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_ip_update_entry_by_key()  </td><td>Update L3 host entry with new information, the L3 host entry is identified by the key of the entry which is the IP address for unicast. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_ip_update_entry_by_key()  </td><td>Update L3 host entry with new information, the L3 host entry is identified by the key of the entry which is the IP address for unicast. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l3_status()  </td><td>Return L3 status information. This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l3_status()  </td><td>Return L3 status information. This API has been deprecated and new applications should NOT use this API.   </td></tr>
</table>
<h2><a class="anchor" id="l3_data_types_deprecation"></a>
L3 Data Types</h2>
<ul>
<li>bcmx_l3_intf_t contains information used when setting or retrieving L3 interface definitions. The description for each API below describes which structure members are used for inputs and outputs.</li>
</ul>
<p>Always initialize an L3 interface structure using the <a class="el" href="group__l3.html#bcm_l3_intf_t_init">bcm_l3_intf_t_init</a> function prior to passing it to an API, because future API releases may add more structure members. </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l3__intf__s.html">bcm_l3_intf_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>         <a class="code" href="structbcm__l3__intf__s.html#ab8583c7eb0fff0be9d1e60cd0424198c">l3a_flags</a>;         <span class="comment">/* See BCM_L3_XXX flag definitions */</span></div><div class="line">    <a class="code" href="group__types.html#ga75bff066bcf4665db211170f0f49e58e">bcm_vrf_t</a>      <a class="code" href="structbcm__l3__intf__s.html#a4b355a1e61bb5ad21f5bb8e9f742f743">l3a_vrf</a>;           <span class="comment">/* Virtual router identifier */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a>       <a class="code" href="structbcm__l3__intf__s.html#a770123c6baad5b99818a5901c672d718">l3a_intf_id</a>;       <span class="comment">/* Interface ID */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>      <a class="code" href="structbcm__l3__intf__s.html#af883e5a8280927fb4cb98f22f8c30b06">l3a_mac_addr</a>;      <span class="comment">/* MAC address */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>     <a class="code" href="structbcm__l3__intf__s.html#a558bb7131f6903a8d77bc82abb165b21">l3a_vid</a>;           <span class="comment">/* VLAN ID */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>     <a class="code" href="structbcm__l3__intf__s.html#a4487c144cdbe048720762c84d300a9bf">l3a_inner_vlan</a>;    <span class="comment">/* Inner VLAN for double tagged packets. */</span></div><div class="line">    <span class="keywordtype">int</span>            <a class="code" href="structbcm__l3__intf__s.html#a5732f7ff098a5a2fdaece975c8393265">l3a_tunnel_idx</a>;    <span class="comment">/* Tunnel (initiator) index */</span></div><div class="line">    <span class="keywordtype">int</span>            <a class="code" href="structbcm__l3__intf__s.html#a0f9d06170c5c3cddc907cc67db1fee41">l3a_ttl</a>;           <span class="comment">/* TTL threshold */</span></div><div class="line">    <span class="keywordtype">int</span>            <a class="code" href="structbcm__l3__intf__s.html#a34253f97224b6a676354636732137b7b">l3a_mtu</a>;           <span class="comment">/* MTU */</span></div><div class="line">    <a class="code" href="group__types.html#ga7411d4040c457e0dba2515852ccd8475">bcm_if_group_t</a> <a class="code" href="structbcm__l3__intf__s.html#a24a1f05a3cc1cf278fa69bb5ca544603">l3a_group</a>;         <span class="comment">/* Interface group number */</span></div><div class="line">    <a class="code" href="structbcm__l3__intf__qos__s.html">bcm_l3_intf_qos_t</a> <a class="code" href="structbcm__l3__intf__s.html#a0cfa283b1a97e1230d3c688e089ef05e">vlan_qos</a>;       <span class="comment">/* Outer-Vlan QoS Setting. */</span></div><div class="line">    <a class="code" href="structbcm__l3__intf__qos__s.html">bcm_l3_intf_qos_t</a> <a class="code" href="structbcm__l3__intf__s.html#ab9c0c2298aa8e361b93779070922e89c">inner_vlan_qos</a>; <span class="comment">/* Inner-Vlan QoS Setting. */</span></div><div class="line">    <a class="code" href="structbcm__l3__intf__qos__s.html">bcm_l3_intf_qos_t</a> <a class="code" href="structbcm__l3__intf__s.html#aa444c81159524e17250dba1dd2b09cf0">dscp_qos</a>;       <span class="comment">/* DSCP QoS Setting. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l3__intf__s.html#a7d0dd62a05a85c7a0f231eb837a84b02">l3a_intf_class</a>;               <span class="comment">/* L3 interface class ID */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l3__intf__s.html#aab953cf2ed183c059bc4590752530459">l3a_ip4_options_profile_id</a>;   <span class="comment">/* Profile ID for handling IP options */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l3__intf__s.html#a3fea55fda8003da21a7bdc4b2685915e">l3a_nat_realm_id</a>;             <span class="comment">/* Realm id of the interface for NAT */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>  <a class="code" href="structbcm__l3__intf__s.html#af0778c25248d26c33068cb6b8efeeb59">outer_tpid</a>;               <span class="comment">/* TPID value */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l3__intf__s.html#a3f623e51e45fdb1f4af7ac8aac1dafb6">l3a_intf_flags</a>;            <span class="comment">/* See BCM_L3_INTF_XXX flag definitions. */</span></div><div class="line">} <a class="code" href="group__l3.html#ga96f34665db11b91ae5641e589e757384">bcm_l3_intf_t</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="structbcm__l3__intf__s.html">bcm_l3_intf_t</a> bcmx_l3_intf_t;</div></div><!-- fragment --><ul>
<li>The vrf field may be set to a valid Virtual router ID. The intf_class specifies the Interface Class ID for this L3 Interface used for FP lookup. The urpf_mode specifies URPF mode setting for L3-IIF. See <a class="el" href="group__l3.html#ga9ec623ac7e3e86184a283fe37742e6e9">bcm_l3_ingress_urpf_mode_t</a> for supported values.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l3__ingress__s.html">bcm_l3_ingress_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l3__ingress__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;               <span class="comment">/* Interface flags. */</span></div><div class="line">    <a class="code" href="group__types.html#ga75bff066bcf4665db211170f0f49e58e">bcm_vrf_t</a> <a class="code" href="structbcm__l3__ingress__s.html#ad90cb6ae1111a34aeb9f39fbd7445efd">vrf</a>;              <span class="comment">/* Virtual router ID. */</span></div><div class="line">    <a class="code" href="group__l3.html#ga9ec623ac7e3e86184a283fe37742e6e9">bcm_l3_ingress_urpf_mode_t</a> <a class="code" href="structbcm__l3__ingress__s.html#a3d093c7c64981b4020d36804808a79f3">urpf_mode</a>; <span class="comment">/* URPF mode setting for L3-IIF */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l3__ingress__s.html#a4b09d2ce9fcdcd329cadc73ae29d2ca9">intf_class</a>;             <span class="comment">/* Classification class ID. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__l3__ingress__s.html#ad05817922399cab10757743a950a3960">ipmc_intf_id</a>;    <span class="comment">/* IPMC L2 distribution Vlan. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l3__ingress__s.html#ae0f3a8319d260386ef0ad80c714ef5a2">qos_map_id</a>;             <span class="comment">/* QoS DSCP priority map. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l3__ingress__s.html#acbdd536b3489363ecca9908aab675a1b">ip4_options_profile_id</a>; <span class="comment">/* Profile ID for handling IP options */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__l3__ingress__s.html#a835f7c818017980761f617f279265aa3">nat_realm_id</a>;           <span class="comment">/* Realm id of the interface for NAT */</span></div><div class="line">} <a class="code" href="group__l3.html#ga2286162e852dfc5f434cf7aeb456e41a">bcm_l3_ingress_t</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="structbcm__l3__ingress__s.html">bcm_l3_ingress_t</a> bcmx_l3_ingress_t;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>bcmx_l3_egress_s {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>           <a class="code" href="l3_8dox.html#a6d63ab79fe26b54cd710ffb5e5227fa3">flags</a>;     <span class="comment">/* Interface flags(BCM_L3_TGID,BCM_L3_L2TOCPU)*/</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a>         <a class="code" href="l3_8dox.html#a851c90ec65de88911e493eed356bc63b">intf</a>;      <span class="comment">/* L3 interface (src MAC, tunnel)             */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>        <a class="code" href="l3_8dox.html#a06405859ff7fe2f5bc4eef7ad0a226e3">mac_addr</a>;  <span class="comment">/* Next hop forwarding destination mac.       */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>       <a class="code" href="l3_8dox.html#abc71b05b72abd75267365f530b11d4d9">vlan</a>;      <span class="comment">/* Next hop VLAN ID.                          */</span></div><div class="line">    bcmx_lport_t     lport;     <span class="comment">/* Port packet switched to. (if !BCM_L3_TGID) */</span></div><div class="line">    <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a>      <a class="code" href="l3_8dox.html#af46359b62362a76afe91c064c98ab40c">trunk</a>;     <span class="comment">/* Trunk packet switched to.(if BCM_L3_TGID)  */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="l3_8dox.html#a2b40f322a8f6a531cf8a2bf02b5130fb">mpls_flags</a>;              <span class="comment">/* BCM_MPLS flag definitions. */</span></div><div class="line">    <a class="code" href="group__types.html#ga7f4890ec7a6446a0a6c0cb66ed180627">bcm_mpls_label_t</a> <a class="code" href="l3_8dox.html#a087d9868d55bbf3956e4bb2e81d7821d">mpls_label</a>;    <span class="comment">/* MPLS label. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="l3_8dox.html#a3c7a418d727945ae23e27c4eb2add417">mpls_qos_map_id</a>;            <span class="comment">/* MPLS EXP map ID. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="l3_8dox.html#a58466d8d5f4a48d728c7dbe77c6469ca">mpls_ttl</a>;                   <span class="comment">/* MPLS TTL threshold. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="l3_8dox.html#ab840319744ee5e1e67e2ada2ddd183ec">mpls_pkt_pri</a>;             <span class="comment">/* MPLS Packet Priority Value. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="l3_8dox.html#a16b25e88bcdaf2742d8c10428f44adc6">mpls_pkt_cfi</a>;             <span class="comment">/* MPLS Packet CFI Value. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="l3_8dox.html#a5e88df29b265099aa8d203e5e2be0cba">mpls_exp</a>;                 <span class="comment">/* MPLS Exp. */</span></div><div class="line">    <a class="code" href="group__types.html#gaf273a2d08ebc6fc3e5d0319aeb414ceb">bcm_failover_t</a> <a class="code" href="l3_8dox.html#a5814080f31ea8ec26e594e85df149197">failover_id</a>;      <span class="comment">/* Failover Object Index. */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a>         <a class="code" href="l3_8dox.html#a61cb4857957b3d7e022e6b3eece66930">failover_if_id</a>;   <span class="comment">/* Failover Egress Object index. */</span></div><div class="line">} bcmx_l3_egress_t;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>bcmx_l3_host_s {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>         <a class="code" href="l3_8dox.html#aed5b7393054dee19abd85b53836ac533">l3a_flags</a>;</div><div class="line">    <a class="code" href="group__types.html#ga75bff066bcf4665db211170f0f49e58e">bcm_vrf_t</a>      <a class="code" href="l3_8dox.html#a4b355a1e61bb5ad21f5bb8e9f742f743">l3a_vrf</a>;           <span class="comment">/* Virtual router identifier */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>       <a class="code" href="l3_8dox.html#a03447d5a7d0d0a8f75622458d2f52b8f">l3a_ip_addr</a>;       <span class="comment">/* IP address (IPv4) */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>      <a class="code" href="l3_8dox.html#ac104b1422c13a8eda73ceb9ddb4ce493">l3a_ip6_addr</a>;      <span class="comment">/* IP address (IPv6) */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a>       <a class="code" href="l3_8dox.html#a6888820049b8c46e1d3174b63ec8e967">l3a_intf</a>;          <span class="comment">/* Interface ID */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>      <a class="code" href="l3_8dox.html#a43dac5b2a171e2dd895b67fabfe46723">l3a_nexthop_mac</a>;</div><div class="line">    bcmx_lport_t   l3a_lport;         <span class="comment">/* if !(flags &amp; BCM_L3_TGID) */</span></div><div class="line">    <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a>    l3a_trunk;         <span class="comment">/* if  (flags &amp; BCM_L3_TGID) */</span></div><div class="line">    <span class="keywordtype">int</span>            <a class="code" href="l3_8dox.html#a74defba7becbd966f987316ecfc00cbf">l3a_ipmc_ptr</a>;</div><div class="line">} bcmx_l3_host_t;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>bcmx_l3_route_s {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>         <a class="code" href="l3_8dox.html#aed5b7393054dee19abd85b53836ac533">l3a_flags</a>;         <span class="comment">/* Route flags.  */</span></div><div class="line">    <a class="code" href="group__types.html#ga75bff066bcf4665db211170f0f49e58e">bcm_vrf_t</a>      <a class="code" href="l3_8dox.html#a4b355a1e61bb5ad21f5bb8e9f742f743">l3a_vrf</a>;           <span class="comment">/* Virtual router instance */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>       <a class="code" href="l3_8dox.html#a71707345ddd87c9233d0af4e6116480a">l3a_subnet</a>;        <span class="comment">/* Subnet address (IPv4) */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>      <a class="code" href="l3_8dox.html#aebb24b8e261c7a861f92cdb4bd70ec60">l3a_ip6_net</a>;       <span class="comment">/* Subnet address (IPv6) */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>       <a class="code" href="l3_8dox.html#a488f28c56f70bd4252d6426f1f9b2bea">l3a_ip_mask</a>;       <span class="comment">/* Subnet mask (IPv4) */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>      <a class="code" href="l3_8dox.html#a5320d7e588baa4481327a8c2b821d67f">l3a_ip6_mask</a>;      <span class="comment">/* Subnet mask (IPv4) */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a>       <a class="code" href="l3_8dox.html#a6888820049b8c46e1d3174b63ec8e967">l3a_intf</a>;</div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a>      <a class="code" href="l3_8dox.html#a43dac5b2a171e2dd895b67fabfe46723">l3a_nexthop_mac</a>;</div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>       <a class="code" href="l3_8dox.html#a48aba4f742f4911a1fcf9b352a773277">l3a_nexthop_ip</a>;    <span class="comment">/* Next hop IP address (IPv4) */</span></div><div class="line">    bcmx_lport_t   l3a_lport;   <span class="comment">/* if !(flags &amp; BCM_L3_TGID) */</span></div><div class="line">    <a class="code" href="group__types.html#ga44e843a8661c84851ab7e32e229bb8f5">bcm_trunk_t</a>    l3a_trunk;   <span class="comment">/* if  (flags &amp; BCM_L3_TGID) */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>     <a class="code" href="l3_8dox.html#a558bb7131f6903a8d77bc82abb165b21">l3a_vid</a>;</div><div class="line">    <a class="code" href="group__types.html#gaa0652dab31a18be549ee480c1af58f3a">bcm_cos_t</a>      <a class="code" href="l3_8dox.html#ab99bfa2eead002ff96fe2fbc50635243">l3a_pri</a>;           <span class="comment">/* Priority (COS) */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>         <a class="code" href="l3_8dox.html#ad1e09c4632cbb245ed35657a8a96cc46">l3a_tunnel_option</a>; <span class="comment">/* Tunnel option value. */</span></div><div class="line">    <a class="code" href="group__types.html#ga7f4890ec7a6446a0a6c0cb66ed180627">bcm_mpls_label_t</a> <a class="code" href="l3_8dox.html#a5320b3ff23e2b3f883f8db94cf8eb861">l3a_mpls_label</a>;  <span class="comment">/* MPLS label.          */</span></div><div class="line">} bcmx_l3_route_t;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l3__key__s.html">bcm_l3_key_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>        <a class="code" href="structbcm__l3__key__s.html#a840ca5b3541e966133c0d39d086b0adc">l3k_flags</a>;            <span class="comment">/* IPv6 or IPv4 */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>      <a class="code" href="structbcm__l3__key__s.html#a1c56a7cb610a5b1bf0e463057e610ac1">l3k_ip_addr</a>;          <span class="comment">/* Destination IP address (IPv4) */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>     <a class="code" href="structbcm__l3__key__s.html#ae95e5cd7b6d232f363526f5b6394d1f4">l3k_ip6_addr</a>;         <span class="comment">/* Destination IP address (IPv6) */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>      <a class="code" href="structbcm__l3__key__s.html#a68c902c1a7bdb572e13560286d51e79b">l3k_sip_addr</a>;         <span class="comment">/* Source IP address (IPv4) */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>     <a class="code" href="structbcm__l3__key__s.html#a1ad011f3723a996a7f8cd0c6c5b69c5a">l3k_sip6_addr</a>;        <span class="comment">/* Source IP address (IPv6) */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>    <a class="code" href="structbcm__l3__key__s.html#a169b03293793a802cb7054dcd270b9fa">l3k_vid</a>;              <span class="comment">/* VLAN ID */</span></div><div class="line">} <a class="code" href="group__l3.html#gaeeebd2554f290d04a766beba0e69c116">bcm_l3_key_t</a>;</div><div class="line">The bcmx_l3_key_t <a class="code" href="l3_8dox.html#ac864a89c7eff540cfd54533ec05add74">structure</a> is <a class="code" href="l3_8dox.html#ab7fd98bf5e86569dfb1a20c7ccf1ce14">the</a> same as <a class="code" href="l3_8dox.html#ab7fd98bf5e86569dfb1a20c7ccf1ce14">the</a> <a class="code" href="structbcm__l3__key__s.html">bcm_l3_key_t</a> <a class="code" href="l3_8dox.html#ac864a89c7eff540cfd54533ec05add74">structure</a>.</div><div class="line">typedef <a class="code" href="structbcm__l3__key__s.html">bcm_l3_key_t</a> bcmx_l3_key_t;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>               <a class="code" href="l3_8dox.html#a6d63ab79fe26b54cd710ffb5e5227fa3">flags</a>;        <span class="comment">/* Config flags */</span></div><div class="line">    <a class="code" href="group__types.html#ga75bff066bcf4665db211170f0f49e58e">bcm_vrf_t</a>            <a class="code" href="l3_8dox.html#ad90cb6ae1111a34aeb9f39fbd7445efd">vrf</a>;          <span class="comment">/* Virtual router instance */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>             sip;          <span class="comment">/* SIP for tunnel header match */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>             dip;          <span class="comment">/* DIP for tunnel header match */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>             sip_mask;     <span class="comment">/* SIP mask */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a>             dip_mask;     <span class="comment">/* DIP mask */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>            sip6;         <span class="comment">/* SIP for tunnel header match (IPv6).*/</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>            dip6;         <span class="comment">/* DIP for tunnel header match (IPv6).*/</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>            sip6_mask;    <span class="comment">/* Source IP mask              (IPv6).*/</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a>            dip6_mask;    <span class="comment">/* Destination IP mask         (IPv6).*/</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>               udp_dst_port; <span class="comment">/* UDP dst port (0 for no UDP pkt) */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>               udp_src_port; <span class="comment">/* UDP src port (0 for no UDP pkt) */</span></div><div class="line">    <a class="code" href="tunnel_8h.html#afefa281f0ba349d980774ca3f75e8e0d">bcm_tunnel_type_t</a>    <a class="code" href="stat_8dox.html#a2b1516d21ffe5483777c2bec8029beb4">type</a>;         <span class="comment">/* Tunnel type */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a>           <a class="code" href="l3_8dox.html#abc71b05b72abd75267365f530b11d4d9">vlan</a>;         <span class="comment">/* The VLAN ID for IPMC/WLAN tunnel lookup */</span></div><div class="line">    bcmx_lplist_t        ports;        <span class="comment">/* Port list for this tunnel */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a>          remote_port;  <span class="comment">/* Remote termination port */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a>          tunnel_id;    <span class="comment">/* Tunnel ID */</span></div><div class="line">    <span class="keywordtype">int</span>                  if_class;     <span class="comment">/* L3 interface class this tunnel */</span></div><div class="line">} bcmx_tunnel_terminator_t;</div></div><!-- fragment --><ul>
<li>bcmx_tunnel_initiator_t contains information used when setting or getting L3 tunnel initiator parameters. The description for each API below describes which structure members are used for inputs and outputs. See <a class="el" href="tunnel_8h.html#aaf11c224cb6954b19984cfd46d13a098">bcm_tunnel_initiator_t</a></li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="structbcm__tunnel__initiator__s.html">bcm_tunnel_initiator_t</a> bcmx_tunnel_initiator_t;</div></div><!-- fragment --><ul>
<li>bcmx_tunnel_dscp_map_t contains information used when setting or getting a tunnel DSCP map. A DSCP map is used to determine the DSCP value inserted into the outer tunnel header at the tunnel initiator. The packet's internal priority and color are used to index into the DSCP map. See xref=bcm_tunnel_dscp_map_t</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="structbcm__tunnel__dscp__map__s.html">bcm_tunnel_dscp_map_t</a> bcmx_l3_dscp_map_t;</div></div><!-- fragment --><ul>
<li>bcmx_tunnel_config_t contains information used when setting or getting the global chip L3 tunneling parameters. See xref=bcm_tunnel_config_t</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="structbcm__tunnel__config__s.html">bcm_tunnel_config_t</a> bcmx_tunnel_config_t;</div></div><!-- fragment --><ul>
<li>bcmx_l3_info_t is used to return L3 table capacity and usage information. See xref=bcm_l3_info_t</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="structbcm__l3__info__s.html">bcm_l3_info_t</a> bcmx_l3_info_t;</div></div><!-- fragment --><ul>
<li>bcm_l3_source_bind_t contains information used when setting or getting the source IP address to source MAC address binding parameters. Only one of the IPv4/IPv6 addresses will be used, based on the BCM_L3_SOURCE_BIND_IP6 flag.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__l3__source__bind__s.html">bcm_l3_source_bind_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__l3__source__bind__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                   <span class="comment">/* BCM_L3_SOURCE_BIND_xxx flags. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__l3__source__bind__s.html#a56da6f3a91f2f6d38953ef7c66fa78b2">port</a>;               <span class="comment">/* Source module and port, BCM_GPORT_INVALID for wildcard. */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__l3__source__bind__s.html#a8383f86fe962ab730d6ffaf0a77a35e2">ip</a>;                    <span class="comment">/* Source IPv4 address. */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__l3__source__bind__s.html#a608e915a7e157246184248fe4b6c9a5c">ip6</a>;                  <span class="comment">/* Source IPv6 address. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__l3__source__bind__s.html#a741f0f5b72838cbc381590a7b4651d67">mac</a>;                  <span class="comment">/* Source MAC address. */</span></div><div class="line">    <a class="code" href="group__types.html#ga3fbf692928d104cf3a3fff01a7dcd6bf">bcm_ipfix_rate_id_t</a> <a class="code" href="structbcm__l3__source__bind__s.html#a7eee386fef4173b9fec67b8bf4eb4b76">rate_id</a>;    <span class="comment">/* IPFIX rate ID */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__l3__source__bind__s.html#acba0c65fda2ca65691c4bcb6f64b7b96">ip_mask</a>;               <span class="comment">/* IP subnet mask (IPv4). */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__l3__source__bind__s.html#ad1a5fdf967ffff7127dad5ffa7d8469e">ip6_mask</a>;             <span class="comment">/* IP subnet mask (IPv6). */</span></div><div class="line">} <a class="code" href="group__l3.html#ga3fadbe73f50f5e3527e5b9f66641d760">bcm_l3_source_bind_t</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="structbcm__l3__source__bind__s.html">bcm_l3_source_bind_t</a> bcmx_l3_source_bind_t;</div></div><!-- fragment --><h2><a class="anchor" id="generic_apis_deprecation"></a>
Generic APIs</h2>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcmx_l3_init()  </td><td>Initialize the BCM L3 subsystem.   </td></tr>
<tr>
<td>bcmx_l3_cleanup()  </td><td>De-initialize the BCM L3 subsystem.   </td></tr>
<tr>
<td>bcmx_l3_enable_set()  </td><td>Enable/disable L3 function without clearing any L3 tables.   </td></tr>
<tr>
<td>bcmx_l3_info()  </td><td>Get the status of hardware tables.   </td></tr>
<tr>
<td>bcmx_l3_intf_t_init()  </td><td>Initialize a bcmx_l3_intf_t structure.   </td></tr>
<tr>
<td>bcmx_l3_intf_create()  </td><td>Create a new L3 interface.   </td></tr>
<tr>
<td>bcmx_l3_intf_delete()  </td><td>Delete an L3 interface   </td></tr>
<tr>
<td>bcmx_l3_intf_delete_all()  </td><td>Delete all L3 interfaces.   </td></tr>
<tr>
<td>bcmx_l3_intf_find()  </td><td>Search for L3 interface by MAC address and VLAN.   </td></tr>
<tr>
<td>bcmx_l3_intf_find_vlan()  </td><td>Search for L3 interface by VLAN only.   </td></tr>
<tr>
<td>bcmx_l3_intf_get()  </td><td>Given the L3 interface number, return the interface information.   </td></tr>
<tr>
<td>bcmx_l3_ingress_t_init()  </td><td>Initialize L3 Ingress Interface object structure.   </td></tr>
<tr>
<td>bcmx_l3_ingress_create()  </td><td>Create L3 Ingress Interface object.   </td></tr>
<tr>
<td>bcmx_l3_ingress_destroy()  </td><td>Destroy L3 Ingress Interface object.   </td></tr>
<tr>
<td>bcmx_l3_ingress_get()  </td><td>Get an Ingress Interface object.   </td></tr>
<tr>
<td>bcmx_l3_ingress_find()  </td><td>Find an interface pointing to an Ingress Interface object.   </td></tr>
<tr>
<td>bcmx_l3_egress_t_init()  </td><td>Initialize a bcmx_l3_egress_t structure.   </td></tr>
<tr>
<td>bcmx_l3_egress_create()  </td><td>Create an Egress forwarding object.   </td></tr>
<tr>
<td>bcmx_l3_egress_destroy()  </td><td>Destroy an Egress forwarding object.   </td></tr>
<tr>
<td>bcmx_l3_egress_get()  </td><td>Get an Egress forwarding object.   </td></tr>
<tr>
<td>bcmx_l3_egress_find()  </td><td>Find an interface pointing to an Egress forwarding object.   </td></tr>
<tr>
<td>bcmx_l3_egress_traverse()  </td><td>Traverse through the egress object table and run callback at each valid entry.   </td></tr>
<tr>
<td>bcmx_l3_host_t_init()  </td><td>Initialize a bcm_l3_host_t/bcmx_l3_host_t structure   </td></tr>
<tr>
<td>bcmx_l3_host_add()  </td><td>Add an entry into the L3 switching table.   </td></tr>
<tr>
<td>bcmx_l3_host_delete()  </td><td>Delete an entry from the L3 host table.   </td></tr>
<tr>
<td>bcmx_l3_host_delete_by_network()  </td><td>Delete L3 entries based on IP prefix (network).   </td></tr>
<tr>
<td>bcmx_l3_host_delete_by_interface()  </td><td>Deletes L3 entries that match or do not match a specified L3 interface number   </td></tr>
<tr>
<td>bcmx_l3_host_delete_all()  </td><td>Deletes all L3 host table entries.   </td></tr>
<tr>
<td>bcmx_l3_host_find()  </td><td>Look up an L3 host table entry based on IP address.   </td></tr>
<tr>
<td>bcmx_l3_host_conflict_get()  </td><td>Return list of conflicts in the L3 table.   </td></tr>
<tr>
<td>bcmx_l3_host_age()  </td><td>Run L3 table aging   </td></tr>
<tr>
<td>bcmx_l3_host_traverse()  </td><td>Traverse through the L3 table and run callback at each valid L3 entry.   </td></tr>
<tr>
<td>bcmx_l3_host_invalidate_entry()  </td><td>Invalidate L3 entry without clearing so it can be re-validated later.   </td></tr>
<tr>
<td>bcmx_l3_host_validate_entry()  </td><td>Invalidate L3 entry without clearing so it can be re-validated later.   </td></tr>
<tr>
<td>bcmx_l3_route_t_init()  </td><td>Initialize a bcm_l3_route_t/bcmx_l3_route_t_init structure.   </td></tr>
<tr>
<td>bcmx_l3_route_add()  </td><td>Add an IP route to the L3 route table.   </td></tr>
<tr>
<td>bcmx_l3_route_delete()  </td><td>Delete an IP route from the DEFIP table.   </td></tr>
<tr>
<td>bcmx_l3_route_get()  </td><td>Look up a route given the network and netmask.   </td></tr>
<tr>
<td>bcmx_l3_route_multipath_get()  </td><td>Given a network, return all the paths for this route.   </td></tr>
<tr>
<td>bcmx_l3_route_delete_by_interface()  </td><td>Delete routes based on matching or non-matching L3 interface number.   </td></tr>
<tr>
<td>bcmx_l3_route_delete_all()  </td><td>Delete all routes.   </td></tr>
<tr>
<td>bcmx_l3_route_age()  </td><td>Age the route table.   </td></tr>
<tr>
<td>bcmx_l3_route_traverse()  </td><td>Traverse through the routing table and run callback at each route.   </td></tr>
<tr>
<td>bcmx_l3_route_max_ecmp_set()  </td><td>Set the maximum ECMP paths allowed for a route (StrataXGS only).   </td></tr>
<tr>
<td>bcmx_l3_route_max_ecmp_get()  </td><td>Get the maximum ECMP paths allowed for a route (StrataXGS only).   </td></tr>
<tr>
<td>bcmx_tunnel_terminator_t_init()  </td><td>Initialize a bcm_tunnel_terminator_t/bcmx_tunnel_terminator_t structure.   </td></tr>
<tr>
<td>bcmx_tunnel_terminator_t_free()  </td><td>Free memory allocated during call to bcmx_tunnel_terminator_t_init .   </td></tr>
<tr>
<td>bcmx_tunnel_terminator_add()  </td><td>Add a tunnel terminator for DIP-SIP key.   </td></tr>
<tr>
<td>bcmx_tunnel_terminator_create()  </td><td>Add a tunnel terminator for DIP-SIP key.   </td></tr>
<tr>
<td>bcmx_tunnel_terminator_delete()  </td><td>Delete a tunnel terminator for DIP-SIP key.   </td></tr>
<tr>
<td>bcmx_tunnel_terminator_update()  </td><td>Update a tunnel terminator for DIP-SIP key.   </td></tr>
<tr>
<td>bcmx_tunnel_terminator_vlan_set()  </td><td>Set the valid payload VLANs for this WLAN tunnel.   </td></tr>
<tr>
<td>bcmx_tunnel_terminator_vlan_get()  </td><td>Get the valid payload VLANs for this WLAN tunnel.   </td></tr>
<tr>
<td>bcmx_tunnel_initiator_t_init()  </td><td>Initialize a bcm_tunnel_initiator_t/bcmx_tunnel_initiator_t structure.   </td></tr>
<tr>
<td>bcmx_tunnel_initiator_set()  </td><td>Set the tunneling initiator parameters on an L3 interface.   </td></tr>
<tr>
<td>bcmx_tunnel_initiator_create()  </td><td>Set the tunneling initiator parameters on an L3 interface.   </td></tr>
<tr>
<td>bcmx_tunnel_initiator_clear()  </td><td>Delete the tunnel association for the given L3 interface.   </td></tr>
<tr>
<td>bcmx_tunnel_initiator_get()  </td><td>Get the tunnel property for the given L3 interface.   </td></tr>
<tr>
<td>bcmx_tunnel_dscp_map_create()  </td><td>Create a tunnel DSCP map instance.   </td></tr>
<tr>
<td>bcmx_tunnel_dscp_map_destroy()  </td><td>Destroy a tunnel DSCP map instance.   </td></tr>
<tr>
<td>bcmx_tunnel_dscp_map_port_set()  </td><td>Set the {internal priority, color}-to-DSCP mapping for a specific egress port.   </td></tr>
<tr>
<td>bcmx_tunnel_dscp_map_port_get()  </td><td>Get the {internal priority, color}-to-DSCP mapping for a specific egress port.   </td></tr>
<tr>
<td>bcmx_tunnel_dscp_map_set()  </td><td>Set the {internal priority, color}-to-DSCP mapping in the specified DSCP map.   </td></tr>
<tr>
<td>bcmx_tunnel_dscp_map_get()  </td><td>Get the { internal priority, color }-to-DSCP mapping in the specified DSCP map.   </td></tr>
<tr>
<td>bcmx_tunnel_config_t_init()  </td><td>Initialize a bcmx_tunnel_config_t structure.   </td></tr>
<tr>
<td>bcmx_tunnel_config_get()  </td><td>Set or get the global chip tunneling configuration.   </td></tr>
<tr>
<td>bcmx_tunnel_config_set()  </td><td>Set or get the global chip tunneling configuration.   </td></tr>
<tr>
<td>bcmx_l3_ip6_prefix_map_get()  </td><td>Extract list of IPv6 prefixes which are forwarded based on lower 32 bit of IPv6 address, treated as IPv4 address.   </td></tr>
<tr>
<td>bcmx_l3_ip6_prefix_map_add()  </td><td>Add IPv6 prefix to the list of prefixes which are forwarded based on lower 32-bit of IPv6 address, treated as IPv4 address.   </td></tr>
<tr>
<td>bcmx_l3_ip6_prefix_map_delete()  </td><td>Remove IPv6 prefix from the list of prefixes which are forwarded based on lower 32-bit of IPv6 address, treated as IPv4 address.   </td></tr>
<tr>
<td>bcmx_l3_ip6_prefix_map_delete_all()  </td><td>Remove all the IPv6 prefixes from the list of prefixes which are forwarded based on lower 32-bit of IPv6 address, treated as IPv4 address.   </td></tr>
<tr>
<td>bcmx_l3_vrf_stat_get()  </td><td>Get L3 VRF counter value for specified VRF statistic type.   </td></tr>
<tr>
<td>bcmx_l3_vrf_stat_get32()  </td><td>Get L3 VRF counter value for specified VRF statistic type.   </td></tr>
<tr>
<td>bcmx_l3_vrf_stat_set()  </td><td>Set L3 VRF counter value for specified VRF statistic type.   </td></tr>
<tr>
<td>bcmx_l3_vrf_stat_set32()  </td><td>Set L3 VRF counter value for specified VRF statistic type.   </td></tr>
<tr>
<td>bcmx_l3_vrf_stat_multi_get()  </td><td>Get L3 VRF counter value for multiple VRF statistic types.   </td></tr>
<tr>
<td>bcmx_l3_vrf_stat_multi_get32()  </td><td>Get L3 VRF counter value for multiple VRF statistic types.   </td></tr>
<tr>
<td>bcmx_l3_vrf_stat_multi_set()  </td><td>Set L3 VRF counter value for multiple VRF statistic types.   </td></tr>
<tr>
<td>bcmx_l3_vrf_stat_multi_set32()  </td><td>Set L3 VRF counter value for multiple VRF statistic types.   </td></tr>
<tr>
<td>bcmx_l3_vrf_stat_enable_set()  </td><td>Enable/disable packet and byte counters for the selected VRF.   </td></tr>
</table>
<h2><a class="anchor" id="l3_vrrp_deprecation"></a>
VRRP APIs</h2>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcmx_l3_vrrp_add()  </td><td>Add VRID for the given VSI. Adding a VRID using this API means the physical node has become the master for the virtual router   </td></tr>
<tr>
<td>bcmx_l3_vrrp_delete()  </td><td>Delete VRID for a particular VLAN/VSI   </td></tr>
<tr>
<td>bcmx_l3_vrrp_delete_all()  </td><td>Delete all the VRIDs for a particular VLAN/VSI   </td></tr>
<tr>
<td>bcmx_l3_vrrp_get()  </td><td>Get all the VRIDs for which the physical node is master for the virtual routers on the given VLAN/VSI   </td></tr>
</table>
<h2><a class="anchor" id="l3_src_bind_deprecation"></a>
L3 Source Address Bindings</h2>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcmx_l3_source_bind_t_init()  </td><td>Initialize a bcm_l3_source_bind_t structure.   </td></tr>
<tr>
<td>bcmx_l3_source_bind_enable_set()  </td><td>Enable or disable l3 source binding checks on an ingress port.   </td></tr>
<tr>
<td>bcmx_l3_source_bind_enable_get()  </td><td>Retrieve whether l3 source binding checks are performed on an ingress port.   </td></tr>
<tr>
<td>bcmx_l3_source_bind_add()  </td><td>Add or replace an L3 source binding.   </td></tr>
<tr>
<td>bcmx_l3_source_bind_delete()  </td><td>Remove an existing L3 source binding.   </td></tr>
<tr>
<td>bcmx_l3_source_bind_delete_all()  </td><td>Remove all existing L3 source bindings.   </td></tr>
<tr>
<td>bcmx_l3_source_bind_get()  </td><td>Retrieve the details of an existing L3 source binding.   </td></tr>
<tr>
<td>bcmx_l3_ip4_options_profile_create()  </td><td>Create a new L3 IP options handling profile.   </td></tr>
<tr>
<td>bcmx_l3_ip4_options_profile_destroy()  </td><td>Delete an L3 IP options Profile   </td></tr>
<tr>
<td>bcmx_l3_ip4_options_action_set()  </td><td>Set Individual IP options action for a given IP option profile   </td></tr>
<tr>
<td>bcmx_l3_ip4_options_action_get()  </td><td>Get Individual IP options action for a given IP option profile   </td></tr>
</table>
<h1><a class="anchor" id="L2_API_Deprecation_deprecation"></a>
Layer-2</h1>
<p>Below is a description of L2 APIs that have been deprecated and the replacement API in each case as applicable.</p>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_l2_bpdu_count()  </td><td>Get the number of BPDU addresses available. (Deprecated.) This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l2_bpdu_count()  </td><td>Get the number of BPDU addresses available. (Deprecated.) This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l2_bpdu_set()  </td><td>Set/Get the BPDU address. (Deprecated.) This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcm_l2_bpdu_get()  </td><td>Set/Get the BPDU address. (Deprecated.) This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l2_bpdu_set()  </td><td>Set/Get the BPDU address. (Deprecated.) This API has been deprecated and new applications should NOT use this API.   </td></tr>
<tr>
<td>bcmx_l2_bpdu_get()  </td><td>Set/Get the BPDU address. (Deprecated.) This API has been deprecated and new applications should NOT use this API.   </td></tr>
</table>
<p>typedef struct { uint32 flags; bcm_mac_t mac; bcm_vlan_t vid; bcmx_lport_t lport; bcm_trunk_t tgid; int trunk_sel; bcm_cos_t cos_dst; bcm_cos_t cos_src; bcm_multicast_t l2mc_group; int auth; /* The bcm_unit number can be used to record the "reporting" unit for adds and deletes. This may differ from the unit associated with the lport. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2020 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
