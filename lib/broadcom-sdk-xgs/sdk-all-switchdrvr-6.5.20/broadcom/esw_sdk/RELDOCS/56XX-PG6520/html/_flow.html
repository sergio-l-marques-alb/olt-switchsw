<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK API Guide: Flex flow Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK API Guide
   &#160;<span id="projectnumber">Version 6.5.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Flex flow Management </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>BCM56870 provides flex flow functionality. The BCM flow APIs allow application developers to manage the Broadcom flex flow features.</p>
<h1><a class="anchor" id="flex_flow_overview"></a>
Flow API Overview</h1>
<p>BCM56870 introduced the Flexible Packet Processing(FlexPP) architecture. It is designed to support any new tunnel headers that is broadly mapped to the baseline Flexible Generic Tunnel flow in the pipeline. This baseline flow or called flex flow can be characterized as "VxLAN-like" flow. A new flex flow is instantiated in the hardware through the loadable initialization sequence. At the same time, the new definition (memory views used for the new flow) is also loaded. Flow APIs allow user to perform a specific flex flow configuration through this new definition.</p>
<p>The flow APIs can be divided into three categories.</p>
<ul>
<li>1. APIs for accessing the new flow definition<ul>
<li>bcm_flow_handle_get(int unit, constchar* flow_name, bcm_flow_handle_t* handle)</li>
<li>bcm_flow_option_id_get(int unit, bcm_flow_handle_t flow_handle, constchar* flow_option_name, bcm_flow_option_id_t* option_id)</li>
<li>bcm_flow_logical_field_id_get(int unit, bcm_flow_handle_t flow_handle, constchar* field_name, bcm_flow_field_id_t* field_id)</li>
</ul>
</li>
</ul>
<p>They all use string based input parameters: flow_name,flow_option_name and logical_field_name to derive the flow_handle, flow_option and logical_field_id respectively. The derived information is used in the flow configuration APIs to access the new definition for a specific flex flow. The advantage of using string based parameters is that it can reference the new definition which is not known at the present. This allows software to support a new flex flow with minimum code change or even without code recompilation in the ideal cases.</p>
<ul>
<li>2. APIs for creating flow objects.<ul>
<li><a class="el" href="group__flow.html#gaa8507dabfcc0a3a863880bc674ff224f" title="Create or update FLOW VPN. The FLOW VPN provides a forwarding domain between FLOW ports,...">bcm_flow_vpn_create(int unit, bcm_vpn_t* vpn, bcm_flow_vpn_config_t* info)</a></li>
<li><a class="el" href="group__flow.html#ga971cee647e5e9271ff86222813966566" title="Create a flow port bcm_flow_port_create creates an Access or Network FLOW port.">bcm_flow_port_create(int unit, bcm_vpn_t vpn, bcm_flow_port_t* flow_port)</a></li>
</ul>
</li>
</ul>
<p>These two APIs create independent L2 flow VPN(VFI) object and flow port(VP) object respectively. It allows generic VPN and VP interoperation. Both VPN and flow port doesn't carry any protocol specific type when created. The created flow objects will be used by the flow configuration APIs.</p><ul>
<li>3. Flex flow configuration APIs for packet encapsulation and de-capsulation</li>
</ul>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flex flow configuration APIs</caption>
<tr>
<td><a class="el" href="group__flow.html#gaeef2de60d395075725a536bed2ca667b" title="Create a flow tunnel terminator object.">bcm_flow_tunnel_terminator_create(int unit, bcm_flow_tunnel_terminator_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a> </td><td>Tunnel termination  </td></tr>
<tr>
<td><a class="el" href="group__flow.html#ga4394315b44e3ba42fdfcf3a24def196d" title="Add a match entry to assign switch objects for the matched packets.">bcm_flow_match_add(int unit, bcm_flow_match_config_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a> </td><td>assign flow objects  </td></tr>
<tr>
<td><a class="el" href="group__flow.html#gaede3a6c9df0f103805b709ca75dbddf0" title="Set the L2 tunnel encapsulation parameters for the given flow_port.">bcm_flow_port_encap_set(int unit, bcm_flow_port_encap_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a> </td><td>egress DVP control  </td></tr>
<tr>
<td><a class="el" href="group__flow.html#ga347a18f90992e6b32c7f2af6e6bec23e" title="Add a flow encap entry for L2 tunnel or L3 tunnel.">bcm_flow_encap_add(int unit, bcm_flow_encap_config_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a> </td><td>derive packet encapsulation data  </td></tr>
<tr>
<td><a class="el" href="group__flow.html#ga79be0dda1400ed61f08e3995a6a8036f" title="Create a flow tunnel initiator object.">bcm_flow_tunnel_initiator_create(int unit, bcm_flow_tunnel_initiator_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a> </td><td>tunnel initiator  </td></tr>
</table>
<p>In additional to the new flow APIs, various existing APIs are also enhanced to support the flex flow operation.</p>
<h1><a class="anchor" id="flex_flow_data_type"></a>
Flex flow data type</h1>
<ul>
<li>bcm_vpn_t is the ID that uniquely identifies Layer-2 VPN instance. bcm_vpn_t is defined as bcm_vlan_t so it can be used in APIs with bcm_vlan_t parameters (for example, bcm_l2_addr_add can be used to add ELAN L2 entries using a ELAN bcm_vpn_t value). BCM_FLOW_VPN_INVALID specifies an Invalid VPN Instance. The VPN type can be ELAN (point-to-multipoint L2 VPN). A VPN is assigned a unique ID which is returned in the vpn field. For ELAN VPNs, the multicast group(s) for broadcast and unknown unicast/multicast must first be created using the bcm_multicast_* APIs. FLOW VPN can be associated with a Service vnid field using the bcm_flow_encap_add API.</li>
</ul>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>FLOW VPN flags</caption>
<tr>
<td>BCM_FLOW_VPN_ELINE </td><td>Create ELINE VPN  </td></tr>
<tr>
<td>BCM_FLOW_VPN_ELAN </td><td>Create ELAN VPN  </td></tr>
<tr>
<td>BCM_FLOW_VPN_WITH_ID </td><td>Create VPN with specified ID  </td></tr>
<tr>
<td>BCM_FLOW_VPN_REPLACE </td><td>Replace attributes of an existed VPN  </td></tr>
<tr>
<td>BCM_FLOW_VPN_INVALID </td><td>Invalid FLOW VPN </td><td>INVALID FLOW VPN  </td></tr>
</table>
<ul>
<li>bcm_flow_vpn_config_t structure can be used for configuring FLOW vpn.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flow__vpn__config__s.html">bcm_flow_vpn_config_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__vpn__config__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* L2 VPN config flags. */</span></div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a> <a class="code" href="structbcm__flow__vpn__config__s.html#a114da9007e9014c9b8cb11206e0e0163">broadcast_group</a>;    <span class="comment">/* broadcast group. */</span></div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a> <a class="code" href="structbcm__flow__vpn__config__s.html#a23da875b7522ca342116c784be3cdcc1">unknown_unicast_group</a>; <span class="comment">/* unknown unicast group. */</span></div><div class="line">    <a class="code" href="group__types.html#ga0f3f07b8f11cb4e625b0f42d6cc7f94c">bcm_multicast_t</a> <a class="code" href="structbcm__flow__vpn__config__s.html#aea986011b6e84795ff6689a580e315ae">unknown_multicast_group</a>; <span class="comment">/* unknown multicast group. */</span></div><div class="line">    <a class="code" href="structbcm__vlan__protocol__packet__ctrl__s.html">bcm_vlan_protocol_packet_ctrl_t</a> <a class="code" href="structbcm__flow__vpn__config__s.html#a21488e97491ed200184d5b34530706b1">protocol_pkt</a>; <span class="comment">/* protocol packet handling */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__vpn__config__s.html#ad96aba428436fa396c40bc69caf2352e">match_port_class</a>;       <span class="comment">/* port class */</span></div><div class="line">} <a class="code" href="group__flow.html#ga37d8f4d00e9e710937ab12f1ac880917">bcm_flow_vpn_config_t</a>;</div></div><!-- fragment --><p>The following bcm_flow_port_split_horizon_drop_t typedef is used in the <a class="el" href="_flow.html#bcm_flow_port_t">bcm_flow_port_t</a> structure to specify the drop mode. <a class="anchor" id="bcm_flow_port_split_horizon_drop_t"></a></p><div class="fragment"><div class="line"><span class="comment">/* Flow port split horizon drop mode. */</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__flow.html#ga6a244d7961c9c9748403e698bc57f1f1">bcm_flow_port_split_horizon_drop_e</a> {</div><div class="line">    <a class="code" href="group__flow.html#gga6a244d7961c9c9748403e698bc57f1f1ac520e17c720ff71261cfdcc4e4f2aaf5">bcmFlowPortSplitHorizonDropAll</a>,  <span class="comment">/* Drop both L2 and L3 packets. */</span></div><div class="line">    <a class="code" href="group__flow.html#gga6a244d7961c9c9748403e698bc57f1f1a5f14f43e98a8d8037c1b823e381b2fce">bcmFlowPortSplitHorizonDropL2</a>,   <span class="comment">/* Drop L2 packets. */</span></div><div class="line">    <a class="code" href="group__flow.html#gga6a244d7961c9c9748403e698bc57f1f1a596040fa09c47d0b088a2524f9bae22c">bcmFlowPortSplitHorizonDropCount</a> <span class="comment">/* Unused always last. */</span></div><div class="line">} <a class="code" href="group__flow.html#ga06def5045e91a6d1a979c57354023002">bcm_flow_port_split_horizon_drop_t</a>;</div></div><!-- fragment --><p><a class="anchor" id="bcm_flow_port_t"></a></p><ul>
<li>The bcm_flow_port_t structure describes a FLOW virtual port used for creating FLOW Network endpoints.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flow__port__s.html">bcm_flow_port_s</a> {</div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__port__s.html#a82d42e88c1593879f9a2d5a226a6611b">flow_port_id</a>;           <span class="comment">/* GPORT identifier. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__port__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* BCM_FLOW_PORT_xxx. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__port__s.html#a93ec8bd3b1e35ff73e12191664f035d8">if_class</a>;                    <span class="comment">/* Interface Class ID. */</span></div><div class="line">    <a class="code" href="group__types.html#ga356b17d1510b1781318bb0f840405e28">bcm_switch_network_group_t</a> <a class="code" href="structbcm__flow__port__s.html#af6d0ee687a1817417e66796f5af67a99">network_group_id</a>; <span class="comment">/* Split Horizon network group</span></div><div class="line"><span class="comment">                                           identifier. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__port__s.html#a1fff9352b8c83e37662b5abfa0bda831">egress_service_tpid</a>;         <span class="comment">/* Service Vlan TPID Value. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flow__port__s.html#a5e2828d0a9bf98bd4a08642d054c4cff">dscp_map_id</a>;                    <span class="comment">/* DSCP based PHB map ID. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flow__port__s.html#aa80ebd34f00077cbc0b490d6352a8c7b">vlan_pri_map_id</a>;                <span class="comment">/* VLAN priority and CFI based PHB map</span></div><div class="line"><span class="comment">                                           ID. */</span></div><div class="line">    <a class="code" href="group__flow.html#ga06def5045e91a6d1a979c57354023002">bcm_flow_port_split_horizon_drop_t</a>   <a class="code" href="structbcm__flow__port__s.html#a4dec96d848d0e9674d5868de3104f719">drop_mode</a>; <span class="comment">/* Drop mode if the split</span></div><div class="line"><span class="comment">                                                       horizon check fails. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flow__port__s.html#a50d858e7fb342de16572825a625e22c8">ingress_opaque_ctrl_id</a>; <span class="comment">/* Ingress opaque control ID. */</span></div><div class="line">} <a class="code" href="group__flow.html#ga42f0a0f19c1b45e74009d2220cc61b00">bcm_flow_port_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>FLOW port flags</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_FLOW_PORT_WITH_ID </td><td>Create FLOW port with specified ID  </td></tr>
<tr>
<td>BCM_FLOW_PORT_NETWORK </td><td>Network facing interface  </td></tr>
<tr>
<td>BCM_FLOW_PORT_COUNTED </td><td>Maintain packet/Byte counts  </td></tr>
<tr>
<td>BCM_FLOW_PORT_REPLACE </td><td>Replace existing entry  </td></tr>
<tr>
<td>BCM_FLOW_PORT_SERVICE_TAGGED </td><td>Service tag mode  </td></tr>
<tr>
<td>BCM_FLOW_PORT_DEFAULT </td><td>Create VXLAN Default Network Port  </td></tr>
<tr>
<td>BCM_FLOW_PORT_DEFAULT_L2GRE </td><td>Create L2GRE Default Network Port  </td></tr>
<tr>
<td>BCM_FLOW_PORT_DEFAULT_GPE </td><td>Create GPE Default Network Port  </td></tr>
<tr>
<td>BCM_FLOW_PORT_DEFAULT_GENEVE </td><td>Create GENEVE Default Network Port  </td></tr>
<tr>
<td>BCM_FLOW_PORT_MULTICAST_GROUP_REMAP </td><td>Remap the multicast group to a new one  </td></tr>
</table>
<p>FLOW port is a "virtual-port" that can be added to an L2 VPN. FLOW port can be:</p><ul>
<li>FLOW Tunnel endpoint (identified by Tunnel-SIP and FLOW VNID)</li>
<li>A physical port (identified by any combination of physical port, outer VLAN, inner VLAN, or other match criteria as defined by api bcm_flow_match_add)</li>
</ul>
<p>With ELAN, FLOW ports that are added to the L2 VPN are part of the L2 flooding domain (similar to physical ports added to a VLAN). Each FLOW port has a unique GPORT identifier, flow_port_id, that is allocated by the SDK when flow port is added to a VPN. FLOW port consists of ingress and egress parameters. The ingress parameters are the "match criteria", which are used to associate incoming packets with FLOW port based on incoming physical port and/or packet header information. The bcm_flow_match_config_t types define which information is used as match criteria.</p>
<ul>
<li>bcm_flow_logical_field_t defines logical field structure.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flow__logical__field__s.html">bcm_flow_logical_field_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__logical__field__s.html#a3384d9640634d49e84776a97f3e2c241">id</a>;    <span class="comment">/* logical field id. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__logical__field__s.html#a825a6aa3f85d5b289f6e1a3b3a2beb83">value</a>;   <span class="comment">/* logical field value. */</span></div><div class="line">} <a class="code" href="group__types.html#ga801ec0d45fc763b8541152e41a8fb124">bcm_flow_logical_field_t</a>;</div></div><!-- fragment --><ul>
<li>bcm_flow_handle_t defines a flex flow handler.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="group__flow.html#gaa99e896fc136e12a33cb8b06cf551ced">bcm_flow_handle_t</a>;</div></div><!-- fragment --><ul>
<li>bcm_flow_option_id_t defines a flex flow option ID.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="group__flow.html#ga88a2012527fb015e8c9b48514813b796">bcm_flow_option_id_t</a>;</div></div><!-- fragment --><ul>
<li>bcm_flow_field_id_t defines a flex flow field ID.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="group__flow.html#gaf0225a036a767608adea36d8837c13c3">bcm_flow_field_id_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flex Flow match options</caption>
<tr>
<td>BCM_FLOW_MATCH_OPTION_REPLACE </td><td>Replace action  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow match flags for hardware control parameters</caption>
<tr>
<td>BCM_FLOW_MATCH_FLAG_DROP </td><td>Drop packet  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Valid element flags for flow match function</caption>
<tr>
<td>BCM_FLOW_MATCH_VNID_VALID </td><td>VN_ID valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_VLAN_VALID </td><td>Vlan valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_INNER_VLAN_VALID </td><td>Inner vlan valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_PORT_VALID </td><td>Port valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_SIP_VALID </td><td>source IPv4 address element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_SIP_V6_VALID </td><td>source IPv6 address element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_DIP_VALID </td><td>destination IPv4 address element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_DIP_V6_VALID </td><td>destination IPv6 address element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_VPN_VALID </td><td>VPN element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_FLOW_PORT_VALID </td><td>flow port element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_IIF_VALID </td><td>iif element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_FLEX_KEY_VALID </td><td>logical field elements for key valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_FLEX_DATA_VALID </td><td>logical field elements for data valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_UDP_SRC_PORT_VALID </td><td>UDP source port element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_UDP_DST_PORT_VALID </td><td>UDP destination port element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_PROTOCOL_VALID </td><td>IP protocol element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_MPLS_LABEL_VALID </td><td>mpls label element valid  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_FLAGS_VALID </td><td>flags field valid  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow Match Criteria</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_INVALID </td><td>Invalid value  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_PORT </td><td>{Module, Port} or Trunk  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_PORT_VLAN </td><td>Mod/port/trunk + outer VLAN  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_PORT_INNER_VLAN </td><td>Mod/port/trunk + inner VLAN  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_PORT_VLAN_STACKED </td><td>Mod/port/trunk + outer/inner VLAN  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_VLAN_PRI </td><td>Mod/port/trunk + VLAN-PRI + VLAN-CFI  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_VN_ID </td><td>Match VN_ID  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_SIP </td><td>Match SIP  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_SIP_VNID </td><td>Match SIP + VNID  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_FLEX </td><td>Match SIP + VNID  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_MPLS_LABEL </td><td>Match MPLS label  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_PORT_GROUP_VLAN </td><td>Match port group + outer VID  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_PORT_GROUP_INNER_VLAN </td><td>Match port group + inner VID  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_PORT_GROUP_VLAN_STACKED </td><td>Match port group + outer VID + inner VID  </td></tr>
<tr>
<td>BCM_FLOW_MATCH_CRITERIA_SVP_VNID </td><td>Match Source VP and VN_ID  </td></tr>
</table>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flow__match__config__s.html">bcm_flow_match_config_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__match__config__s.html#aa20ab9327bdbab432a6e9e2168399524">vnid</a>;                    <span class="comment">/* VN_ID. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__flow__match__config__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;                <span class="comment">/* Outer VLAN ID to match. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__flow__match__config__s.html#ac5b308fe14378b1d0a6ad9aba29bbded">inner_vlan</a>;          <span class="comment">/* Inner VLAN ID to match. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__match__config__s.html#a56da6f3a91f2f6d38953ef7c66fa78b2">port</a>;               <span class="comment">/* Match port / trunk */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__match__config__s.html#acee6e61559ffe678bc7bee506ba9f595">sip</a>;                   <span class="comment">/* source IPv4 address */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__match__config__s.html#a02da5847e0921ccdb7d7c4a6866ccd50">sip_mask</a>;              <span class="comment">/* source IPv4 address mask */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__match__config__s.html#a8e328b6303dd4f97f83e0900346575de">sip6</a>;                 <span class="comment">/* source IPv6 address */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__match__config__s.html#a320413061e483655a0f5dfcd9ff2c160">sip6_mask</a>;            <span class="comment">/* source IPv6 address mask */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__match__config__s.html#a72576020cbd42b08debe20ce8d478261">dip</a>;                   <span class="comment">/* destination IPv4 address */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__match__config__s.html#aba02c38a2cd73535fa53edfedc6532c3">dip_mask</a>;              <span class="comment">/* destination IPv4 address mask */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__match__config__s.html#ae8fe5193bc4e5013c8183d7d8d09bc74">dip6</a>;                 <span class="comment">/* destination IPv6 address */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__match__config__s.html#aed9f436b96212530971c53c0f93caa5e">dip6_mask</a>;            <span class="comment">/* destination IPv6 address mask */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__match__config__s.html#a36e2b1075a56c6c23ec5555b27bff470">udp_dst_port</a>;            <span class="comment">/* udp destination port. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__match__config__s.html#a5aeb16066884baecd9b18fac7be10c92">udp_src_port</a>;            <span class="comment">/* udp source port. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__match__config__s.html#a334efb64687cc105f6192712f0414df1">protocol</a>;                <span class="comment">/* IP protocol type. */</span></div><div class="line">    <a class="code" href="group__types.html#ga7f4890ec7a6446a0a6c0cb66ed180627">bcm_mpls_label_t</a> <a class="code" href="structbcm__flow__match__config__s.html#a26b347ee713e5fd770bdaeff8d3b5824">mpls_label</a>;    <span class="comment">/* MPLS label. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__match__config__s.html#ada1d933ad91e80cfe39dffe91e6510ce">flow_port</a>;          <span class="comment">/* flow port id representing a SVP */</span></div><div class="line">    <a class="code" href="group__types.html#gad0476041b742ee817043d5d0c99fc2ac">bcm_vpn_t</a> <a class="code" href="structbcm__flow__match__config__s.html#ab4aa203386fefc77212e8a50b58d7ca5">vpn</a>;                  <span class="comment">/* VPN representing a vfi or vrf */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__flow__match__config__s.html#aa08d802a5aa00c5e2b461a4f70af5129">intf_id</a>;               <span class="comment">/* l3 interface id */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__match__config__s.html#a81a01df79d8b8489e5dcd3de9c23468d">options</a>;                 <span class="comment">/* BCM_FLOW_MATCH_OPTION_xxx. */</span></div><div class="line">    <a class="code" href="group__flow.html#ga72b17caad138fec879b02290ecfc9cfc">bcm_flow_match_criteria_t</a> <a class="code" href="structbcm__flow__match__config__s.html#ab6a5baa3f7684a3644fadb02492c4a67">criteria</a>;     <span class="comment">/* flow match criteria. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__match__config__s.html#ae8798116285e1880bff6fb64a56cf03e">valid_elements</a>;          <span class="comment">/* bitmap of valid fields for the match</span></div><div class="line"><span class="comment">                                       action */</span></div><div class="line">    <a class="code" href="group__flow.html#gaa99e896fc136e12a33cb8b06cf551ced">bcm_flow_handle_t</a> <a class="code" href="structbcm__flow__match__config__s.html#a99f9da94d0aa320ba59c03cb8ed3a633">flow_handle</a>;  <span class="comment">/* flow handle derived from flow name */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__match__config__s.html#aeb75a4c6b2044afd2b62a42766c09d60">flow_option</a>;             <span class="comment">/* flow option derived from flow option name */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> src_flow_port;    <span class="comment">/* flow port id representing a SVP */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="l3_8dox.html#af41be8c18bfbbb35ccd740b87d3813ea">class_id</a>;                      <span class="comment">/*used by EFP as input key*/</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__match__config__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* BCM_FLOW_MATCH_FLAG_xxx */</span></div><div class="line">} <a class="code" href="group__flow.html#ga169f59f5aeb5e13dbd473220063b4896">bcm_flow_match_config_t</a>;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="group__flow.html#ga64c33b289962c7456318965b0b5d13a2">bcm_flow_match_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="structbcm__flow__match__config__s.html">bcm_flow_match_config_t</a> *<a class="code" href="l3_8dox.html#a34ea06cff5e4db05f1dd7d2bd44e97bd">info</a>,</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="l3_8dox.html#ae14523a239aee03d12249039a79c876c">num_of_fields</a>,</div><div class="line">    <a class="code" href="structbcm__flow__logical__field__s.html">bcm_flow_logical_field_t</a> *field,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Valid element flags for flow tunnel initiator function</caption>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_TTL_VALID </td><td>ttl element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_DMAC_VALID </td><td>Destination MAC element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_DIP_VALID </td><td>Destination IP address element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_SIP_VALID </td><td>Source IP address element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_SIP6_VALID </td><td>Source IPv6 address element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_DIP6_VALID </td><td>Dest IPv6 address element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_FLOW_LABEL_VALID </td><td>Flow label element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_DSCP_VALID </td><td>DSCP element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_UDP_SPORT_VALID </td><td>UDP source port element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_UDP_DPORT_VALID </td><td>UDP destination element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_SMAC_VALID </td><td>Source MAC element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_VLAN_VALID </td><td>VLAN element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_TPID_VALID </td><td>TPID element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_PKT_PRI_VALID </td><td>Packet priority element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_PKT_CFI_VALID </td><td>Packet CFI element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_IP4_ID_VALID </td><td>IPv4 segment ID element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_FLEX_VALID </td><td>logical field element valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_INIT_DSCP_ECN_VALID </td><td>DSCP and ECN valid  </td></tr>
</table>
<ul>
<li>bcm_flow_tunnel_initiator_t structure.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flow__tunnel__initiator__s.html">bcm_flow_tunnel_initiator_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;                       <span class="comment">/* Configuration flags. */</span></div><div class="line">    <a class="code" href="tunnel_8h.html#afefa281f0ba349d980774ca3f75e8e0d">bcm_tunnel_type_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a58ea1eba78c2716f23988e1b5256f1db">type</a>;             <span class="comment">/* Tunnel type. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a869bf8a50756e5adbdb1cf05a99c0a45">ttl</a>;                            <span class="comment">/* Tunnel header TTL. */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a090a7216684abfbd1b42287fcd43979c">dmac</a>;                     <span class="comment">/* Destination MAC address. */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a72576020cbd42b08debe20ce8d478261">dip</a>;                       <span class="comment">/* Tunnel header DIP (IPv4). */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#acee6e61559ffe678bc7bee506ba9f595">sip</a>;                       <span class="comment">/* Tunnel header SIP (IPv4). */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a8e328b6303dd4f97f83e0900346575de">sip6</a>;                     <span class="comment">/* Tunnel header SIP (IPv6). */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#ae8fe5193bc4e5013c8183d7d8d09bc74">dip6</a>;                     <span class="comment">/* Tunnel header DIP (IPv6). */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a647730c93bbddceace3e92e5e567a90b">flow_label</a>;                  <span class="comment">/* Tunnel header flow label (IPv6). */</span></div><div class="line">    <a class="code" href="tunnel_8h.html#ab39bd3b8ec6112cfcb46c088214f1e58">bcm_tunnel_dscp_select_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#acc12740d43a0a8fa561bdfc013faf383">dscp_sel</a>;  <span class="comment">/* Tunnel header DSCP select. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a139f7aad5397431a4e30fd2787c29dc5">dscp</a>;                           <span class="comment">/* Tunnel header DSCP value. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#af4e436ef14c2727a04f3046b12ba76ac">dscp_map</a>;                       <span class="comment">/* DSCP-map ID. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a5a96766f0392a925142d225830a597fa">tunnel_id</a>;              <span class="comment">/* Tunnel ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a36e2b1075a56c6c23ec5555b27bff470">udp_dst_port</a>;                <span class="comment">/* Destination UDP port */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a5aeb16066884baecd9b18fac7be10c92">udp_src_port</a>;                <span class="comment">/* Source UDP port */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#aa9cfdbc5d4fca65e6c81837a7e2dfc6c">smac</a>;                     <span class="comment">/* Src MAC */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;                    <span class="comment">/* Tunnel VLAN */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a32ad75ce30562c526f5b504fbb0187c1">tpid</a>;                        <span class="comment">/* Tunnel TPID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a43f20e42eb08f7e9aef95f2d53831e36">pkt_pri</a>;                      <span class="comment">/* Tunnel priority */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a9d02907c7f4901f53eea486052421b70">pkt_cfi</a>;                      <span class="comment">/* Tunnel CFI */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a91b23878ac80fd9fbea2d026f99b8ad5">ip4_id</a>;                      <span class="comment">/* IPv4 ID. */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a2edc7e9c625922cb74cf1981c2f66519">l3_intf_id</a>;                <span class="comment">/* l3 Interface ID. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#ada1d933ad91e80cfe39dffe91e6510ce">flow_port</a>;              <span class="comment">/* Flow port ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#ae8798116285e1880bff6fb64a56cf03e">valid_elements</a>;              <span class="comment">/* bitmap of valid fields */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#ad88714fd31aaffbe3d7ec5ef11953eb4">flow_handle</a>;                 <span class="comment">/* flow handle */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#aeb75a4c6b2044afd2b62a42766c09d60">flow_option</a>;                 <span class="comment">/* flow option */</span></div><div class="line">    <a class="code" href="tunnel_8h.html#a30e29c934871baa6e9f9c3af154ea928">bcm_tunnel_dscp_ecn_select_t</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#afcf36182dd142ccc92c9f21b289a259f">dscp_ecn_sel</a>;  <span class="comment">/* Tunnel header DSCP and ECN select. */</span></div><div class="line">    <span class="keywordtype">int</span>   <a class="code" href="structbcm__flow__tunnel__initiator__s.html#ad503faa9c208c44939f289b41c5c5a46">dscp_ecn_map</a>;                 <span class="comment">/* DSCP and ECN map ID. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flow__tunnel__initiator__s.html#a63d9cb10dff84b39c046e0ca5ed752aa">ecn</a>;                          <span class="comment">/* Tunnel header ECN value. */</span></div><div class="line">} <a class="code" href="group__flow.html#gae1e54777116539320d3278528e77d613">bcm_flow_tunnel_initiator_t</a>;</div></div><!-- fragment --><ul>
<li>bcm_flow_tunnel_initiator_traverse_cb structure.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="group__flow.html#gac633de8f8aac71f146075654ed973776">bcm_flow_tunnel_initiator_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="structbcm__flow__tunnel__initiator__s.html">bcm_flow_tunnel_initiator_t</a> *<a class="code" href="l3_8dox.html#a34ea06cff5e4db05f1dd7d2bd44e97bd">info</a>,</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="l3_8dox.html#ae14523a239aee03d12249039a79c876c">num_of_fields</a>,</div><div class="line">    <a class="code" href="structbcm__flow__logical__field__s.html">bcm_flow_logical_field_t</a> *field,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Valid element flags for flow tunnel terminator function</caption>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_VRF_VALID </td><td>VRF valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_SIP_VALID </td><td>SIP valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_DIP_VALID </td><td>DIP valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_SIP_MASK_VALID </td><td>SIP mask valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_DIP_MASK_VALID </td><td>DIP mask valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_SIP6_VALID </td><td>SIP6 valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_DIP6_VALID </td><td>DIP6 valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_SIP6_MASK_VALID </td><td>SIP6 mask valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_DIP6_MASK_VALID </td><td>DIP6 mask valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_UDP_SRC_PORT_VALID </td><td>src port valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_UDP_DST_PORT_VALID </td><td>dst port valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_VLAN_VALID </td><td>vlan valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_PROTOCOL_VALID </td><td>protocol valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_FLEX_KEY_VALID </td><td>flex key valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_FLEX_DATA_VALID </td><td>flex data valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_VLAN_MASK_VALID </td><td>VLAN mask valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_CLASS_ID_VALID </td><td>Class ID valid  </td></tr>
<tr>
<td>BCM_FLOW_TUNNEL_TERM_PBMP_VALID </td><td>Termination port bit map valid  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Multicast Bud flags for flow tunnel terminator function</caption>
<tr>
<td>BCM_FLOW_MULTICAST_TUNNEL_STATE_BUD_ENABLE </td><td>Bud enable  </td></tr>
<tr>
<td>BCM_FLOW_MULTICAST_TUNNEL_STATE_BUD_DISABLE </td><td>Bud disable  </td></tr>
</table>
<ul>
<li>bcm_flow_tunnel_terminator_t structure.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flow__tunnel__terminator__s.html">bcm_flow_tunnel_terminator_s</a> {</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;           <span class="comment">/* Configuration flags. Use BCM_TUNNEL flags */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#ad438502529c89960df022009b514e66f">multicast_flag</a>;  <span class="comment">/* VXLAN Multicast trigger flags. */</span></div><div class="line">    <a class="code" href="group__types.html#ga75bff066bcf4665db211170f0f49e58e">bcm_vrf_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#ad90cb6ae1111a34aeb9f39fbd7445efd">vrf</a>;          <span class="comment">/* Virtual router instance. */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#acee6e61559ffe678bc7bee506ba9f595">sip</a>;           <span class="comment">/* SIP for tunnel header match. */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#a72576020cbd42b08debe20ce8d478261">dip</a>;           <span class="comment">/* DIP for tunnel header match. */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#a02da5847e0921ccdb7d7c4a6866ccd50">sip_mask</a>;      <span class="comment">/* Source IP mask. */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#aba02c38a2cd73535fa53edfedc6532c3">dip_mask</a>;      <span class="comment">/* Destination IP mask. */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#a8e328b6303dd4f97f83e0900346575de">sip6</a>;         <span class="comment">/* SIP for tunnel header match (IPv6). */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#ae8fe5193bc4e5013c8183d7d8d09bc74">dip6</a>;         <span class="comment">/* DIP for tunnel header match (IPv6). */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#a320413061e483655a0f5dfcd9ff2c160">sip6_mask</a>;    <span class="comment">/* Source IP mask (IPv6). */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#aed9f436b96212530971c53c0f93caa5e">dip6_mask</a>;    <span class="comment">/* Destination IP mask (IPv6). */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#ac8788a471c933f95325f6788e31836ef">udp_dst_port</a>;    <span class="comment">/* UDP dst port for UDP packets. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#abc0df707647b7be0f9ce511b9ff53c4c">udp_src_port</a>;    <span class="comment">/* UDP src port for UDP packets */</span></div><div class="line">    <a class="code" href="tunnel_8h.html#afefa281f0ba349d980774ca3f75e8e0d">bcm_tunnel_type_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#a58ea1eba78c2716f23988e1b5256f1db">type</a>; <span class="comment">/* Tunnel type */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;        <span class="comment">/* The VLAN ID for IPMC lookup */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#a44855d441de143b0fd1afdcbd02fc93e">protocol</a>;        <span class="comment">/* Protocol type */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#ae8798116285e1880bff6fb64a56cf03e">valid_elements</a>;  <span class="comment">/* bitmap of valid fields */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#ad88714fd31aaffbe3d7ec5ef11953eb4">flow_handle</a>;     <span class="comment">/* flow handle */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#aeb75a4c6b2044afd2b62a42766c09d60">flow_option</a>;     <span class="comment">/* flow option */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#ab8a015d353a2489cab25dd6a728e66ed">vlan_mask</a>;   <span class="comment">/* The VLAN ID mask. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#a32ede4d3c0e19268e9f68cb14e7b60bf">class_id</a>;        <span class="comment">/* Class ID as a key in VFP. */</span></div><div class="line">    <a class="code" href="group__types.html#ga6e9f69e8948f73d9da295756c2ce581d">bcm_pbmp_t</a> <a class="code" href="structbcm__flow__tunnel__terminator__s.html#a2540eea7097ad3b3860ce310bfe686ff">term_pbmp</a>;   <span class="comment">/* Allowed port bitmap for tunnel termination. */</span></div><div class="line">} <a class="code" href="group__flow.html#ga3c06a5326a8092dece5e0d4692a9f587">bcm_flow_tunnel_terminator_t</a>;</div></div><!-- fragment --><ul>
<li>bcm_flow_tunnel_terminator_traverse_cb structure.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="group__flow.html#ga415b0be0badcfa3458eb74922c1921b6">bcm_flow_tunnel_terminator_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="structbcm__tunnel__terminator__s.html">bcm_tunnel_terminator_t</a> *<a class="code" href="l3_8dox.html#a34ea06cff5e4db05f1dd7d2bd44e97bd">info</a>,</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="l3_8dox.html#ae14523a239aee03d12249039a79c876c">num_of_fields</a>,</div><div class="line">    <a class="code" href="structbcm__flow__logical__field__s.html">bcm_flow_logical_field_t</a> *field,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow port encap options</caption>
<tr>
<td>BCM_FLOW_PORT_ENCAP_OPTION_REPLACE </td><td>Replace action  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_OPTION_CLEAR </td><td>Clear action  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow port encap flags for hardware control parameters</caption>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_SERVICE_TAGGED </td><td>Service tag mode  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_SERVICE_VLAN_ADD </td><td>Add SD-tag vlan  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_SERVICE_VLAN_TPID_REPLACE </td><td>Replace vlan,TPID  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_VLAN_REPLACE </td><td>Replace vlan  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_VLAN_DELETE </td><td>Delete vlan  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_VLAN_PRI_TPID_REPLACE </td><td>Replace vlan,priority and TPID  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_VLAN_PRI_REPLACE </td><td>Replace vlan,priority  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_PRI_REPLACE </td><td>Replace priority  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_TPID_REPLACE </td><td>Replace TPID  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_LOCAL </td><td>Encapsulate the tunnel on local device  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_DROP </td><td>Multicast drop control  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_IP4_ID_SET_FIXED </td><td>Use fixed starting ID for IPv4 tunnel  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_IP4_ID_SET_RANDOM </td><td>Use random starting ID for IPv4 tunnel  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_EGRESS_CASCADED </td><td>Indicate the egress object is linked to the flow port  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_OPAQUE_TAGGED </td><td>Opaque tag mode  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_OPAQUE_TAG_REPLACE </td><td>Replace the opaque tag  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_OPAQUE_TAG_DELETE </td><td>Delete the opaque tag  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAG_OPAQUE_TAG_ADD </td><td>Add the opaque tag  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Valid element flags for flow port encap function</caption>
<tr>
<td>BCM_FLOW_PORT_ENCAP_PORT_VALID </td><td>flow port valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_CLASS_ID_VALID </td><td>class ID valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_MTU_VALID </td><td>MTU valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLAGS_VALID </td><td>flags valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_NETWORK_GROUP_VALID </td><td>network group ID valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_DVP_GROUP_VALID </td><td>DVP group ID valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_FLEX_DATA_VALID </td><td>logical field valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_PKT_PRI_VALID </td><td>SD-tag priority valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_PKT_CFI_VALID </td><td>SD-tag CFI valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_TPID_VALID </td><td>SD-tag TPID valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_VLAN_VALID </td><td>SD-tag vlan valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_EGRESS_IF_VALID </td><td>egress object valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_IP4_ID_VALID </td><td>IPv4 ID valid  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_VLAN_PRI_MAP_ID_VALID </td><td>VLAN_PRI_MAP_ID valid.  </td></tr>
<tr>
<td>BCM_FLOW_PORT_ENCAP_DST_PORT_VALID </td><td>Destination port valid.  </td></tr>
</table>
<ul>
<li>bcm_flow_port_encap_t structure.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flow__port__encap__s.html">bcm_flow_port_encap_s</a> {</div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__port__encap__s.html#ada1d933ad91e80cfe39dffe91e6510ce">flow_port</a>;          <span class="comment">/* flow port id identifies DVP. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__port__encap__s.html#a81a01df79d8b8489e5dcd3de9c23468d">options</a>;                 <span class="comment">/* BCM_FLOW_PORT_ENCAP_OPTION_xxx. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__port__encap__s.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>   ;                <span class="comment">/* BCM_FLOW_PORT_ENCAP_FLAG_xxx. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__port__encap__s.html#a32ede4d3c0e19268e9f68cb14e7b60bf">class_id</a>;                <span class="comment">/* class id. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__port__encap__s.html#a2f2ea211666cb634a9f37c3222bc3bf1">mtu</a>;                     <span class="comment">/* MTU. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__port__encap__s.html#ae11d357c553023886f894868a070e1f3">network_group</a>;           <span class="comment">/* network group ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__port__encap__s.html#ab5a157513491d62808a6d8d589e99be2">dvp_group</a>;               <span class="comment">/* DVP group ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>  <a class="code" href="structbcm__flow__port__encap__s.html#a31af7f2fccedd540790c853adb9bc3d5">pri</a>;                     <span class="comment">/* service tag priority */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>  <a class="code" href="structbcm__flow__port__encap__s.html#a00e5355c25655f1b4775f3e9bc326044">cfi</a>;                     <span class="comment">/* service tag CFI */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__port__encap__s.html#a32ad75ce30562c526f5b504fbb0187c1">tpid</a>;                    <span class="comment">/* service tag TPID */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__flow__port__encap__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;                <span class="comment">/* service tag vlan */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__flow__port__encap__s.html#abb332a7a074df33554ed9da8218f56b4">egress_if</a>;             <span class="comment">/* egress object */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__port__encap__s.html#ae8798116285e1880bff6fb64a56cf03e">valid_elements</a>;          <span class="comment">/* bitmap of valid fields */</span></div><div class="line">    <a class="code" href="group__flow.html#gaa99e896fc136e12a33cb8b06cf551ced">bcm_flow_handle_t</a> <a class="code" href="structbcm__flow__port__encap__s.html#a99f9da94d0aa320ba59c03cb8ed3a633">flow_handle</a>;  <span class="comment">/* flow handle */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> flow_option_id;          <span class="comment">/* flow option id */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__port__encap__s.html#a91b23878ac80fd9fbea2d026f99b8ad5">ip4_id</a>;                  <span class="comment">/* IPv4 ID */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flow__port__encap__s.html#aa80ebd34f00077cbc0b490d6352a8c7b">vlan_pri_map_id</a>;            <span class="comment">/* Remarking map ID for the payload VLAN priority and CFI. */</span></div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="structbcm__flow__port__encap__s.html#a6bcc367eff92bdcb4d01d11d4c848fcc">dst_port</a>;                   <span class="comment">/* Destination port / trunk. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__port__encap__s.html#a5e58912ac0b2c6af1a82763922616b45">es_id</a>;                   <span class="comment">/* Ethernet segment ID. */</span></div><div class="line">} <a class="code" href="group__flow.html#ga0704649f5c73f2664feee008d7ab7272">bcm_flow_port_encap_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow encap options</caption>
<tr>
<td>BCM_FLOW_ENCAP_OPTION_REPLACE </td><td>Replace action  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow encap flags for hardware control parameters</caption>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_SERVICE_TAGGED </td><td>SD-tag mode  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_SERVICE_VLAN_ADD </td><td>Add SD-TAG vlan  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_SERVICE_VLAN_TPID_REPLACE </td><td>Replace vlan and TPID  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_VLAN_REPLACE </td><td>Replace vlan  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_VLAN_DELETE </td><td>Delete vlan  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_VLAN_PRI_TPID_REPLACE </td><td>Replace vlan, priority and TPID  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_VLAN_PRI_REPLACE </td><td>Replace vlan and priority  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_PRI_REPLACE </td><td>Replace priority  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_TPID_REPLACE </td><td>Replace TPID  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_DROP </td><td>Drop packet  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_HIGIG3_EXTENSION_ADD </td><td>Add a HIGIG3 extension header  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_OPAQUE_TAGGED </td><td>Opaque tag mode  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_OPAQUE_TAG_REPLACE </td><td>Replace the opaque tag  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_OPAQUE_TAG_DELETE </td><td>Delete the opaque tag  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAG_OPAQUE_TAG_ADD </td><td>Add the opaque tag  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Valid element flags for flow encap function</caption>
<tr>
<td>BCM_FLOW_ENCAP_VNID_VALID </td><td>VN_ID valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_VLAN_VALID </td><td>Vlan valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLOW_PORT_VALID </td><td>Flow port valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_VPN_VALID </td><td>VPN valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_INTF_VALID </td><td>interface valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_PKT_PRI_VALID </td><td>SD-tag priority valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_PKT_CFI_VALID </td><td>SD-tag valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_TPID_VALID </td><td>SD-tag TPID valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLEX_KEY_VALID </td><td>logical key field valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLEX_DATA_VALID </td><td>logical data field valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_DVP_GROUP_VALID </td><td>DVP group ID valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_OIF_GROUP_VALID </td><td>L3 out interface group ID valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_FLAGS_VALID </td><td>flags valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_SRC_FLOW_PORT_VALID </td><td>SVP valid  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_CLASS_ID_VALID </td><td>CLASS_ID valid  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow encap Criteria</caption>
<tr>
<th>Name </th><th>Purpose  </th></tr>
<tr>
<td>BCM_FLOW_ENCAP_CRITERIA_INVALID </td><td>Invalid value  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_CRITERIA_DVP </td><td>DVP key  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_CRITERIA_VFI </td><td>VFI key  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_CRITERIA_VFI_DVP </td><td>VFI + DVP key  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_CRITERIA_VRF_MAPPING </td><td>VRF mapping key  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_CRITERIA_L3_INTF </td><td>L3 interface key  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_CRITERIA_VFI_DVP_GROUP </td><td>VFI + DVP group key  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_CRITERIA_FLEX </td><td>flex key  </td></tr>
<tr>
<td>BCM_FLOW_ENCAP_CRITERIA_SVP_DVP </td><td>SVP + DVP group key  </td></tr>
</table>
<ul>
<li>bcm_flow_encap_config_t structure.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flow__encap__config__s.html">bcm_flow_encap_config_s</a> {</div><div class="line">    <a class="code" href="group__types.html#gad0476041b742ee817043d5d0c99fc2ac">bcm_vpn_t</a> <a class="code" href="structbcm__flow__encap__config__s.html#ab4aa203386fefc77212e8a50b58d7ca5">vpn</a>;                      <span class="comment">/* VPN representing a vfi or vrf */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__encap__config__s.html#ada1d933ad91e80cfe39dffe91e6510ce">flow_port</a>;              <span class="comment">/* flow port id representing a DVP */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__flow__encap__config__s.html#aa08d802a5aa00c5e2b461a4f70af5129">intf_id</a>;                   <span class="comment">/* l3 interface id */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__encap__config__s.html#ab5a157513491d62808a6d8d589e99be2">dvp_group</a>;                   <span class="comment">/* DVP group ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__encap__config__s.html#a70201b4080af6e035f3b9153da8e11d7">oif_group</a>;                   <span class="comment">/* L3 OUT interface ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__encap__config__s.html#aa20ab9327bdbab432a6e9e2168399524">vnid</a>;                        <span class="comment">/* VN_ID. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flow__encap__config__s.html#a31af7f2fccedd540790c853adb9bc3d5">pri</a>;                          <span class="comment">/* service tag priority. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="structbcm__flow__encap__config__s.html#a00e5355c25655f1b4775f3e9bc326044">cfi</a>;                          <span class="comment">/* service tag cfi */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__encap__config__s.html#a32ad75ce30562c526f5b504fbb0187c1">tpid</a>;                        <span class="comment">/* service tag tpid */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__flow__encap__config__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;                    <span class="comment">/* service tag VLAN ID. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__encap__config__s.html#a81a01df79d8b8489e5dcd3de9c23468d">options</a>;                     <span class="comment">/* BCM_FLOW_ENCAP_OPTION_xxx. */</span></div><div class="line">    <a class="code" href="group__flow.html#ga6aa3a1dfcd77232af5ff2ac4db33a9cd">bcm_flow_encap_criteria_t</a> <a class="code" href="structbcm__flow__encap__config__s.html#aeb20c89159e07b3b3e3975e0f184e4a4">criteria</a>; <span class="comment">/* flow encap criteria. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__encap__config__s.html#ae8798116285e1880bff6fb64a56cf03e">valid_elements</a>;              <span class="comment">/* bitmap of valid fields for the encap</span></div><div class="line"><span class="comment">                                           action */</span></div><div class="line">    <a class="code" href="group__flow.html#gaa99e896fc136e12a33cb8b06cf551ced">bcm_flow_handle_t</a> <a class="code" href="structbcm__flow__encap__config__s.html#a99f9da94d0aa320ba59c03cb8ed3a633">flow_handle</a>;      <span class="comment">/* flow handle derived from flow name */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__encap__config__s.html#aeb75a4c6b2044afd2b62a42766c09d60">flow_option</a>;                 <span class="comment">/* flow option derived from flow option</span></div><div class="line"><span class="comment">                                           name */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__encap__config__s.html#a7b8208c6d433c1ea5888fee1897b1dd3">src_flow_port</a>;          <span class="comment">/* flow port id representing a SVP */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__encap__config__s.html#a32ede4d3c0e19268e9f68cb14e7b60bf">class_id</a>;                    <span class="comment">/* Class ID as a key in EFP. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__encap__config__s.html#a9540b429455998475d11e128252ccf58">port_group</a>;                  <span class="comment">/* Port group ID. */</span></div><div class="line">} <a class="code" href="group__flow.html#gab60283c5698712ee238ce18bbd132cfe">bcm_flow_encap_config_t</a>;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">typedef</span> int (*<a class="code" href="group__flow.html#gaa941db14f82ab69708d207772182ec6e">bcm_flow_encap_traverse_cb</a>)(</div><div class="line">    <span class="keywordtype">int</span> unit,</div><div class="line">    <a class="code" href="structbcm__flow__encap__config__s.html">bcm_flow_encap_config_t</a> *<a class="code" href="l3_8dox.html#a34ea06cff5e4db05f1dd7d2bd44e97bd">info</a>,</div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="l3_8dox.html#ae14523a239aee03d12249039a79c876c">num_of_fields</a>,</div><div class="line">    <a class="code" href="structbcm__flow__logical__field__s.html">bcm_flow_logical_field_t</a> *field,</div><div class="line">    <span class="keywordtype">void</span> *<a class="code" href="l3_8dox.html#afc6e325b3b8c838e0a205aa5c1ec69bd">user_data</a>);</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow Function Types</caption>
<tr>
<td>bcmFlowFuncTypeStart </td><td>Start  </td></tr>
<tr>
<td>bcmFlowFuncTypeMatch </td><td>Match  </td></tr>
<tr>
<td>bcmFlowFuncTypeEncap </td><td>Type  </td></tr>
<tr>
<td>bcmFlowFuncTypeTunnelInit </td><td>Tunnel Intiaitor  </td></tr>
<tr>
<td>bcmFlowFuncTypeTerm </td><td>Tunnel Terminator  </td></tr>
<tr>
<td>bcmFlowFuncTypeEncapSet </td><td>Encap set.  </td></tr>
<tr>
<td>bcmFlowFuncTypeL2Switch </td><td>L2 Switch  </td></tr>
<tr>
<td>bcmFlowFuncTypeL3Host </td><td>L3 Host  </td></tr>
<tr>
<td>bcmFlowFuncTypeL3Route </td><td>L3 Route  </td></tr>
<tr>
<td>bcmFlowFuncTypeEgressObj </td><td>Egress Object  </td></tr>
<tr>
<td>bcmFlowFuncTypeEgressLabel </td><td>Egress Label  </td></tr>
<tr>
<td>bcmFlowFuncTypeEgressIntf </td><td>Egress Intf  </td></tr>
<tr>
<td>bcmFlowFuncTypeEnd </td><td>End  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Valid element flags for Flow stat - Flex counters</caption>
<tr>
<td>BCM_FLOW_STAT_FLOW_PORT_VALID </td><td>Flow port valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_PORT_VALID </td><td>port valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_VPN_VALID </td><td>VPN valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_INNER_VLAN_VALID </td><td>Inner vlan valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_VLAN_VALID </td><td>Vlan valid valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_VNID_VALID </td><td>VNID valid valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_SIP_VALID </td><td>source IPv4 address valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_DIP_VALID </td><td>Destination IPv4 address valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_SIP_MASK_VALID </td><td>Source IPv4 address mask valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_DIP_MASK_VALID </td><td>Destination IPv4 address mask valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_SIP6_VALID </td><td>Source IPv6 address valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_DIP6_VALID </td><td>Destination IPv6 address valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_SIP6_MASK_VALID </td><td>Source IPv6 address mask valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_SIP6_MASK_VALID </td><td>Destination IPv6 address mask valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_UDP_SRC_PORT_VALID </td><td>UDP Source port valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_UDP_DST_PORT_VALID </td><td>UDP Destination port valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_PROTOCOL_VALID </td><td>Protocol valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_TUNNEL_ID_VALID </td><td>Tunnel ID valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_EGRESS_IF_VALID </td><td>Egress nexthop object index valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_INTF_ID_VALID </td><td>L3 interface id valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_MAC_VALID </td><td>L2 MAC address valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_L3A_FLAGS_VALID </td><td>BCM_L3_xxx flag valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_L3A_VRF_VALID </td><td>Virtual router valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_L3A_IP_ADDR_VALID </td><td>IPv4 address or subnet valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_L3A_IP_MASK_VALID </td><td>IPv4 address or subnet mask valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_L3A_IP6_ADDR_VALID </td><td>IPv6 address or subnet valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_L3A_IP6_MASK_VALID </td><td>IPv6 address or subnet mask valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_DVP_GROUP_VALID </td><td>DVP group ID valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_OIF_GROUP_VALID </td><td>L3 Out Interface Group ID valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_MPLS_LABEL_VALID </td><td>Mpls Label valid  </td></tr>
<tr>
<td>BCM_FLOW_STAT_FLEX_KEY_VALID </td><td>Flex Key valid  </td></tr>
</table>
<ul>
<li>bcm_flow_stat_info_t structure.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbcm__flow__stat__info__s.html">bcm_flow_stat_info_s</a> {</div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#ada1d933ad91e80cfe39dffe91e6510ce">flow_port</a>;              <span class="comment">/* Flow port */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a56da6f3a91f2f6d38953ef7c66fa78b2">port</a>;                   <span class="comment">/* Match port /trunk */</span></div><div class="line">    <a class="code" href="group__types.html#gad0476041b742ee817043d5d0c99fc2ac">bcm_vpn_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#ab4aa203386fefc77212e8a50b58d7ca5">vpn</a>;                      <span class="comment">/* VPN representing a vfi or vrf */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#ac5b308fe14378b1d0a6ad9aba29bbded">inner_vlan</a>;              <span class="comment">/* Inner VLAN ID to match. */</span></div><div class="line">    <a class="code" href="group__types.html#ga206cad73150c7e799b9a1cd4ebe13465">bcm_vlan_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#ab90165cd927a9ab4ab1e613e95852ade">vlan</a>;                    <span class="comment">/* VLAN ID to match. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__stat__info__s.html#aa20ab9327bdbab432a6e9e2168399524">vnid</a>;                        <span class="comment">/* VN_ID. */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#acee6e61559ffe678bc7bee506ba9f595">sip</a>;                       <span class="comment">/* source IPv4 address */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a72576020cbd42b08debe20ce8d478261">dip</a>;                       <span class="comment">/* destination IPv4 address */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a02da5847e0921ccdb7d7c4a6866ccd50">sip_mask</a>;                  <span class="comment">/* source IPv4 address mask */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#aba02c38a2cd73535fa53edfedc6532c3">dip_mask</a>;                  <span class="comment">/* destination IPv4 address mask */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a8e328b6303dd4f97f83e0900346575de">sip6</a>;                     <span class="comment">/* source IPv6 address */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#ae8fe5193bc4e5013c8183d7d8d09bc74">dip6</a>;                     <span class="comment">/* destination IPv6 address */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a320413061e483655a0f5dfcd9ff2c160">sip6_mask</a>;                <span class="comment">/* source IPv6 address mask */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#aed9f436b96212530971c53c0f93caa5e">dip6_mask</a>;                <span class="comment">/* destination IPv6 address mask */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__stat__info__s.html#a5aeb16066884baecd9b18fac7be10c92">udp_src_port</a>;                <span class="comment">/* udp source port. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__stat__info__s.html#a36e2b1075a56c6c23ec5555b27bff470">udp_dst_port</a>;                <span class="comment">/* udp destination port. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="structbcm__flow__stat__info__s.html#a334efb64687cc105f6192712f0414df1">protocol</a>;                    <span class="comment">/* IP protocol type. */</span></div><div class="line">    <a class="code" href="group__types.html#gac5f933aaac05c65b2a78ad8a04316994">bcm_gport_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a5a96766f0392a925142d225830a597fa">tunnel_id</a>;              <span class="comment">/* Tunnel ID */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#abb332a7a074df33554ed9da8218f56b4">egress_if</a>;                 <span class="comment">/* egress object */</span></div><div class="line">    <a class="code" href="group__types.html#ga30e6e81bfad0b18e55d3a1c8148fd75d">bcm_if_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#aa08d802a5aa00c5e2b461a4f70af5129">intf_id</a>;                   <span class="comment">/* l3 interface id */</span></div><div class="line">    <a class="code" href="group__types.html#ga4ccf23ca53e7e7e9a7be38b950aa7943">bcm_mac_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a741f0f5b72838cbc381590a7b4651d67">mac</a>;                      <span class="comment">/* 802.3 MAC address. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__stat__info__s.html#ab8583c7eb0fff0be9d1e60cd0424198c">l3a_flags</a>;                   <span class="comment">/* See BCM_L3_xxx flag definitions. */</span></div><div class="line">    <a class="code" href="group__types.html#ga75bff066bcf4665db211170f0f49e58e">bcm_vrf_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a4b355a1e61bb5ad21f5bb8e9f742f743">l3a_vrf</a>;                  <span class="comment">/* Virtual router instance. */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="l3_8dox.html#a03447d5a7d0d0a8f75622458d2f52b8f">l3a_ip_addr</a>;               <span class="comment">/* IP address or  subnet address (IPv4). */</span></div><div class="line">    <a class="code" href="group__types.html#gafb45fd06727fa45d83ce6f5e4c328378">bcm_ip_t</a> <a class="code" href="l3_8dox.html#a488f28c56f70bd4252d6426f1f9b2bea">l3a_ip_mask</a>;               <span class="comment">/* IP subnet mask (IPv4). */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="l3_8dox.html#ac104b1422c13a8eda73ceb9ddb4ce493">l3a_ip6_addr</a>;             <span class="comment">/* IP address or subnet address (IPv6). */</span></div><div class="line">    <a class="code" href="group__types.html#ga40bc5eab76a137a39d5fff98d823094a">bcm_ip6_t</a> <a class="code" href="l3_8dox.html#a5320d7e588baa4481327a8c2b821d67f">l3a_ip6_mask</a>;             <span class="comment">/* IP subnet mask (IPv6). */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__stat__info__s.html#a70201b4080af6e035f3b9153da8e11d7">oif_group</a>;                   <span class="comment">/* L3 OUT interface group ID */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__stat__info__s.html#ab5a157513491d62808a6d8d589e99be2">dvp_group</a>;                   <span class="comment">/* DVP group ID */</span></div><div class="line">    <a class="code" href="group__flow.html#ga72b17caad138fec879b02290ecfc9cfc">bcm_flow_match_criteria_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a6569abd1528ed3b83f0254a116a645ed">match_criteria</a>; <span class="comment">/* flow match criteria. */</span></div><div class="line">    <a class="code" href="group__flow.html#ga6aa3a1dfcd77232af5ff2ac4db33a9cd">bcm_flow_encap_criteria_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#ab24c95c669da81929eb88e246eda9c83">encap_criteria</a>; <span class="comment">/* flow encap criteria. */</span></div><div class="line">    <a class="code" href="group__types.html#ga7f4890ec7a6446a0a6c0cb66ed180627">bcm_mpls_label_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#a26b347ee713e5fd770bdaeff8d3b5824">mpls_label</a>;        <span class="comment">/* MPLS label. */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__stat__info__s.html#ae8798116285e1880bff6fb64a56cf03e">valid_elements</a>;              <span class="comment">/* bitmap of valid fields */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__stat__info__s.html#ad88714fd31aaffbe3d7ec5ef11953eb4">flow_handle</a>;                 <span class="comment">/* flow handle derived from flow name */</span></div><div class="line">    <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="structbcm__flow__stat__info__s.html#aeb75a4c6b2044afd2b62a42766c09d60">flow_option</a>;                 <span class="comment">/* flow option derived from flow option</span></div><div class="line"><span class="comment">                                           name */</span></div><div class="line">    <a class="code" href="group__flow.html#ga2284a40f2aed4a43947154fdaea5e64c">bcm_flow_function_type_t</a> <a class="code" href="structbcm__flow__stat__info__s.html#ac908d00c5513f6d21a304ab3426d3eca">function_type</a>; <span class="comment">/* flow function type */</span></div><div class="line">} <a class="code" href="group__flow.html#ga7e4b4883fff728032bacab19090dca53">bcm_flow_stat_info_t</a>;</div></div><!-- fragment --><a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow name in Trident4</caption>
<tr>
<td>CLASSIC_VXLAN </td><td>Virtual Extensible LAN With IPv4 As Underlay  </td></tr>
<tr>
<td>VXLAN </td><td>Virtual Extensible LAN With IPv6 As Underlay  </td></tr>
<tr>
<td>INT </td><td>In-band Network Telemetry  </td></tr>
</table>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Flow option name in Trident4</caption>
<tr>
<td>LOOKUP_VNID_ASSIGN_VFI </td><td>VXLAN MATCH  </td></tr>
<tr>
<td>LOOKUP_IPV6_SIP_ASSIGN_SVP </td><td>VXLAN MATCH  </td></tr>
<tr>
<td>LOOKUP_DVP_VFI_ASSIGN_VNID </td><td>VXLAN MATCH  </td></tr>
<tr>
<td>LOOKUP_VFI_ASSIGN_VNID </td><td>VXLAN ENCAP  </td></tr>
<tr>
<td>ASSIGN_DEVICE_ID_TEMPLATE_ID </td><td>INT ENCAP  </td></tr>
<tr>
<td>IPV6_EVXLT_KEY_TYPE_VFI </td><td>VXLAN ENCAP_SET  </td></tr>
<tr>
<td>IPV6 </td><td>VXLAN TUNNNEL_INITIATOR  </td></tr>
<tr>
<td>IPV6_FLOW_LABEL_USE_ENTROPY </td><td>VXLAN TUNNNEL_INITIATOR  </td></tr>
<tr>
<td>LOOKUP_IPV6_DIP_TERM_TUNNEL </td><td>VXLAN TUNNNEL_TERMINATOR  </td></tr>
</table>
<p>Flow options are keep in Trident 4 mainly to make the API sequence same as before and ignored silently internally. Exception as following:</p><ul>
<li>IPV6_FLOW_LABEL_USE_ENTROPY is used to choose flow label generation method.</li>
</ul>
<a class="anchor" id=""></a>
<table class="doxtable">
<caption>Logical field name in Trident4</caption>
<tr>
<td>DEVICE_ID </td><td>Device ID in ASSIGN_DEVICE_ID_TEMPLATE_ID  </td></tr>
<tr>
<td>TEMPLATE_ID </td><td>Template ID in ASSIGN_DEVICE_ID_TEMPLATE_ID  </td></tr>
</table>
<h1><a class="anchor" id="flow_apis"></a>
Flow APIs</h1>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga3e9a6343efce563462849c7a72c5bde3" title="Initialize bcm_flow_logical_field_t structure.">bcm_flow_logical_field_t_init(bcm_flow_logical_field_t* logical_field)</a>  </td><td>Initialize bcm_flow_logical_field_t structure.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga676f98c87322c96c750b33075bddcb9b" title="Initialize the BCM FOW subsystem.">bcm_flow_init(int unit)</a>  </td><td>Initialize the BCM FOW subsystem.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaa7cecc2e3c2fb176f392867382584694" title="Detach the BCM FLOW subsystem.">bcm_flow_cleanup(int unit)</a>  </td><td>Detach the BCM FLOW subsystem.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga5bca792f2ab3bc020d8e2fbe1aa90140" title="Initialize FLOW VPN config structure.">bcm_flow_vpn_config_t_init(bcm_flow_vpn_config_t* info)</a>  </td><td>Initialize FLOW VPN config structure.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaa8507dabfcc0a3a863880bc674ff224f" title="Create or update FLOW VPN. The FLOW VPN provides a forwarding domain between FLOW ports,...">bcm_flow_vpn_create(int unit, bcm_vpn_t* vpn, bcm_flow_vpn_config_t* info)</a>  </td><td><p class="starttd">Create or update FLOW VPN. The FLOW VPN provides a forwarding domain between FLOW ports, independent of a FLOW port's transport protocol.</p>
<p class="endtd">Use BCM_FLOW_VPN_REPLACE to update an existing FLOW_VPN.   </p>
</td></tr>
<tr>
<td><a class="el" href="group__flow.html#gadfcc241d446f4e0beb8c936c51542b77" title="Destroy FLOW VPN.">bcm_flow_vpn_destroy(int unit, bcm_vpn_t vpn)</a>  </td><td>Destroy FLOW VPN.   </td></tr>
<tr>
<td><a class="el" href="group__flow.html#ga6f9f1b1db51f4de2c4e7eefda22ffc50" title="Destroy FLOW VPN.">bcm_flow_vpn_destroy_all(int unit)</a>  </td><td>Destroy FLOW VPN.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga2d45113677f098c0883fca807e66d1a7" title="Get FLOW VPN.">bcm_flow_vpn_get(int unit, bcm_vpn_t vpn, bcm_flow_vpn_config_t* info)</a>  </td><td>Get FLOW VPN.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga8771be3a1f3994f13d5ac1a1f7675ed6" title="Traverse all valid FLOW VPN entries and call the supplied callback routine.">bcm_flow_vpn_traverse(int unit, bcm_flow_vpn_traverse_cb cb, void* user_data)</a>  </td><td>Traverse all valid FLOW VPN entries and call the supplied callback routine.   </td></tr>
<tr>
<td><a class="el" href="group__flow.html#ga4e6089ce56c40077f4d818ced77aab36" title="Initialize the bcm_flow_port_t structure.">bcm_flow_port_t_init(bcm_flow_port_t* flow_port)</a>  </td><td>Initialize the bcm_flow_port_t structure   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga971cee647e5e9271ff86222813966566" title="Create a flow port bcm_flow_port_create creates an Access or Network FLOW port.">bcm_flow_port_create(int unit, bcm_vpn_t vpn, bcm_flow_port_t* flow_port)</a>  </td><td>Create a flow port bcm_flow_port_create creates an Access or Network FLOW port   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaa85aa1da3ef0e8763bb37add97349892" title="bcm_flow_port_destroy FLOW port from FLOW network.">bcm_flow_port_destroy(int unit, bcm_vpn_t vpn, bcm_gport_t flow_port)</a>  </td><td>bcm_flow_port_destroy FLOW port from FLOW network.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gab92d45e8dc05a2595464eab659ca43dd" title="Get FLOW port information.">bcm_flow_port_get(int unit, bcm_vpn_t vpn, bcm_flow_port_t* flow_port)</a>  </td><td>Get FLOW port information.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga20f0bdb82e429b2981efcb3b97731709" title="Get all FLOW port information.">bcm_flow_port_get_all(int unit, bcm_vpn_t vpn, int port_max, bcm_flow_port_t* flow_port, int* port_count)</a>  </td><td>Get all FLOW port information.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_flow_match_t_init()  </td><td>Initialize flow match config structure.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga4394315b44e3ba42fdfcf3a24def196d" title="Add a match entry to assign switch objects for the matched packets.">bcm_flow_match_add(int unit, bcm_flow_match_config_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Add a match entry to assign switch objects for the matched packets   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gab97481d5884a27ebb620f3c3608a8c33" title="Delete a match entry for the given matching key.">bcm_flow_match_delete(int unit, bcm_flow_match_config_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Delete a match entry for the given matching key   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga6120f9dc9d80c13f2fc26cd3ba775d30" title="Get a match entry for the given matching key.">bcm_flow_match_get(int unit, bcm_flow_match_config_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Get a match entry for the given matching key   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga2f875f5a1eb5bfd48a71326344f8b68f" title="Traverse match entries.">bcm_flow_match_traverse(int unit, bcm_flow_match_traverse_cb cb, void* user_data)</a>  </td><td>Traverse match entries   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga6b5d6e9914c89a3c59048d650c363925" title="Initialize bcm_flow_tunnel_initiator_t structure.">bcm_flow_tunnel_initiator_t_init(bcm_flow_tunnel_initiator_t* info)</a>  </td><td>Initialize bcm_flow_tunnel_initiator_t structure.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga79be0dda1400ed61f08e3995a6a8036f" title="Create a flow tunnel initiator object.">bcm_flow_tunnel_initiator_create(int unit, bcm_flow_tunnel_initiator_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Create a flow tunnel initiator object   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga3a5a237fc278c7012dd5289cd481adb4" title="Delete the flow tunnel initiator object.">bcm_flow_tunnel_initiator_destroy(int unit, bcm_gport_t flow_tunnel_id)</a>  </td><td>Delete the flow tunnel initiator object   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gafb9ee12b433d6d13a5cf17c765b1bdb8" title="Get the flow tunnel initiator object.">bcm_flow_tunnel_initiator_get(int unit, bcm_flow_tunnel_initiator_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Get the flow tunnel initiator object   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaaef7666194a0f17dfc5de0c814ae0637" title="Traverse tunnel initiator entries.">bcm_flow_tunnel_initiator_traverse(int unit, bcm_flow_tunnel_initiator_traverse_cb cb, void* user_data)</a>  </td><td>Traverse tunnel initiator entries   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gabb3fb16423d1ea96ab03e972f1ee9b8a" title="Initialize bcm_flow_tunnel_terminator_t structure.">bcm_flow_tunnel_terminator_t_init(bcm_flow_tunnel_terminator_t* info)</a>  </td><td>Initialize bcm_flow_tunnel_terminator_t structure.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaeef2de60d395075725a536bed2ca667b" title="Create a flow tunnel terminator object.">bcm_flow_tunnel_terminator_create(int unit, bcm_flow_tunnel_terminator_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Create a flow tunnel terminator object.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaa665fe44e3cac646668808d313d500e4" title="Delete a flow tunnel terminator object.">bcm_flow_tunnel_terminator_destroy(int unit, bcm_flow_tunnel_terminator_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Delete a flow tunnel terminator object.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga5aceb64146a265066fb74bddb1798269" title="Get the flow tunnel terminator object.">bcm_flow_tunnel_terminator_get(int unit, bcm_flow_tunnel_terminator_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Get the flow tunnel terminator object.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaec81881b86dbbe809069b7ed07fd98eb" title="Traverse tunnel terminator entries.">bcm_flow_tunnel_terminator_traverse(int unit, bcm_flow_tunnel_terminator_traverse_cb cb, void* user_data)</a>  </td><td>Traverse tunnel terminator entries   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gad32977c8bd506a860da3beaad159ddb9" title="Initialize the bcm_flow_port_encap_t configuration structure.">bcm_flow_port_encap_t_init(bcm_flow_port_encap_t* info)</a>  </td><td>Initialize the bcm_flow_port_encap_t configuration structure   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaede3a6c9df0f103805b709ca75dbddf0" title="Set the L2 tunnel encapsulation parameters for the given flow_port.">bcm_flow_port_encap_set(int unit, bcm_flow_port_encap_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Set the L2 tunnel encapsulation parameters for the given flow_port   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga7fe1b60b82498995721b3dc36477b0ea" title="Get the encapsulation configuration parameters.">bcm_flow_port_encap_get(int unit, bcm_flow_port_encap_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Get the encapsulation configuration parameters   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_flow_encap_t_init()  </td><td>Initialize the bcm_flow_encap_config_t structure   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga347a18f90992e6b32c7f2af6e6bec23e" title="Add a flow encap entry for L2 tunnel or L3 tunnel.">bcm_flow_encap_add(int unit, bcm_flow_encap_config_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Add a flow encap entry for L2 tunnel or L3 tunnel.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaee95d90ac0d5f2b7aaf3837cd1f4e237" title="Delete a flow encap entry based on the given key.">bcm_flow_encap_delete(int unit, bcm_flow_encap_config_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Delete a flow encap entry based on the given key.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga9c49a55d4b6bb2dffcf31794ae9c69f3" title="Get a flow encap entry based on the given key.">bcm_flow_encap_get(int unit, bcm_flow_encap_config_t* info, uint32 num_of_fields, bcm_flow_logical_field_t* field)</a>  </td><td>Get a flow encap entry based on the given key.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga4fd19dee014649a2f00511cddfe56228" title="Traverse encap entries.">bcm_flow_encap_traverse(int unit, bcm_flow_encap_traverse_cb cb, void* user_data)</a>  </td><td>Traverse encap entries   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_flow_handle_get(int unit, constchar* flow_name, bcm_flow_handle_t* handle)  </td><td>Get a handle for a given flow name string.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_flow_option_id_get(int unit, bcm_flow_handle_t flow_handle, constchar* flow_option_name, bcm_flow_option_id_t* option_id)  </td><td>Get a flow option ID for a given flow handle and flow option name.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga652f0b52705235a1fdbbd609e217d64f" title="Get the field id for logical field name in a flow.">bcm_flow_logical_field_id_get()</a>  </td><td>Get a logical field ID for a given flow handle and logical field name.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga9f1b93c57ae38d98845d06680e70fb61" title="Initialize flow stat info structure.">bcm_flow_stat_info_t_init(bcm_flow_stat_info_t* flow_stat_info)</a>  </td><td>Initialize flow stat info structure.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga0aa4515e21dc0fbb13dfca09f6f261ea" title="Get the stat object for the flex view of flexible table.">bcm_flow_stat_object_get(int unit, bcm_flow_handle_t flow_handle, bcm_flow_option_id_t flow_option_id, bcm_flow_function_type_t function_type, bcm_stat_object_t* stat_object)</a>  </td><td>Get the stat object for the flex view of flexible table.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga75437c6d82eccd2162e96f8bca669c6e" title="Attach counter for an entry.">bcm_flow_stat_attach(int unit, bcm_flow_stat_info_t* flow_stat_info, uint32 num_of_fields, bcm_flow_logical_field_t* field, uint32 stat_counter_id)</a>  </td><td>Attach counter for an entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_flow_stat_detach.()  </td><td>Detach counter for an entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gac58ac7333b647e46fa798d29b067dee4" title="Get Stat Counter id for flow tables.">bcm_flow_stat_id_get(int unit, bcm_flow_stat_info_t* flow_stat_info, uint32 num_of_fields, bcm_flow_logical_field_t* field, bcm_stat_object_t stat_object, uint32* stat_counter_id)</a>  </td><td>Get Stat Counter id for flow tables.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gacdcb735e03c4f0c707efabedf586fd6c" title="Get the filter status for the given ethernet segment identifier.">bcm_flow_es_filter_get(int unit, bcm_gport_t flow_port_id, uint32 es_id, uint32 *flags)</a>  </td><td>Get the filter status for the given ethernet segment identifier.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga67d610687d4616a1badb7391b5154cf3" title="Specify the filter control for the given ethernet segment identifier.">bcm_flow_es_filter_set(int unit, bcm_gport_t flow_port_id, uint32  es_id, uint32  flags)</a>  </td><td>Specify the filter control for the given ethernet segment identifier.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga87d4e6ad24e5fab0d7cbecc6c90779e7" title="Set the flex counter object value to the ethernet segment filter.">bcm_flow_es_filter_flexctr_object_set(int unit, bcm_gport_t flow_port_id, uint32 value)</a>  </td><td>Set the flex counter object value to the ethernet segment filter.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga49b801081a0763bf3ad44ed4730536bf" title="Get the flex counter object value from the ethernet segment filter.">bcm_flow_es_filter_flexctr_object_get(int unit, bcm_gport_t flow_port_id, uint32 *value)</a>  </td><td>Get the flex counter object value from the ethernet segment filter.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga0bea07c69b89cf4b275d6c46e4756290" title="Attach counter entries to the ethernet segment filter.">bcm_flow_es_filter_stat_attach(int unit, bcm_gport_t flow_port_id, uint32 stat_counter_id)</a>  </td><td>Attach counter entries to the ethernet segment filter.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td>bcm_port_es_filter_stat_detach(int unit, bcm_gport_t flow_port_id, uint32 stat_counter_id)  </td><td>Detach counter entries from the ethernet segment filter.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaa7a4a491ce97a106bba62e1b9f3da4d8" title="Get stat counter id associated from ethernet segment filter.">bcm_flow_es_filter_stat_id_get(int unit, bcm_gport_t flow_port_id, uint32 *stat_counter_id)</a>  </td><td>Get stat counter id associated from ethernet segment filter.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga6788b3a137284f8c8ff317ae78936a49" title="Attach counter entries to the given flow VPN.">bcm_flow_vpn_stat_attach(int unit, bcm_vpn_t vpn, uint32 stat_counter_id)</a>  </td><td>Attach counter entries to the given flow VPN.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga07890a3c752e70059483eb4f432308bb" title="Detach counter entries from the given flow VPN.">bcm_flow_vpn_stat_detach(int unit, bcm_vpn_t vpn, uint32 stat_counter_id)</a>  </td><td>Detach counter entries from the given flow VPN.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga393fcc4a1d563c5c9aa7a85bf6648cee" title="Get stat counter ID associated to the given flow VPN.">bcm_flow_vpn_stat_id_get(int unit, bcm_vpn_t vpn, bcm_flexctr_direction_t direction, uint32 *stat_counter_id)</a>  </td><td>Get stat counter ID associated to the given flow VPN.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gacdd972645525c08b07bba2c53e46a304" title="Attach counter entries to the given flow port.">bcm_flow_port_stat_attach(int unit, bcm_gport_t flow_port_id, uint32 stat_counter_id)</a>  </td><td>Attach counter entries to the given FLOW port.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gae3aa38b8f998a0a265de5e479e55fe90" title="Detach counter entries from the given flow port.">bcm_flow_port_stat_detach(int unit, bcm_gport_t flow_port_id, uint32 stat_counter_id)</a>;  </td><td>Detach counter entries from the given FLOW port.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gade668e554ac593cdb34cad6e983ec21a" title="Get stat counter ID associated to the given flow port.">bcm_flow_port_stat_id_get(int unit, bcm_gport_t flow_port_id, bcm_flexctr_direction_t direction, uint32 *stat_counter_id)</a>  </td><td>Get stat counter ID associated to the given FLOW port.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gad98239662993770c7d1c3efa3419e89a" title="Attach counter entries to the given match entry.">bcm_flow_match_stat_attach(int unit, bcm_flow_match_config_t *info, uint32 num_of_fields, bcm_flow_logical_field_t *field, uint32 stat_counter_id)</a>  </td><td>Attach counter entries to the given match entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga938088251c50c065c77a50ac3fee6c83" title="Detach counter entries from the given match entry.">bcm_flow_match_stat_detach(int unit, bcm_flow_match_config_t *info, uint32 num_of_fields, bcm_flow_logical_field_t *field, uint32 stat_counter_id)</a>  </td><td>Detach counter entries from the given match entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga576cff9ee593b0eaeb540dbc1db12ec5" title="Get stat counter ID associated to the given match entry.">bcm_flow_match_stat_id_get(int unit, bcm_flow_match_config_t *info, uint32 num_of_fields, bcm_flow_logical_field_t *field, uint32 *stat_counter_id)</a>  </td><td>Get stat counter ID associated to the given match entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga6a0f32c6648473d58fb47a883e24afca" title="Set the flex counter object value to the given match entry.">bcm_flow_match_flexctr_object_set(int unit, bcm_flow_match_config_t *info, uint32 value)</a>  </td><td>Set the flex counter object value to the given match entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaed7f27e3ed5763f3d269b33bf2cbd042" title="Get the flex counter object value from the given match entry.">bcm_flow_match_flexctr_object_get(int unit, bcm_flow_match_config_t *info, uint32 *value)</a>  </td><td>Get the flex counter object value from the given match entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gae0c6134ed80cb24440c60d08f41769c2" title="Attach counter entries to the encap entry.">bcm_flow_encap_stat_attach(int unit, bcm_flow_encap_config_t *info, uint32 num_of_fields, bcm_flow_logical_field_t *field, uint32 stat_counter_id)</a>  </td><td>Attach counter entries to the encap entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga29bd795431b094bb0013665aedb71ac1" title="Detach the counter entries from the encap entry.">bcm_flow_encap_stat_detach(int unit, bcm_flow_encap_config_t *info, uint32 num_of_fields, bcm_flow_logical_field_t *field, uint32 stat_counter_id)</a>  </td><td>Detach the counter entries from the encap entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gaa946c7b75b1f7aa38d759084df4d2c08" title="Get stat counter ID associated to the encap entry.">bcm_flow_encap_stat_id_get(int unit, bcm_flow_encap_config_t *info, uint32 num_of_fields, bcm_flow_logical_field_t *field, uint32 *stat_counter_id)</a>  </td><td>Get stat counter ID associated to the encap entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga3de99907830ef78ced061766dae48fcc" title="Set the flex counter object value to the encap entry.">bcm_flow_encap_flexctr_object_set(int unit, bcm_flow_encap_config_t *info, uint32 stat_counter_id)</a>  </td><td>Set the flex counter object value to the encap entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga01d6000074981f40fd9166e4ea33edc3" title="Get the flex counter object value from the encap entry.">bcm_flow_encap_flexctr_object_get(int unit, bcm_flow_encap_config_t *info, uint32 *stat_counter_id)</a>  </td><td>Get the flex counter object value from the encap entry.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga2ad1f0a03fd779dacaa8c55d038ed786" title="Attach counter entries to the flow tunnel initiator.">bcm_flow_tunnel_initiator_stat_attach(int unit, bcm_gport_t tunnel_id, uint32 stat_counter_id)</a>  </td><td>Attach counter entries to the flow tunnel initiator.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga4ffc6dbe6af0d224ff6889c707b525d9" title="Detach counter entries from the flow tunnel initiator.">bcm_flow_tunnel_initiator_stat_detach(int unit, bcm_gport_t tunnel_id, uint32 stat_counter_id)</a>  </td><td>Detach counter entries from the flow tunnel initiator.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga26035e0a6f8fbbaec49cf9f64b5ccb94" title="Get stat counter ID associated to the flow tunnel initiator.">bcm_flow_tunnel_initiator_stat_id_get(int unit, bcm_gport_t tunnel_id, uint32 *stat_counter_id)</a>  </td><td>Get stat counter ID associated to the flow tunnel initiator.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gabab571e1b45a50ad1992f1f32fe2f026" title="Attach counter entries to the flow tunnel terminator object.">bcm_flow_tunnel_terminator_stat_attach(int unit, bcm_flow_tunnel_terminator_t *info, uint32 num_of_fields, bcm_flow_logical_field_t *field, uint32 stat_counter_id)</a>  </td><td>Attach counter entries to the flow tunnel terminator object.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gae566e3eb5275d6e9424f4712b1c585e0" title="Detach counter entries from the flow tunnel terminator object.">bcm_flow_tunnel_terminator_stat_detach(int unit, bcm_flow_tunnel_terminator_t *info, uint32 num_of_fields, bcm_flow_logical_field_t *field, uint32 stat_counter_id)</a>  </td><td>Detach counter entries from the flow tunnel terminator object.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga4b514c7a967533f97d15cea5eec036a0" title="Get stat counter ID associated to the flow tunnel terminator object.">bcm_flow_tunnel_terminator_stat_id_get(int unit, bcm_flow_tunnel_terminator_t *info, uint32 num_of_fields, bcm_flow_logical_field_t *field, uint32 *stat_counter_id)</a>  </td><td>Get stat counter ID associated to the flow tunnel terminator object.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#gac809b28c1c1b2ffee475c50573619a01" title="Set the flex counter object value to the flow tunnel terminator object.">bcm_flow_tunnel_terminator_flexctr_object_set(int unit, bcm_flow_tunnel_terminator_t *info, uint32 value)</a>  </td><td>Set the flex counter object value to the flow tunnel terminator object.   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>API </th><th>Brief  </th></tr>
<tr>
<td><a class="el" href="group__flow.html#ga3128acf4922ce5058850d3e429bc19ac" title="Get the flex counter object value from the flow tunnel terminator object.">bcm_flow_tunnel_terminator_flexctr_object_get(int unit, bcm_flow_tunnel_terminator_t *info, uint32 *value)</a>  </td><td>Get the flex counter object value from the flow tunnel terminator object.   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="footer-brcm-wrapper">
<table class="footer-brcm">
	<tbody><tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align="left"></td>
		<td class="footer-brcm"><small><b>Proprietary and Confidential &copy; 2020 Broadcom</b></small>
			<div class="footer-brcm">Broadcom Incorporated reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Incorporated is believed to be accurate and reliable. However, Broadcom Incorporated does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others.
			</div>
		</td>
	</tr>
</tbody></table>
</div>
</body>
</html>
