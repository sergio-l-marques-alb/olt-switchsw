<?xml version="1.0" encoding="UTF-8"?>

<!--
    ******************************************************
    DBAL Hard-Logic Logical Tables:
    This xml contains the hard-logic logical DB for the DBAL.
    The data is loaded to the device during init process
    ******************************************************

    DB Rules:
    *********
-->

<AppDbCatalog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../hard_logic_schema.xsd">

    <AppDB Name="FIELD_PMF_A_KEY_SELECT_N_FEM_PROG">
        <OneLineDescription>This table determines the key-select plus 16 FEMs given PMF program</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="FIELD_PMF_CTX_ID"/>
                <Field Name="FIELD_FEM_ID"/>
            </Key>
            <Result>
                <Field Name="FIELD_PMF_A_FEM_KEY_SELECT"/>
                <Field Name="FIELD_FEM_PGM_ID"/>
                <Field Name="FIELD_FEM_REPLACE_LSB_FLAG"/>
                <Field Name="FIELD_FEM_REPLACE_LSB_SELECT"/>
            </Result>
            <TableLabels>FIELD</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="FIELD_FEM_PGM_ID">
                    <Access>
                        <Memory Name="IPPC_PMF_FEM_PROGRAMm">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/> 
                            <DataOffset Formula="13*FIELD_FEM_ID"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_PMF_A_FEM_KEY_SELECT">
                    <Access>
                        <Memory Name="IPPC_PMF_FEM_PROGRAMm">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/> 
                            <DataOffset Formula="13*FIELD_FEM_ID+2"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_REPLACE_LSB_FLAG">
                    <Access>
                        <Memory Name="IPPC_PMF_FEM_PROGRAMm">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/> 
                            <DataOffset Formula="13*FIELD_FEM_ID+9"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_REPLACE_LSB_SELECT">
                    <Access>
                        <Memory Name="IPPC_PMF_FEM_PROGRAMm">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/> 
                            <DataOffset Formula="13*FIELD_FEM_ID+10"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="FIELD_PMF_A_FEM_CONDITION_MS_BIT">
        <OneLineDescription>This table holds the 4bits to be taken from the key, which are used to address MapIndexTable</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="FIELD_FEM_ID"/>
                <Field Name="FIELD_FEM_PGM_ID"/>
            </Key>
            <Result>
                <Field Name="FIELD_FEM_CONDITION_MS_BIT" MinValue="DNX_DATA.field.stage.stage_info.fem_condition_ms_bit_min_value(DNX_FIELD_STAGE_IPMF1)"/>
            </Result>
            <TableLabels>FIELD</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="FIELD_FEM_CONDITION_MS_BIT">
                    <Access>
                        <Memory Name="IPPC_FEM_BIT_SELECTm">
                            <ArrayOffset Formula="FIELD_FEM_ID"/> 
                            <EntryOffset Formula="FIELD_FEM_PGM_ID"/> 
                            <HwField Name="BIT_SELECTf"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="FIELD_PMF_A_FEM_MAP_INDEX">
        <OneLineDescription>Table holding FEM's (mapData, mapIndex, Action-valid). Key is (FEM id (4), FEM_PGM (2), KEY_SELECTED_BITS ('condition') (4)) which is used to access Fem[0..15]MapIndexTable</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="FIELD_FEM_PGM_ID"/>
                <!-- These are the four bits that are extracted from the 'key select' (which is, itself, constructed,  -->
                <!-- for direct extraction, from qualifiers. Depending on 'condition', we select 'action via selection -->
                <!-- of FIELD_FEM_MAP_INDEX.                                                                           -->
                <Field Name="FIELD_FEM_CONDITION"/>
                <Field Name="FIELD_FEM_ID"/>
            </Key>
            <Result>
                <Field Name="FIELD_FEM_ACTION_VALID"/>
                <Field Name="FIELD_FEM_MAP_INDEX"/>
                <Field Name="FIELD_FEM_MAP_DATA"/>
            </Result>
            <TableLabels>FIELD</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="FIELD_FEM_ACTION_VALID">
                    <Access>
                        <Memory Name="IPPC_FEM_MAP_INDEX_TABLEm">
                            <ArrayOffset Formula="FIELD_FEM_ID"/> 
                            <EntryOffset Formula="FIELD_FEM_CONDITION+16*FIELD_FEM_PGM_ID"/> 
                            <HwField Name="VALIDf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_MAP_INDEX">
                    <Access>
                        <Memory Name="IPPC_FEM_MAP_INDEX_TABLEm">
                            <ArrayOffset Formula="FIELD_FEM_ID"/> 
                            <EntryOffset Formula="FIELD_FEM_CONDITION+16*FIELD_FEM_PGM_ID"/> 
                            <HwField Name="MAP_INDEXf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_MAP_DATA">
                    <Access>
                        <Memory Name="IPPC_FEM_MAP_INDEX_TABLEm">
                            <ArrayOffset Formula="FIELD_FEM_ID"/> 
                            <EntryOffset Formula="FIELD_FEM_CONDITION+16*FIELD_FEM_PGM_ID"/> 
                            <HwField Name="MAP_DATAf"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="FIELD_PMF_A_FEM_ACTION_TYPE_MAP">
        <OneLineDescription>Table which defines the action type. Action-value building is on another table. Indices are FEM_MAP_INDEX, which resides on FEM_MAP_INDEX, and FEM_ID</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="FIELD_FEM_MAP_INDEX"/>
                <Field Name="FIELD_FEM_ID"/>
            </Key>
            <Result>
                <Field Name="IPMF1_ACTION"/>
            </Result>
            <TableLabels>FIELD</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="0"/>
                        <Memory Name="IPPC_FEM_0_4B_MAP_TABLEm">
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="1"/>
            <!-- Note the 'alias' format. You start with the name of the memory which has the MODEL structure   -->
            <!-- and, then, you add the name of the actual memory into which you want to access as on the MODEL -->
            <!-- We are using it here since IPPC_FEM_1_4B_MAP_TABLEm has only one field: FEM_1_4B_MAP_TABLE     -->
            <!-- while IPPC_FEM_0_4B_MAP_TABLEm has all fields                                                  -->
                        <Memory Name="IPPC_FEM_0_4B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_1_4B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="2"/>
            <!-- Note the 'alias' format. You start with the name of the memory which has the MODEL structure   -->
            <!-- and, then, you add the name of the actual memory into which you want to access as on the MODEL -->
            <!-- We are using it here since IPPC_FEM_2_24B_MAP_TABLEm has only one field: FEM_2_24B_MAP_TABLE   -->
            <!-- while IPPC_FEM_6_24B_MAP_TABLEm has all fields                                                 -->
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_2_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="3"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_3_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="4"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_4_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="5"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_5_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="6"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="7"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_7_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="8"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_8_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="9"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_9_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="10"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_10_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="11"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_11_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="12"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_12_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="13"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_13_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="14"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_14_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="IPMF1_ACTION">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="15"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_15_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="ACTION_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="FIELD_PMF_A_FEM_FIELD_SELECT_FEMS_0_1_MAP">
        <OneLineDescription>Table defines the building of action value. Indices are FEM_MAP_INDEX, FEM_ID (0 - 1) and FEM_SELECTED_BIT (0 - 3)</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <!-- Select map_index (one of four actions attached to each FEM -->
                <Field Name="FIELD_FEM_MAP_INDEX"/>
                <!-- Select the corresponding FEM                               -->
                <Field Name="FIELD_FEM_ID" MinValue="0" MaxValue="1"/>
                <!-- Select the bit on the corresponding FEM. One of 4 for FEM 0/1. One of 24 for FEM 2-15  -->
                <!-- Because of DBAL restrictions, this is separated into two tables.                       -->
                <Field Name="FIELD_FEM_SELECTED_BIT" MinValue="0" MaxValue="3"/>
            </Key>
            <Result>
                <!-- Descriptor attached to each action-bit                          -->
                <!-- If BIT(5) is '0' then bits 0-4 indicate location on key select  -->
                <!-- If bits 5-2 are 4'b1000 then bits 1-0 indicate location on      -->
            <!-- map_data to take the bit from.                                  -->
                <!-- Otherwise, take BIT(0) as the corresponding action value bit.   -->
                <Field Name="FIELD_FEM_BIT_VAL" Size="6" Type="UINT"/>
            </Result>
            <TableLabels>FIELD</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="0"/>
                        <Memory Name="IPPC_FEM_0_4B_MAP_TABLEm">
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="1"/>
            <!-- Note the 'alias' format. You start with the name of the memory which has the MODEL structure   -->
            <!-- and, then, you add the name of the actual memory into which you want to access as on the MODEL -->
            <!-- We are using it here since IPPC_FEM_1_4B_MAP_TABLEm has only one field: FEM_1_4B_MAP_TABLE     -->
                        <Memory Name="IPPC_FEM_0_4B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_1_4B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="FIELD_PMF_A_FEM_FIELD_SELECT_FEMS_2_15_MAP">
        <OneLineDescription>Table defines the building of action value. Indices are FEM_MAP_INDEX, FEM_ID (2 - 23) and FEM_SELECTED_BIT (0 - 23)</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <!-- Select map_index (one of four actions attached to each FEM) -->
                <Field Name="FIELD_FEM_MAP_INDEX"/>
                <!-- Select the corresponding FEM                                -->
                <Field Name="FIELD_FEM_ID" MinValue="2" MaxValue="15"/>
                <!-- Select the bit on the corresponding FEM. One of 4 for FEM 0/1. One of 24 for FEM 2-15  -->
                <!-- Because of DBAL restrictions, this is separated into two tables.                       -->
                <Field Name="FIELD_FEM_SELECTED_BIT" MinValue="0" MaxValue="23"/>
            </Key>
            <Result>
                <!-- Descriptor attached to each action-bit                          -->
                <!-- If BIT(5) is '0' then bits 0-4 indicate location on key select  -->
                <!-- If bits 5-2 are 4'b1000 then bits 1-0 indicate location on      -->
                <!-- map_data to take the bit from.                                  -->
                <!-- Otherwise, take BIT(0) as the corresponding action value bit.   -->
                <Field Name="FIELD_FEM_BIT_VAL" Size="6" Type="UINT"/>
            </Result>
            <TableLabels>FIELD</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <!-- Note the 'alias' format. You start with the name of the memory which has the MODEL structure   -->
                        <!-- and, then, you add the name of the actual memory into which you want to access as on the MODEL -->
                        <!-- We are using it here since IPPC_FEM_2_24B_MAP_TABLEm has only one field: FEM_2_24B_MAP_TABLE   -->
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="2"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_2_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="3"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_3_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="4"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_4_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="5"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_5_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="6"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="7"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_7_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="8"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_8_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="9"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_9_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="10"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_10_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="11"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_11_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="12"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_12_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="13"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_13_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="14"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_14_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_BIT_VAL">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="15"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_15_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="FIELD_SELECT_MAP_0f"/>
                            <DataOffset Formula="FIELD_FEM_SELECTED_BIT*6"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="FIELD_PMF_A_FEM_ADDER_FEMS_2_15_MAP">
        <OneLineDescription>Table defines the adder ('offset') to apply to action value. Indices are FEM_MAP_INDEX and FEM_ID (2 - 23)</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <!-- Select map_index (one of four actions attached to each FEM) -->
                <Field Name="FIELD_FEM_MAP_INDEX"/>
                <!-- Select the corresponding FEM                                -->
                <Field Name="FIELD_FEM_ID" MinValue="2" MaxValue="15"/>
            </Key>
            <Result>
                <!-- Extra operation after action-value has been calculated from     -->
        <!-- specified bits: This 'adder' is added to the action-value to    -->
        <!-- get the final action-value.                                     -->
                <Field Name="FIELD_FEM_ADDER" Size="24" Type="UINT"/>
            </Result>
            <TableLabels>FIELD</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
            <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <!-- Note the 'alias' format. You start with the name of the memory which has the MODEL structure   -->
                        <!-- and, then, you add the name of the actual memory into which you want to access as on the MODEL -->
                        <!-- We are using it here since IPPC_FEM_2_24B_MAP_TABLEm has only one field: FEM_2_24B_MAP_TABLE   -->
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="2"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_2_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="3"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_3_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="4"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_4_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="5"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_5_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="6"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="7"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_7_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="8"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_8_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="9"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_9_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="10"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_10_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="11"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_11_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="12"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_12_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="13"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_13_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="14"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_14_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FIELD_FEM_ADDER">
                    <Access>
                        <KeyCondition Field="FIELD_FEM_ID" Type="EQUAL_TO" Value="15"/>
                        <Memory Name="IPPC_FEM_6_24B_MAP_TABLEm">
                            <Alias Name="IPPC_FEM_15_24B_MAP_TABLEm">
                            </Alias>
                            <EntryOffset Formula="FIELD_FEM_MAP_INDEX"/>
                            <HwField Name="OFFSETf"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

</AppDbCatalog>
