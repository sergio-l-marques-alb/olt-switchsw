<?xml version="1.0" encoding="UTF-8"?>

<!--
    ******************************************************
    DBAL Hard-Logic Logical Tables:
    This xml contains the hard-logic logical DB for the DBAL.
    The data is loaded to the device during init process
    ******************************************************

    DB Rules:
    *********
-->

<AppDbCatalog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:noNamespaceSchemaLocation="../../hard_logic_schema.xsd">

    <AppDB Name="KLEAP_IPMF2_KBR_INFO">
        <OneLineDescription>Indicates per Context per KBR the KBR info - FFC and AppDB configured</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="FIELD_KEY" MinValue="5"/>
                <Field Name="FIELD_PMF_CTX_ID"/>
            </Key>
            <Result>
                <Field Name="APP_DB_ID"/>
                <Field Name="FFC_BITMAP" Size="32" Type="BITMAP"/>
            </Result>
            <TableLabels>FIELD</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="FFC_BITMAP">
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="F"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_F_FFC_VALIDSf"/>
                        </Memory>
                    </Access>
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="G"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_G_FFC_VALIDSf"/>
                        </Memory>
                    </Access>
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="H"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_H_FFC_VALIDSf"/>
                        </Memory>
                    </Access>
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="I"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_I_FFC_VALIDSf"/>
                        </Memory>
                    </Access>
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="J"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_J_FFC_VALIDSf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="APP_DB_ID">
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="F"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_F_APP_DBf"/>
                        </Memory>
                    </Access>
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="G"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_G_APP_DBf"/>
                        </Memory>
                    </Access>
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="H"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_H_APP_DBf"/>
                        </Memory>
                    </Access>
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="I"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_I_APP_DBf"/>
                        </Memory>
                    </Access>
                    <Access>
                        <KeyCondition Field="FIELD_KEY" Type="EQUAL_TO" Enum="J"/>
                        <Memory Name="IPPC_PMF_KBR_PASS_2m">
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <HwField Name="KEY_J_APP_DBf"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="KLEAP_IPMF2_FFC_INSTRUCTION">
        <OneLineDescription>Indicates per Context per KBR the KBR info - FFC and AppDB configured</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="FFC_IDX" Type="UINT" Size="5" MaxValue="31"/>
                <Field Name="FIELD_PMF_CTX_ID"/>
            </Key>
            <Result>
                <Field Name="IPMF2_FFC_INSTRUCTION"/>
            </Result>
            <TableLabels>FIELD</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="IPMF2_FFC_INSTRUCTION">
                    <Access>
                        <Memory Name="IPPC_PMF_KEY_GEN_PASS_2m"> 
                            <EntryOffset Formula="FIELD_PMF_CTX_ID"/>
                            <DataOffset Formula="FFC_IDX*RESULT"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

</AppDbCatalog>

