<?xml version="1.0" encoding="UTF-8"?>

<!--
    ******************************************************
    DBAL Hard-Logic Logical Tables:
    This xml contains the hard-logic logical DB for the DBAL.
    The data is loaded to the device during init process
    ******************************************************

    DB Rules:
    *********
-->

<AppDbCatalog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:noNamespaceSchemaLocation="../../hard_logic_schema.xsd">
    <AppDB Name="OAM_GENERAL_CONFIGURATION">
        <OneLineDescription>Configuration for OAM over ethernet packets</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
            </Key>
            <Result>
                <Field Name="INGRESS_PACKET_INJECTED_BITMAP" Size="8" Type="UINT"/>
                <Field Name="EGRESS_PACKET_INJECTED_BITMAP" Size="16" Type="UINT" Description="This is a bitmap, with the index to every bit being Packet Format Qualifier0 2:0. If the bit is set and PP-Inject is enabled then the packets injection is enabled"/>
                <Field Name="ETHERNET_NEXT_PROTOCOL_OAM" Size="32" Type="UINT"/>
                <Field Name="OAM_LIF_INVALID_HEADER" Size="22" Type="UINT"/>
                <Field Name="OAM_MPLS_TP_OR_BFD_ENABLE_MAP" Size="8" Type="UINT"/>
                <Field Name="OAM_BFD_VALIDITY_CHECK" Size="1" Type="UINT"/>
                <Field Name="OAM_NO_BFD_AUTHENTICATION" Size="1" Type="UINT"/>
                <Field Name="OAM_MPLS_TP_FORCE_OPCODE" Size="4" Type="UINT"/>
                <Field Name="OAM_INVALID_LIF" Size="20" Type="UINT"/>
                <Field Name="EGRESS_MAP_STRENGTH_TO_OAM_INJECTION" Size="16" Type="UINT" Description="Map FWD Sterngth to OAM-Injection bit"/>
                <Field Name="TX_JR2_AS_OAM" Size="1" Type="UINT" Description="Sets OAMP Tx App specific Format to JR2"/>
                <Field Name="RIF_ID_THRESHOLD" Size="22" Type="UINT" Description="In cases of MPLS TP in OAM ID use InLif0 only if larger than this threshold"/>
                <Field Name="OAMP_BFD_IPV4_ONE_HOP_TOS" Type="TOS" Description="Type-of-Service value used for BFD single-hop" Valid="DNX_DATA.bfd.general.configurable_single_hop_tos"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="INGRESS_PACKET_INJECTED_BITMAP">
                    <Access>
                        <Register Name="IPPB_OAM_PACKET_INJECTED_BITMAPr">
                            <HwField Name="PACKET_INJECTED_BITMAPf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="EGRESS_PACKET_INJECTED_BITMAP">
                    <Access>
                        <Register Name="ETPPC_OAM_PACKET_INJECTED_BITMAPr">
                            <HwField Name="PACKET_INJECTED_BITMAPf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="ETHERNET_NEXT_PROTOCOL_OAM">
                    <Access>
                        <Register Name="IPPB_OAM_ETHERNET_CFGr">
                            <HwField Name="ETHERNET_NEXT_PROTOCOL_OAMf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="OAM_LIF_INVALID_HEADER">
                    <Access>
                        <Register Name="IPPB_OAM_ETHERNET_CFGr">
                            <HwField Name="OAM_LIF_INVALID_HEADERf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="OAM_MPLS_TP_OR_BFD_ENABLE_MAP">
                    <Access>
                        <Register Name="IPPB_OAM_IDENTIFICATION_ENABLEr">
                            <HwField Name="OAM_MPLS_TP_OR_BFD_ENABLE_MAPf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="OAM_BFD_VALIDITY_CHECK">
                    <Access>
                        <Register Name="IPPB_OAM_IDENTIFICATION_ENABLEr">
                            <HwField Name="OAM_BFD_VALIDITY_CHECKf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="OAM_NO_BFD_AUTHENTICATION">
                    <Access>
                        <Register Name="IPPB_OAM_IDENTIFICATION_ENABLEr">
                            <HwField Name="OAM_NO_BFD_AUTHENTICATIONf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="OAM_MPLS_TP_FORCE_OPCODE">
                    <Access>
                        <Register Name="IPPB_OAM_IDENTIFICATION_ENABLEr">
                            <HwField Name="OAM_MPLS_TP_FORCE_OPCODEf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="OAM_INVALID_LIF">
                    <Access>
                        <Register Name="ETPPC_CFG_INVALID_OAM_LIFr">
                            <HwField Name="CFG_INVALID_OAM_LIFf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="EGRESS_MAP_STRENGTH_TO_OAM_INJECTION">
                    <Access>
                        <Register Name="ETPPC_MAP_STRENGTH_TO_OAM_INJECTIONr">
                            <HwField Name="MAP_STRENGTH_TO_OAM_INJECTIONf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="TX_JR2_AS_OAM">
                    <Access>
                        <Register Name="OAMP_TX_JR_2_AS_OAMr">
                            <HwField Name="TX_JR_2_AS_OAM_TYPEf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="RIF_ID_THRESHOLD">
                    <Access>
                        <Register Name="IPPB_OAM_ID_RIF_THRESHOLDr">
                            <HwField Name="OAM_ID_RIF_THRESHOLDf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="OAMP_BFD_IPV4_ONE_HOP_TOS" Device="J2B0">
                    <Access>
                        <Register Name="OAMP_BFD_IPV4_ONE_HOP_TOSr">
                            <HwField Name="RXB_BFD_IPV4_ONE_HOP_TOSf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="OAMP_BFD_IPV4_ONE_HOP_TOS" Device="J2B0">
                    <Access>
                        <Register Name="OAMP_BFD_IPV4_ONE_HOP_TOSr">
                            <HwField Name="TXO_BFD_IPV4_ONE_HOP_TOSf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="OAMP_BFD_IPV4_ONE_HOP_TOS" Device="J2B0">
                    <Access>
                        <Register Name="OAMP_BFD_IPV4_ONE_HOP_TOSr">
                            <HwField Name="TXM_BFD_IPV4_ONE_HOP_TOSf"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="EGRESS_OAM_PROCESS_MAP">
        <OneLineDescription>Mapping of OAM packet to one several possible OAM processes</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="PORT_PROFILE" Size="1" Type="UINT"/>
                <Field Name="OAM_MEP_TYPE" Size="1" Type="OAM_DIRECTION"/>
                <Field Name="OAM_SUB_TYPE" Size="4"/>
            </Key>
            <Result>
                <Field Name="OAM_PROCESS_ACTION" Size="3"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="OAM_PROCESS_ACTION">
                    <Access>
                        <Register Name="ETPPC_OAM_PROCESS_MAPr">
                            <HwField Name="OAM_PROCESS_MAPf"/>
                            <DataOffset Formula="KEY*RESULT"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="OAM_TS_HEADER_PER_SUBTYPE">
        <OneLineDescription>For each OAM subtype, automatically adds OAM_TS header if set</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="OAM_SUBTYPE_KEY" Size="4" Type="OAM_SUB_TYPE"/>
            </Key>
            <Result>
                <Field Name="BUILD_OAM_TS_HEADER" Type="BOOL"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="BUILD_OAM_TS_HEADER">
                    <Access>
                        <Register Name="IPPD_BUILD_OAM_TS_HEADERr">
                            <HwField Name="BUILD_OAM_TS_HEADERf"/>
                            <DataOffset Formula="KEY"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>
    
    
    <AppDB Name="OAM_CHANNEL_TYPE">
        <OneLineDescription>Maps the CW Channel type to an OAM format</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="INDEX" Size="4" Type="UINT"/>
            </Key>
            <Result>
                <Field Name="CHANNEL_TYPE" />
                <Field Name="VALID" Size="1" Type="BOOL"/>
                <Field Name="FORMAT_TYPE" Size="3" Type="OAM_FORMAT_TYPE"/>
                <Field Name="CHANNEL_TYPE_PACKET_IS_OAM" Size="1" Type="BOOL"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="CHANNEL_TYPE">
                    <Access>
                        <Memory Name="IPPB_OAM_CHANNEL_TYPEm">
                            <HwField Name="CHANNEL_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="VALID">
                    <Access>
                         <Memory Name="IPPB_OAM_CHANNEL_TYPEm">
                             <HwField Name="VALIDf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="FORMAT_TYPE">
                    <Access>
                        <Memory Name="IPPB_OAM_CHANNEL_TYPEm">
                            <HwField Name="OAM_CHANNEL_TYPE_FORMAT_TYPEf"/>
                        </Memory>
                    </Access>
                </Field>
                 <Field Name="CHANNEL_TYPE_PACKET_IS_OAM">
                    <Access>
                        <Memory Name="IPPB_OAM_CHANNEL_TYPEm">
                            <HwField Name="OAM_CHANNEL_TYPE_PACKET_IS_OAMf"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>            
        </AppToPhyDbMapping>
    </AppDB>
    
    <AppDB Name="INGRESS_OAM_SUB_TYPE_TO_DATA_TYPE_MAP">
        <OneLineDescription>For each OAM subtype, set data type value for OAM Application Extension(oam_ts_data) (0 - counter-value, 1 - TOD-1588, 2 - NTP, 3 - none)</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="OAM_SUBTYPE_KEY" Size="3" Type="OAM_SUB_TYPE"/>
            </Key>
            <Result>
                <Field Name="INGRESS_OAM_DATA_TYPE" Size="2"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="INGRESS_OAM_DATA_TYPE">
                    <Access>
                        <Register Name="IPPD_OAM_SUB_TYPE_MAPr">
                            <HwField Name="OAM_SUB_TYPE_MAPf"/>
                            <DataOffset Formula="KEY*RESULT"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>

    <AppDB Name="EGRESS_OAM_SUB_TYPE_TO_DATA_TYPE_MAP">
        <OneLineDescription>For each OAM subtype, set data type value for OAM Application Extension(oam_ts_data) (0 - TOD-1588, 1 - NTP, 2 - counter-value, 3 - none)</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="OAM_SUB_TYPE"/>
            </Key>
            <Result>
                <Field Name="EGRESS_OAM_DATA_TYPE" Size="2"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="EGRESS_OAM_DATA_TYPE">
                   <Access Size="1">
                        <Register Name="ETPPB_CFG_OAM_TYPEr">
                            <HwField Name="CFG_OAM_TOD_TYPEf"/>
                            <DataOffset Formula="KEY"/>
                        </Register>
                    </Access>
                    <Access Size="1" Offset="1">
                        <Register Name="ETPPB_CFG_OAM_TYPEr">
                            <HwField Name="CFG_OAM_LM_TYPEf"/>
                            <DataOffset Formula="KEY"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>






    <AppDB Name="OAMP_INTERRUPT_DATA">
        <OneLineDescription>Interrupt data received from OAMP for indicating RMEP related change information. It contains the RMEP DB address, LOC indication, RDI indication and RMEP state change info  </OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
         <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
            </Key>
            <Result>
                <Field Name="JR2_OAMP_EVENT" Permission="READONLY" Type="JR2_OAMP_EVENT_FORMAT" NofInstances="13"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="JR2_OAMP_EVENT">
                    <Access instanceIndex="ALL">
                        <Register Name="OAMP_INTERRUPT_MESSAGEr">
                            <HwField Name="INTERRUPT_MESSAGEf"/>
                            <DataOffset Formula="INSTANCE*JR2_OAMP_EVENT"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>
    
    <AppDB Name="OAMP_MDB_APP_DB">
        <OneLineDescription>IDs for the MDB Application Databases</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
            </Key>
            <Result>
                <Field Name="MEP_DB_ID" Size="3" Type="UINT" Description="ID of MEP DB Application Database"/>
                <Field Name="RMEP_DB_ID" Size="3" Type="UINT" Description="ID of RMEP DB Application Database"/>
                <Field Name="MEP_LOOKUP_ID" Size="3" Type="UINT" Description="ID of MEP DB Application Lookup Database"/>
                <Field Name="RMEP_LOOKUP_ID" Size="3" Type="UINT" Description="ID of RMEP DB Application Lookup Database"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="MEP_DB_ID">
                    <Access>
                        <Register Name="OAMP_MDB_APP_DBr">
                            <HwField Name="MDB_APP_DB_MEP_DB_IDf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="RMEP_DB_ID">
                    <Access>
                        <Register Name="OAMP_MDB_APP_DBr">
                            <HwField Name="MDB_APP_DB_R_MEP_DB_IDf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="MEP_LOOKUP_ID">
                    <Access>
                        <Register Name="OAMP_MDB_APP_DBr">
                            <HwField Name="MDB_APP_DB_MEP_LKUP_IDf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="RMEP_LOOKUP_ID">
                    <Access>
                        <Register Name="OAMP_MDB_APP_DBr">
                            <HwField Name="MDB_APP_DB_R_MEP_LKUP_IDf"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>    
    
    <AppDB Name="OAMP_MEP_TYPE_TRAP_CODE_TCAM">
        <OneLineDescription>Maps trap code and opcode/channel to MEP type</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="INDEX" Size="5" Type="UINT"/>
            </Key>
           <Result>
                <Field Name="KEY_RECEIVED_TRAP_CODE" Size="9" Type="INGRESS_TRAP_ID" Description="Trap code for this TCAM"/>
                <Field Name="KEY_OPCODE_GACH_CHANNEL" Size="16" Type="UINT" Description="Opcode or GACH channel for this TCAM"/>
                <Field Name="KEY_OPCODE_GACH_SELECT" Size="1" Type="UINT" Description="0 opcode, 1 for GACH"/>
                <Field Name="KEY_MEP_TYPE" Type="OAMP_MEP_TYPE" Description="Mep type - part of key"/>
                <Field Name="KEY_RECEIVED_TRAP_CODE_MASK" Size="9" Type="UINT" Description="Bitmask for trap code"/>
                <Field Name="KEY_OPCODE_GACH_CHANNEL_MASK" Size="16" Type="UINT" Description="Bitmask for Opcode or GACH channel"/>
                <Field Name="KEY_OPCODE_GACH_SELECT_MASK" Size="1" Type="UINT" Description="Bitmask for Opcode/GACH select."/>
                <Field Name="KEY_MEP_TYPE_MASK" Type="OAMP_MEP_TYPE" Description="Bitmask for MEP type"/>
                <Field Name="RESULT_VALID" Size="1" Type="UINT" Description="1 for this entry is valid, 0 otherwise"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
               <Field Name="KEY_RECEIVED_TRAP_CODE">
                    <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="KEYf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="KEY_OPCODE_GACH_CHANNEL">
                    <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="KEYf"/>
                            <DataOffset Formula="KEY_RECEIVED_TRAP_CODE"/>
                        </Memory>
                    </Access>
                </Field>
                 <Field Name="KEY_OPCODE_GACH_SELECT">
                    <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="KEYf"/>
                            <DataOffset Formula="KEY_RECEIVED_TRAP_CODE+KEY_OPCODE_GACH_CHANNEL"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="KEY_MEP_TYPE">
                    <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="KEYf"/>
                            <DataOffset Formula="KEY_RECEIVED_TRAP_CODE+KEY_OPCODE_GACH_CHANNEL+KEY_OPCODE_GACH_SELECT"/>
                        </Memory>
                    </Access>
                </Field>
               <Field Name="KEY_RECEIVED_TRAP_CODE_MASK">
                    <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="MASKf"/>
                        </Memory>
                    </Access>
                </Field>
                 <Field Name="KEY_OPCODE_GACH_CHANNEL_MASK">
                    <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="MASKf"/>
                            <DataOffset Formula="KEY_RECEIVED_TRAP_CODE_MASK"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="KEY_OPCODE_GACH_SELECT_MASK">
                    <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="MASKf"/>
                            <DataOffset Formula="KEY_RECEIVED_TRAP_CODE_MASK+KEY_OPCODE_GACH_CHANNEL_MASK"/>
                        </Memory>
                    </Access>
                </Field>
                 <Field Name="KEY_MEP_TYPE_MASK">
                    <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="MASKf"/>
                            <DataOffset Formula="KEY_RECEIVED_TRAP_CODE_MASK+KEY_OPCODE_GACH_CHANNEL_MASK+KEY_OPCODE_GACH_SELECT_MASK"/>
                        </Memory>
                    </Access>
                </Field>
                 <Field Name="RESULT_VALID">
                    <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="VALIDf"/>
                        </Memory>
                    </Access>
                   <Access>
                        <Memory Name="OAMP_CLS_TRAP_CODE_TCAMm">
                            <HwField Name="DATf"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>    

    <AppDB Name="OAMP_UDH">
        <OneLineDescription>OAMP UDH Configuration</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
         <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
            </Key>
            <Result>
                <Field Name="UDH_MODE" Description="Rx Mode; 1 - Flexible (Qumran), otherwise Jericho 1 compatible" Type="SYSTEM_HEADERS_MODE"/>
                <Field Name="UDH_SIZE" Description="Size of Tx UDH, 0-17" Size="5" Type="UINT"/>
                <Field Name="UDH_TX_DATA" Description="Value of most significant byte of Tx UDH" Size="8" Type="UINT"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="UDH_MODE">
                   <Access>
                        <Register Name="OAMP_HEADER_CONFIGr">
                            <HwField Name="UDH_MODEf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="UDH_SIZE">
                   <Access>
                        <Register Name="OAMP_UDHr">
                            <HwField Name="UDH_SIZEf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="UDH_TX_DATA">
                   <Access>
                        <Register Name="OAMP_UDHr">
                            <HwField Name="UDH_TX_DATAf"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>
    
    <AppDB Name="OAMP_PROTECTION_PACKET_HEADER">
        <OneLineDescription>Configuration for OAMP protection packets</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
         <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
            </Key>
            <Result>
                <Field Name="PROTECTION_PACKET_HEADER_PART_1" Description="Protection packet header - first part" Size="128" Type="ARRAY8"/>
                <Field Name="PROTECTION_PACKET_HEADER_PART_2" Description="Protection packet header - second part" Size="512" Type="ARRAY8"/>
                <Field Name="PROTECTION_PACKET_LEN" Description="Length of protection packet header, in bytes, 80 max" Size="7" Type="UINT"/>
                <Field Name="PROTECTION_PACKET_EDIT_PROG" Description="input to OAMP-PE TCAM for program selection" Size="24" Type="UINT"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="PROTECTION_PACKET_HEADER_PART_1">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="PROTECTION_PACKET_HEADER_PART_2">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                            <DataOffset Formula="PROTECTION_PACKET_HEADER_PART_1"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="PROTECTION_PACKET_LEN">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_CONFr">
                            <HwField Name="PROTECTION_PACKET_HEADER_NUM_OF_BYTESf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="PROTECTION_PACKET_EDIT_PROG">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_CONFr">
                            <HwField Name="PROTECTION_PACKET_EDIT_PROGRAMf"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>
    
    <AppDB Name="OAMP_JR2_FORMAT_PROTECTION_PACKET_HEADER">
        <OneLineDescription>Configuration for OAMP protection pacekts</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
         <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
            </Key>
            <Result>
                <Field Name="PTCH_HEADER" Description="PTCH Header"/>
                <Field Name="ITMH_BASE" Description="ITMH Header"/>
                <Field Name="PROPRIETARY_HEADER" Description="Proprietary system header"/>
                <Field Name="FHEI_HEADER" Description="Editing information system header" Size="40" Type="ARRAY8"/>
                <Field Name="PROTECTION_PACKET_LEN" Description="Length of protection packet header, in bytes, 80 max" Size="7" Type="UINT"/>
                <Field Name="PROTECTION_PACKET_EDIT_PROG" Description="PE program to use on protection packet header" Size="24" Type="UINT"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="PTCH_HEADER">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="ITMH_BASE">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                            <DataOffset Formula="PTCH_HEADER"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="PROPRIETARY_HEADER">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                             <DataOffset Formula="PTCH_HEADER+ITMH_BASE"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="FHEI_HEADER">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                            <DataOffset Formula="PTCH_HEADER+ITMH_BASE+PROPRIETARY_HEADER"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="PROTECTION_PACKET_LEN">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_CONFr">
                            <HwField Name="PROTECTION_PACKET_HEADER_NUM_OF_BYTESf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="PROTECTION_PACKET_EDIT_PROG">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_CONFr">
                            <HwField Name="PROTECTION_PACKET_EDIT_PROGRAMf"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>    

    <AppDB Name="OAMP_JR1_FORMAT_PROTECTION_PACKET_HEADER">
        <OneLineDescription>Configuration for OAMP protection pacekts</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
         <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
            </Key>
            <Result>
                <Field Name="PTCH_HEADER" Description="PTCH Header"/>
                <Field Name="ITMH_BASE_JR1" Description="ITMH Header"/>
                <Field Name="PROPRIETARY_HEADER_JR1" Description="Proprietary system header" Size="56" Type="ARRAY8"/>
                <Field Name="FHEI_HEADER_JR1" Description="Editing information system header" Size="40" Type="ARRAY8"/>
                <Field Name="PROTECTION_PACKET_LEN" Description="Length of protection packet header, in bytes, 80 max" Size="7" Type="UINT"/>
                <Field Name="PROTECTION_PACKET_EDIT_PROG" Description="PE program to use on protection packet header" Size="24" Type="UINT"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="PTCH_HEADER">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="ITMH_BASE_JR1">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                            <DataOffset Formula="PTCH_HEADER"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="PROPRIETARY_HEADER_JR1">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                             <DataOffset Formula="PTCH_HEADER+ITMH_BASE_JR1"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="FHEI_HEADER_JR1">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_HEADERr">
                            <HwField Name="PROTECTION_PACKET_HEADERf"/>
                            <DataOffset Formula="PTCH_HEADER+ITMH_BASE_JR1+PROPRIETARY_HEADER_JR1"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="PROTECTION_PACKET_LEN">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_CONFr">
                            <HwField Name="PROTECTION_PACKET_HEADER_NUM_OF_BYTESf"/>
                        </Register>
                    </Access>
                </Field>
                <Field Name="PROTECTION_PACKET_EDIT_PROG">
                   <Access>
                        <Register Name="OAMP_PROTECTION_PACKET_CONFr">
                            <HwField Name="PROTECTION_PACKET_EDIT_PROGRAMf"/>
                        </Register>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>    

    
    <AppDB Name="OAMP_CLS_FLEX_CRC_TCAM">
        <OneLineDescription>CRC calculation TCAM table</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="TCAM_DIRECT">
            <Key>
                <Field Name="OPCODE_GACH_CHANNEL" Size="16" Type="UINT" Description="Opcode or GACH channel for this TCAM"/>
                <Field Name="OPCODE_GACH_SELECT" Size="1" Type="UINT" Description="0 opcode, 1 for GACH"/>
                <Field Name="MEP_PE_PROFILE" Description="MEP PE profile"/>
            </Key>
            <Result>
                <Field Name="DAT" Size="4" Type="UINT" Description="3 bit mask and one to choose CRC1 or CRC2"/>
                <Field Name="VALID" Type="BOOL" Description="TRUE for this entry is valid, FALSE otherwise"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMappingTcam>
                <Type Name="KEY"> <!-- all key fields are packed together and connected from the same offset -->
                    <Access>
                        <Memory Name="OAMP_CLS_FLEX_CRC_TCAMm">
                            <DataOffset Formula="0"/>
                        </Memory>
                    </Access>
                </Type>
                <Type Name="KEY_MASK">
                    <Access> <!-- all key masked fields are packed together and connected from the same offset -->
                        <Memory Name="OAMP_CLS_FLEX_CRC_TCAMm">
                            <DataOffset Formula="23"/>
                        </Memory>
                    </Access>
                </Type>
                <Type Name="RESULT">
                    <Access> <!-- all result fields are packed together and connected from the same offset -->
                        <Memory Name="OAMP_CLS_FLEX_CRC_TCAMm">
                             <DataOffset Formula="46"/>
                        </Memory>
                    </Access>
                </Type>
            </FieldMappingTcam>
        </AppToPhyDbMapping>
    </AppDB>
    
    <AppDB Name="OAMP_FLEX_CRC_MASK">
        <OneLineDescription>CRC calculation TCAM table</OneLineDescription>
        <AccessMethod>HARD_LOGIC</AccessMethod>
        <Maturity Level="HIGH"/>
        <AppDbInterface Type="DIRECT">
            <Key>
                <Field Name="CRC_MASK_INDEX" Type="UINT" Size="3"/>                
            </Key>
            <Result>
                <Field Name="PER_BIT_MASK" Size="64" Type="ARRAY8" Description="Bit per bit mask for the first 64 bits"/>
                <Field Name="PER_BYTE_MASK" Size="120" Type="ARRAY8" Description="Bit per byte mask for the last 120 bytes"/>
            </Result>
            <TableLabels>OAM</TableLabels>
        </AppDbInterface>
        <AppToPhyDbMapping>
            <CoreMode Mode="SBC"/>
            <FieldMapping>
                <Field Name="PER_BIT_MASK">
                   <Access>
                        <Memory Name="OAMP_FLEX_VER_MASK_TEMPm">
                            <HwField Name="PER_BIT_MASKf"/>
                        </Memory>
                    </Access>
                </Field>
                <Field Name="PER_BYTE_MASK">
                   <Access>
                        <Memory Name="OAMP_FLEX_VER_MASK_TEMPm">
                            <HwField Name="PER_BYTE_MASKf"/>
                        </Memory>
                    </Access>
                </Field>
            </FieldMapping>
        </AppToPhyDbMapping>
    </AppDB>        

<AppDB Name="OAM_TOD_GENERAL_CONFIGURATION">
    <OneLineDescription>General Configuration Of ToD Functionality</OneLineDescription>
    <AccessMethod>HARD_LOGIC</AccessMethod>
    <Maturity Level="HIGH"/>
    <AppDbInterface Type="DIRECT">
        <Key>
        </Key>
        <Result>
            <Field Name="ECI_NSE_RESET" Type="BOOL" Description="Active high NSE reset"/>
            <Field Name="ECI_TOD_MODE" Size="2" Type="UINT" Description="The time format 0-Null, 1-OAM 2-NTP 3-OAM_NTP."/>
            <Field Name="TODW_SELECT_IEEE_1588_TIMER" Type="BOOL" Description="Select the time code source.0-NSE block 1-TOD block"/>
            <Field Name="TODW_SELECT_NTP_TIMER" Type="BOOL" Description="Select the time code source.0-NSE block 1-TOD block"/>
         </Result>
        <TableLabels>OAM</TableLabels>
    </AppDbInterface>
    <AppToPhyDbMapping> 
        <CoreMode Mode="SBC"/> 
        <FieldMapping>
             <Field Name="ECI_NSE_RESET"> 
                 <Access>
                     <Register Name="ECI_GP_CONTROL_0r"> 
                         <HwField Name="NSE_RESETf"/>
                     </Register>
                 </Access>
             </Field>
            <Field Name="ECI_TOD_MODE"> 
                <Access>
                    <Register Name="ECI_FAP_GLOBAL_GENERAL_CFG_3r"> 
                        <HwField Name="TOD_MODEf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="TODW_SELECT_IEEE_1588_TIMER"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_8r"> 
                        <HwField Name="TODW_SELECT_IEEE_1588_TIMERf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="TODW_SELECT_NTP_TIMER"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_8r"> 
                        <HwField Name="TODW_SELECT_NTP_TIMERf"/>
                    </Register>
                </Access>
            </Field>
        </FieldMapping>
    </AppToPhyDbMapping>
</AppDB>

<AppDB Name="OAM_NTP_TOD_CONFIGURATION">
    <OneLineDescription>Configuration Of NTP ToD Functionality</OneLineDescription>
    <AccessMethod>HARD_LOGIC</AccessMethod>
    <Maturity Level="HIGH"/>
    <AppDbInterface Type="DIRECT">
        <Key>
        </Key>
        <Result>
            <Field Name="EVENT_MUX_CONTROL" Size="2" Type="UINT" Description="Switch mux to select bit 25 or 32 (01/10)of the NTP_OUTPUT counter."/>
            <Field Name="COUNT_ENABLE" Type="BOOL" Description="Enable the counter"/>
            <Field Name="LOAD_ENABLE" Type="BOOL" Description="NTP Enable for loading NTP_TIME_FRAC_SEC_LOWER, NTP_TIME_FRAC_SEC_UPPER, NTP_TIME_1_SEC and NTP_TIME_FREQ_CONTROL"/>
            <Field Name="TIME_FRAC_SEC_LOWER" Size="32" Type="UINT" Description="Value loaded to 32 bit accumulator when TodNtpLoadEnable is asserted"/>
            <Field Name="TIME_FRAC_SEC_UPPER" Size="26" Type="UINT" Description="Value loaded to 32 bit accumulator when TodNtpLoadEnable is asserted"/>
            <Field Name="TIME_FREQ_CONTROL" Size="32" Type="UINT" Description="Frequency value added to the 32 bit accumulator"/>
            <Field Name="ONE_SEC" Size="1" Type="UINT" Description="Value loaded to 1 bit counter"/>
            <Field Name="UPPER_SEC" Size="26" Type="UINT" Description="Value loaded to 26 bit counter"/>
            <Field Name="LOAD_ONCE" Type="BOOL" Description="TodNtpLoadEnable but effective for a single TimeSync clock cycle"/>
        </Result>
        <TableLabels>OAM</TableLabels>
    </AppDbInterface>
    <AppToPhyDbMapping> 
        <CoreMode Mode="SBC"/> 
        <FieldMapping>
            <Field Name="EVENT_MUX_CONTROL"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_6r"> 
                        <HwField Name="TOD_NTP_EVENT_MUX_CONTROLf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="COUNT_ENABLE"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_8r"> 
                        <HwField Name="TOD_NTP_COUNT_ENABLEf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="LOAD_ENABLE"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_8r"> 
                        <HwField Name="TOD_NTP_LOAD_ENABLEf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="TIME_FRAC_SEC_LOWER"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_6r"> 
                        <HwField Name="TOD_NTP_TIME_FRAC_SEC_LOWERf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="TIME_FRAC_SEC_UPPER"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_6r"> 
                        <HwField Name="TOD_NTP_TIME_FRAC_SEC_UPPERf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="TIME_FREQ_CONTROL"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_6r"> 
                        <HwField Name="TOD_NTP_TIME_FREQ_CONTROLf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="ONE_SEC"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_6r"> 
                        <HwField Name="TOD_NTP_ONE_SECf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="UPPER_SEC"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_6r"> 
                        <HwField Name="TOD_NTP_UPPER_SECf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="LOAD_ONCE"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_8r"> 
                        <HwField Name="TOD_NTP_LOAD_ONCEf"/>
                    </Register>
                </Access>
            </Field>
        </FieldMapping>
    </AppToPhyDbMapping>
</AppDB>

<AppDB Name="OAM_1588_TOD_CONFIGURATION">
    <OneLineDescription>Configuration Of 1588 ToD Functionality</OneLineDescription>
    <AccessMethod>HARD_LOGIC</AccessMethod>
    <Maturity Level="HIGH"/>
    <AppDbInterface Type="DIRECT">
        <Key>
        </Key>
        <Result>
            <Field Name="EVENT_MUX_CONTROL" Size="2" Type="UINT" Description="Switch mux to select bit 25 or 32 (01/10)of the IEEE1588_OUTPUT counter."/>
            <Field Name="COUNT_ENABLE" Type="BOOL" Description="Enable the counter"/>
            <Field Name="LOAD_ENABLE" Type="BOOL" Description="NTP Enable for loading 1588_TIME_FRAC_SEC_LOWER, NTP_TIME_FRAC_SEC_UPPER, NTP_TIME_1_SEC and NTP_TIME_FREQ_CONTROL"/>
            <Field Name="TIME_FRAC_SEC_LOWER" Size="32" Type="UINT" Description="Value loaded to 32 bit accumulator when Tod1588LoadEnable is asserted"/>
            <Field Name="TIME_FRAC_SEC_UPPER" Size="26" Type="UINT" Description="Value loaded to 32 bit accumulator when Tod1588LoadEnable is asserted"/>
            <Field Name="TIME_FREQ_CONTROL" Size="32" Type="UINT" Description="Frequency value added to the 32 bit accumulator"/>
            <Field Name="ONE_SEC" Size="1" Type="UINT" Description="Value loaded to 1 bit counter"/>
            <Field Name="UPPER_SEC" Size="26" Type="UINT" Description="Value loaded to 26 bit counter"/>
            <Field Name="LOAD_ONCE" Type="BOOL" Description="Tod1588LoadEnable but effective for a single TimeSync clock cycle"/>
        </Result>
        <TableLabels>OAM</TableLabels>
    </AppDbInterface>
    <AppToPhyDbMapping> 
        <CoreMode Mode="SBC"/> 
        <FieldMapping>
            <Field Name="EVENT_MUX_CONTROL"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_7r"> 
                        <HwField Name="TOD_IEEE_1588_EVENT_MUX_CONTROLf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="COUNT_ENABLE"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_8r"> 
                        <HwField Name="TOD_IEEE_1588_COUNT_ENABLEf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="LOAD_ENABLE"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_8r"> 
                        <HwField Name="TOD_IEEE_1588_LOAD_ENABLEf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="TIME_FRAC_SEC_LOWER"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_7r"> 
                        <HwField Name="TOD_IEEE_1588_TIME_FRAC_SEC_LOWERf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="TIME_FRAC_SEC_UPPER"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_7r"> 
                        <HwField Name="TOD_IEEE_1588_TIME_FRAC_SEC_UPPERf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="TIME_FREQ_CONTROL"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_7r"> 
                        <HwField Name="TOD_IEEE_1588_TIME_FREQ_CONTROLf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="ONE_SEC"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_7r"> 
                        <HwField Name="TOD_IEEE_1588_ONE_SECf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="UPPER_SEC"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_7r"> 
                        <HwField Name="TOD_IEEE_1588_UPPER_SECf"/>
                    </Register>
                </Access>
            </Field>
            <Field Name="LOAD_ONCE"> 
                <Access>
                    <Register Name="ECI_GP_CONTROL_8r"> 
                        <HwField Name="TOD_IEEE_1588_LOAD_ONCEf"/>
                    </Register>
                </Access>
            </Field>
        </FieldMapping>
    </AppToPhyDbMapping>
</AppDB>

</AppDbCatalog>


