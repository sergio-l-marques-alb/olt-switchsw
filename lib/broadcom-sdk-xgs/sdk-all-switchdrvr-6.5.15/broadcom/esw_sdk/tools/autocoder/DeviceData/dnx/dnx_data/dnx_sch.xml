<?xml version="1.0"?>
<device_data lib="dnx_data" module="sch" bsl_flag="BSL_LS_BCMDNX_COSQ">

    <includes>
        <include>bcm_int/dnx/cosq/scheduler/scheduler.h</include>
     </includes>

    <sub_module name="general" doc="e2e scheduler general information">
        
        <features>
        </features>
        
        <defines>
            <define name="nof_slow_profiles" doc="Number of slow profiles"></define>
            <define name="nof_slow_levels" doc="Number of slow levels"></define>
            <define name="cycles_per_credit_token" doc="Number of of cycles between credit tokens of the same flow"></define>
            <define name="nof_fmq_class" doc="Number of FMQ class"></define>
        </defines>

        <numerics>
        </numerics>

        <tables>
        </tables>

    </sub_module>

    <sub_module name="ps" doc="e2e port scheduler (PS) information">
        <defines>
            <define name="min_priority_for_tcg" doc="Minimal port priority supporting tcg"></define>
            <define name="max_nof_tcg" doc="Maximal number of TCGs in a port scheduler"></define>
            <define name="nof_hrs_in_ps" doc="Number of HRs in port scheduler"></define>
            <define name="max_tcg_weight" doc="Maximal TCG EIR weight"></define>
            <define name="tc_tcg_calendar_access_period" doc="Access period of TC/TCG calendars"></define>
            <define name="max_burst" doc="Maximal burst of TC/TCG port shapers"></define>
        </defines>

        <numerics>
            <numeric name="max_port_rate_mbps" doc="maximal rate an port can drive (in MBits/sec)"></numeric>
        </numerics>

        <tables>
        </tables>

    </sub_module>

     <sub_module name="flow" doc="e2e scheduler information">
        
        <features>
        </features>
        
        <defines>
            <define name="nof_hr" doc="Number of HR elements per core"></define>
            <define name="nof_cl" doc="Number of CL elements per core"></define>
            <define name="erp_hr" doc="HR id of first ERP HR"></define>
            <define name="reserved_hr" doc="reserved HR allocated for returned credits in LAG scheduling"></define>

            <define name="nof_se" doc="Number of scheduling elements per core"></define>
            <define name="max_se" doc="Maximal Scheduling element id"></define>

            <define name="nof_flows" doc="Number of flows per core"></define>
            <define name="max_flow" doc="Maximal flow id"></define>
            <define name="region_size" doc="Number of flows in a region"></define>
            <define name="nof_regions" doc="Number of regions in a core"></define>
            <define name="first_hr_region" doc="First HR region"></define>
            <define name="nof_hr_regions" doc="Number of hr regions in a core"></define>
            <define name="nof_connectors_only_regions" doc="Number of connectors-only regions per core"></define>
            <define name="first_se_flow_id" doc="Flow ID of first scheduling element"></define>
            <define name="flow_in_region_mask" doc="mask for flows in region"></define>
            <define name="hr_se_id_min" doc="min hr se id"></define>
            <define name="hr_se_id_max" doc="max hr se id"></define>

            <define name="default_credit_source_se_id" doc="SE ID of default credit source. used to mark unattached flow"></define>

            <define name="min_connector_bundle_size" doc="minimal number of connectors in bundle"></define>
            
            <define name="conn_idx_interdig_flow" doc="first connector index in an interdigitated flow"></define>

        </defines>

        <numerics>
            <numeric name="runtime_performance_optimize_enable_sched_allocation" doc="enable flow properties access optimization"></numeric>
        </numerics>        
        
        <tables>
            <table name="region_type" doc="flow region type">
                <key name="core" doc="see table doc"></key>
                <key name="region" doc="see table doc"></key>
                <value name="type" type="uint32" doc="see table doc"></value>
                <value name="propagation_direction" type="uint32" doc="see table doc"></value>
            </table>

            <table name="nof_remote_cores" doc="flow region type">
                <key name="core" doc="see table doc"></key>
                <key name="region" doc="see table doc"></key>
                <value name="val" type="uint32" doc="see table doc"></value>
            </table>

            <table name="cl_num_to_quartet_offset" doc="mapping CL number to quartet index">
                <key name="cl_num" doc="number of CL in the quartet"></key>
                <value name="quartet_offset" type="int" doc="quartet offset"></value>
            </table>

            <table name="quartet_offset_to_cl_num" doc="mapping quartet index to CL number">
                <key name="quartet_offset"  doc="quartet offset"></key>
                <value name="cl_num" type="int" doc="number of CL in the quartet"></value>
            </table>

        </tables>
    </sub_module>

    <sub_module name="se" doc="scheduler elements information">

        <features>
        </features>
        
        <defines>
            <define name="default_cos" doc="default parameter of credit source COS. Used for FQ"></define>
            <define name="nof_color_group" doc="number of colors (groups)"></define>
            <define name="max_hr_weight" doc="maximal weight in HR WFQ"></define>
            <define name="cl_class_profile_nof" doc="number of profiles for CL class"></define>
        </defines>

        <numerics>
        </numerics>        
        
        <tables>
        </tables>
    </sub_module>


    <sub_module name="interface" doc="e2e interface information">
        
        <features>
        </features>
        
        <defines>
            <define name="nof_big_calendars" doc="Number of big calendars per core"></define>
            <define name="big_calendar_size" doc="Size of big calendar"></define>
            <define name="nof_sch_interfaces" doc="Number of sch interfaces per core"></define>
            <define name="cal_speed_resolution" doc="Resolution of interface calendar processing speed"></define>
            <define name="shaper_resolution" doc="Resolution of interface shaper"></define>
        </defines>

        <numerics>
            <numeric name="max_if_rate_mbps" doc="maximal rate an interface can drive (in MBits/sec)"></numeric>
        </numerics>        
        
        <tables>
        </tables>
    </sub_module>

    <sub_module name="device" doc="DRM information" >
        
        <defines>
            <define name="drm_resolution" doc="resolution of DRM rate"></define>
        </defines>

    </sub_module>


    <sub_module name="sch_alloc" doc="e2e scheduler allocation defines">
        
        <features>
        </features>
        
        <defines>
        
            <define name="tag_aggregate_se_2" doc="2 SE aggregate tag"></define>
            <define name="tag_aggregate_se_4" doc="4 SE aggregate tag"></define>
            <define name="tag_aggregate_se_8" doc="8 SE aggregate tag"></define>
            <define name="shared_shaper_max_tag_value" doc="max tag value for shared shaper"></define>
            
            <define name="tag_size_aggregate_se" doc="tag size for SE aggregate"></define>
            <define name="tag_size_con" doc="tag size for connectors - modid"></define>
            <define name="type_con_reg_start" doc="searching start of the contiguous region"></define>
            <define name="type_con_reg_end" doc="searching end of the contiguous region"></define>
            <define name="type_hr_reg_start" doc="earching start of the HR region"></define>
            <define name="alloc_invalid_flow" doc="invalid flow define"></define>
            <define name="dealloc_flow_ids" doc="max number of flows to deallocate"></define>
        </defines>

        <numerics>
        </numerics>        
        
        <tables>

            <table name="region" doc="content of quartet in each region type">
                <key name="region_type" doc="region type"></key>
                <value name="flow_type" type="dnx_sch_element_se_type_e[4]" doc="list of elements in quartet"></value>
                <value name="odd_even_mode" type="dnx_scheduler_region_odd_even_mode_t" doc="Odd/even mode"></value>
            </table>

            <table name="connector" doc="allocation info for VOQ connectors">
                <key name="composite" doc="is composite connector"></key>
                <key name="interdigitated" doc="is interdigitated"></key>
                <value name="alignment" type="uint32" doc="alignment requirement"></value>
                <value name="pattern" type="uint32" doc="allocation pattern"></value>
                <value name="pattern_size" type="uint32" doc="size of allocation pattern" ></value>
                <value name="nof_in_pattern" type="uint32" doc="number of elements in allocation pattern"></value>
            </table>

            <table name="se_per_region_type" doc="allocation info for scheduling elements per region type">
                <key name="flow_type" doc="type of element"></key>
                <key name="region_type" doc="type of region"></key>
                <value name="valid" type="uint32" doc="is the entry valid. In case the entry is not valid, the data is taken from se table"></value>
                <value name="alignment"  type="uint32" doc="alignment requirement"></value>
                <value name="pattern" type="uint32" doc="allocation pattern"></value>
                <value name="pattern_size" type="uint32" doc="size of allocation pattern" ></value>
                <value name="nof_offsets" type="uint32" doc="size offset array"></value>
                <value name="offset" type="uint32[4]" doc="list of offsets"></value>
            </table>

            <table name="se" doc="allocation info for scheduling elements">
                <key name="flow_type" doc="type of element"></key>
                <value name="alignment"  type="uint32" doc="alignment requirement"></value>
                <value name="pattern" type="uint32" doc="allocation pattern"></value>
                <value name="pattern_size" type="uint32" doc="size of allocation pattern" ></value>
                <value name="nof_offsets" type="uint32" doc="size offset array"></value>
                <value name="offset" type="uint32[4]" doc="list of offsets"></value>
            </table>

            <table name="composite_se" doc="allocation info for composite scheduling elements">
                <key name="flow_type" doc="type of element"></key>
                <key name="odd_even_mode" doc="odd or even region"></key>
                <value name="alignment"  type="uint32" doc="alignment requirement"></value>
                <value name="pattern" type="uint32" doc="allocation pattern"></value>
                <value name="pattern_size" type="uint32" doc="size of allocation pattern" ></value>
            </table>
        </tables>
    </sub_module>

    <sub_module name="dbal"  doc="e2e scheduler dbal defines">
        
        <features>
        </features>
        
        <defines>
            <!-- Scheduler Enable -->
            <define name="scheduler_enable_grouping_factor" doc="size of group of sched elements sharing the same HW field "></define>
            <define name="scheduler_enable_dbal_mult_factor" doc="DBAL multiplication factor"></define>
            <define name="scheduler_enable_key_size" doc="size in bits of key in scheduler enable DBAL table"></define>

            <define name="flow_id_pair_key_size" doc="size in bits of half flow id"></define>
            <define name="flow_id_pair_max" doc="max value of half flow id"></define>

            <!-- flow ID -->
            <define name="flow_bits" doc="Number of bits in flow id"></define>

            <!-- SE ID -->
            <define name="se_bits" doc="Number of bits in Scheduling element id"></define>

            <!-- CL ID -->
            <define name="cl_bits" doc="Number of bits in CL id"></define>

            <!-- HR ID -->
            <define name="hr_bits" doc="Number of bits in HR id"></define>

            <!-- PS ID -->
            <define name="ps_bits" doc="Number of bits in PS id"></define>

            <!-- interface ID -->
            <define name="interface_bits" doc="Number of bits in interface id"></define>
        </defines>

        <numerics>
        </numerics>        
        
        <tables>
        </tables>
    </sub_module>

    <sub_module name="hw_workarounds" doc="All devices workarounds">
        <features>
            <feature name="dlm"
                doc="Set couple of DLM registers to their MAX value due to hardware bug(HWJERICHO2-2480).">
            </feature>
        </features>
    </sub_module>
    
</device_data>




