<?xml version="1.0"?>
<device_data lib="dnx_data" module="iqs" bsl_flag="BSL_LS_BCMDNX_COSQ">
    
    <includes>
        <include>bcm_int/dnx/cosq/ingress/iqs.h</include>
    </includes>

    <sub_module name="credit" doc="Data about credit profiles">

        <features>
        </features>
        
        
        <defines>
            <define name="nof_profiles" doc="Number of supported profiles"></define>
            <define name="max_credit_balance_threshold" doc="max value for thresholds in credit balance resolution units"></define>
            <define name="max_credit_balance_resolution" doc="highest resolution in bytes units"></define>
            <define name="max_worth" doc="max credit worth"></define>
            <define name="slow_level_resolution" doc="resolution of credit request slow levels in bytes" signed="1"></define>
            <define name="satisified_back_min" doc="min value for satisified back thresholds" signed="1"></define>
            <define name="satisified_back_max" doc="max value for satisified back thresholds" signed="1"></define>
            <define name="satisified_empty_min" doc="min value for satisified empty thresholds" signed="1"></define>
            <define name="satisified_empty_max" doc="max value for satisified empty thresholds" signed="1"></define>
            <define name="hungry_min" doc="min value for hungry thresholds" signed="1"></define>
            <define name="hungry_max" doc="max value for hungry thresholds" signed="1"></define>
            <define name="hungry_mult_min" doc="min value for hungry multiply thresholds" signed="1"></define>
            <define name="hungry_mult_max" doc="max value for hungry multiply thresholds" signed="1"></define>
            <define name="credit_resolution_up_th" doc="[KB]. ]threshold over the delayed size (fabric_delay * port rate) to move to the higher credit resolutoin"></define>
            <define name="nof_bw_levels" doc="number of supported bandwidth levels"></define>
            <define name="fmq_credit_fc_on_th" doc="default thershold value for FMQ credit FC on"></define>
            <define name="fmq_credit_fc_off_th" doc="default thershold value for FMQ credit FC off"></define>
            <define name="fmq_byte_fc_on_th" doc="default thershold value for FMQ byte FC on"></define>
            <define name="fmq_byte_fc_off_th" doc="default thershold value for FMQ byte FC off"></define>
            <define name="fmq_eir_credit_fc_th" doc="default thershold value for all credit EIR FMQ FC thresholds"></define>
            <define name="fmq_eir_byte_fc_th" doc="default thershold value for all byte EIR FMQ FC thresholds"></define>
        </defines>

        <numerics>
            <numeric name="worth" doc="credit worth in bytes"></numeric>
            <numeric name="fabric_delay" doc="[nano-sec] credit ingress to egress delay"></numeric>
            <numeric name="fabric_multicast_delay" doc="[nano-sec] credit delay for fmqs"></numeric>
        </numerics>
        
        
        <tables>
            
            <table name="bw_level_rate" doc="stores the read weight profiles that should configured to HW">
                <key name="bw_level" doc="bandwidth level"></key>
                <value name="max" type="uint32" doc="max rate for bandwidth level"></value>
                <value name="min" type="uint32" doc="min rate for bandwidth level"></value>
            </table>
            
        </tables>
        
    </sub_module>
    
    <sub_module name="deq_default" doc="IQS dequeue default configuration on init">
        <defines>
            <define name="low_delay_deq_bytes" doc="dequeue low delay thresholds"></define>
            <define name="credit_balance_max" doc="max credit balance"></define>
            <define name="credit_balance_resolution" doc="credit balance resolution for dequeue parameters configuration"></define>
            <define name="s2d_credit_balance_max" doc="max credit balance in sram to dram context"></define>
            <define name="s2d_credit_balance_resolution" doc="credit balance resolution for dequeue parameters configuration in sram to dram context"></define>
        </defines>
        
        <tables>
            <table name="sqm_read_weight_profiles" doc="stores the SQM read weight profiles that should configured to HW">
                <key name="profile_id" doc="read weight profile id"></key>
                <value name="weight" type="uint32" doc="queue read weight (1K resolution)"></value>
            </table>
            
            <table name="dqm_read_weight_profiles" doc="stores the DQM read weight profiles that should configured to HW">
                <key name="profile_id" doc="read weight profile id"></key>
                <value name="weight" type="uint32" doc="queue read weight (1K resolution)"></value>
            </table>            
            
            <table name="params" doc="stores the read weight profiles that should configured to HW for SRAM and S2D">
                <key name="bw_level" doc="parameters per bandwidth level."></key>
                <value name="sram_read_weight_profile_val" type="uint32[DNX_IQS_DEQ_PARAM_TYPE_NOF]" doc="queue read weight profile for sram values"></value>
                <value name="s2d_read_weight_profile_val" type="uint32[DNX_IQS_DEQ_PARAM_TYPE_NOF]" doc="queue read weight profile for sram to dram values"></value>
                <value name="sram_extra_credits_val" type="uint32[DNX_IQS_DEQ_PARAM_TYPE_NOF]" doc="sram extra credits values"></value>
                <value name="s2d_extra_credits_val" type="uint32[DNX_IQS_DEQ_PARAM_TYPE_NOF]" doc="sram to dram extra credits values"></value>
                <value name="sram_extra_credits_lfsr_val" type="uint32[DNX_IQS_DEQ_PARAM_TYPE_NOF]" doc="sram extra credits lfsr values"></value>
                <value name="s2d_extra_credits_lfsr_val" type="uint32[DNX_IQS_DEQ_PARAM_TYPE_NOF]" doc="sram to dram extra credits lfsr values"></value>
            </table>
            
            <table name="dram_params" doc="stores the read weight profiles that should configured to HW for DRAM">
                <key name="index" doc="index to the table"></key>
                <value name="read_weight_profile_val" type="uint32" doc="queue read weight profile for dram values"></value>
                <value name="read_weight_profile_th" type="uint32" doc="queue read weight threshold for dram values"></value>
            </table>
            
            <table name="max_deq_cmd" doc="stores the read weight profiles that should configured to HW (sram/dram to fabric)">
                <key name="bw_level" doc="parameters per bandwidth level."></key>
                <key name="nof_active_queues" doc="see dbal_enum_value_field_iqs_active_queues_e"></key>
                <value name="value" type="uint32" doc="threshold per status of active queues. 64B resolution. A value of 0 means a single packet is to be dequeued at maximum."></value>
            </table>
            
            <table name="s2d_max_deq_cmd" doc="stores the read weight profiles that should configured to HW (sram t0 dram)">
                <key name="bw_level" doc="parameters per bandwidth level."></key>
                <key name="nof_active_queues" doc="see dbal_enum_value_field_iqs_active_queues_e"></key>
                <value name="value" type="uint32" doc="threshold per status of active queues. 64B resolution. A value of 0 means a single packet is to be dequeued at maximum."></value>
            </table>
        
        </tables>
        
        <features>
        
            <feature name="dqcq_fc_to_dram" doc="enable/disable dqcq flow control from IPS to DQM"></feature>
            
        </features>
        
    </sub_module>
    
</device_data>


