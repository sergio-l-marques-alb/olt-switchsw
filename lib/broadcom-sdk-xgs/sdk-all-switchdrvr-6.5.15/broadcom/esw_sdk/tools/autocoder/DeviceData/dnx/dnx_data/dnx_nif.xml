<?xml version="1.0"?>
<device_data lib="dnx_data" module="nif" bsl_flag="BSL_LS_BCMDNX_PORT">
    <includes>
        <include>bcm/port.h</include>
        <include>soc/portmod/portmod.h</include>
        <include>soc/dnxc/legacy/dnxc_port.h</include>
    </includes>

    
    <sub_module name="global" doc="global nif proprties and data">
        <defines>
            <define name="nof_lcplls" doc="number of lcplls supported"></define>
        </defines>

        <tables>
            <table name="pll_phys" doc="phys controlled by each lcpll">
                <key name="lcpll" doc="LCPLL index"></key>
                <value name="min_phy_id" type="uint32" doc="The min phy ID controlled by given pll"></value>
                <value name="max_phy_id" type="uint32" doc="The max phy ID controlled by given pll"></value>
            </table>
        </tables>

        <numerics>
            <numeric name="start_tx_threshold_global" doc="Global start TX threshold. This value overrides TX threshold table values"></numeric>
        </numerics>

        <tables>
            <table name="start_tx_threshold_table" doc="TX threshold table of values per speed">
                <key name="idx" doc="Entry index"></key>
                <value name="speed" type="uint32" doc="Interface rate"></value>
                <value name="start_thr" type="uint32" doc="Start TX threshold"></value>
            </table>
        </tables>

    </sub_module>

    <sub_module name="phys" doc="data about phys">
        <defines>
            <define name="nof_phys" doc="number of phys supported"></define>
            <define name="nof_phys_per_core" doc="number of phys per core supported"></define>
            <define name="nof_pms" doc="number of PMs supported"></define>
            <define name="vco_div" type="int" doc="VCO divider"></define>
        </defines>

        <tables>
            <table name="general" doc="general data about phys">
                <value name="supported_phys" type="bcm_pbmp_t" doc="bitmap of supported phys"></value>
            </table>
            <table name="polarity" doc="rx and tx polarity per lane">
                <key name="lane_index" doc="lane index (0-based)"></key>
                <value name="tx_polarity" type="uint32" doc="switch TX phy polarity"></value>
                <value name="rx_polarity" type="uint32" doc="switch RX phy polarity"></value>
            </table>
            <table name="core_phys_map" doc="map pipeline core to connected PHYs">
                <key name="core_index" doc="Core number."></key>
                <value name="phys" type="bcm_pbmp_t" doc="phys connected to the CORE."></value>
            </table>
        </tables>

    </sub_module>

    <sub_module name="ilkn" doc="data about ILKN ports">
        <features>
            <feature name="is_supported" doc="is device type support ILKN."></feature>
        </features>
        <defines>
            <define name="ilkn_unit_nof" doc="Number of ILKN units in the device"></define>
            <define name="ilkn_unit_if_nof" doc="Number of ILKN Interfaces in each ILKN unit"></define>
            <define name="ilkn_if_nof" doc="Number of ILKN Interfaces in the device"></define>
            <define name="lanes_max_nof" doc="Max number of lanes for ILKN port"></define>
            <define name="lanes_allowed_nof" doc="The allowed lanes for each ILKN port"></define>
            <define name="ilkn_over_eth_pms_max" doc="Max number eth pms ilkn lanes is part of"></define>
            <define name="segments_max_nof" doc="Max number of segments in ILKN protocol. (Segment is a resource of ILKN which is shared between all ports of the ILKN unit)"></define>
            <define name="watermark_high" doc="High Watermark value for ILKN"></define>
            <define name="watermark_low" doc="Low Watermark value for ILKN"></define>
            <define name="pms_nof" doc="Number of PMs connectted to the ILKN unit"></define>
            <define name="fmac_bus_size" doc="Fabric MAC bus size [bits], relevant for ILKN over fabric ports"></define>
        </defines>

        <numerics>
        </numerics>
        
        <tables>
            <table name="phys" doc="phys bitmap for ports added by soc property">
                <key name="ilkn_id" doc="ilkn if id"></key>
                <value name="bitmap" type="bcm_pbmp_t" doc="phys connected to the ILKN id."></value>
            </table>

            <table name="supported_phys" doc="supported phys per ILKN id">
                <key name="ilkn_id" doc="ilkn if id"></key>
                <value name="is_supported" type="uint32" doc="is ILKN id supported on the device."></value>
                <value name="max_phys" type="uint32" doc="Max supported phys for the ILKN id."></value>
                <value name="nif_phys" type="bcm_pbmp_t" doc="NIF phys supported by the ILKN id."></value>
                <value name="fabric_phys" type="bcm_pbmp_t" doc="Fabric phys supported by the ILKN id. if the ILKN unit is not connected to fabric lanes, this value should be 0."></value>
            </table>
            
            <table name="supported_core" doc="supported device core per ILKN id">
                <key name="ilkn_id" doc="ilkn if id"></key>
                <value name="core" type="int" doc="Core id of which ILKN id is associated."></value>
            </table>

            <table name="properties" doc="ILKN properties per ILKN id - added using soc property.">
                <key name="ilkn_id" doc="ilkn if id"></key>
                <value name="burst_short" type="uint32" doc="ILKN burst short value. Sets the smallest burst size for the ILKN port. Shorter bursts will be padded with idles"></value>
                <value name="burst_max" type="uint32" doc="ILKN burst Max value. Set the max burst size for the ILKN port."></value>
                <value name="burst_min" type="uint32" doc="ILKN burst min value. BurstMin should be bigger or equal to BurstShort and less or equal to BurstMax/2. This value is used to optimize the usage of the interface."></value>
                <value name="metaframe_period" type="uint32" doc="Specify the interval (in words) between meta-frame sync words. supported values: 64-16K."></value>
                <value name="is_over_fabric" type="uint32" doc="ILKN over fabric indication. Specify the ILKN port is using Fabric lanes instead of NIF phys."></value>
            </table>
            
            <table name="nif_pms" doc="ILKN PM table over NIF">
                <key name="pm_id" doc="Port Macro identifier"></key>
                <value name="dispatch_type" type="portmod_dispatch_type_t" doc="PM dispatch type in Portmod"></value>
                <value name="first_phy" type="uint32" doc="PM first phy"></value>
            </table>

            <table name="fabric_pms" doc="ILKN PM table over Fabric">
                <key name="pm_id" doc="Port Macro identifier"></key>
                <value name="dispatch_type" type="portmod_dispatch_type_t" doc="PM dispatch type in Portmod"></value>
                <value name="first_phy" type="uint32" doc="PM first phy"></value>
            </table>

            <table name="ilkn_pms" doc="ILKN PM table per ILKN id">
                <key name="ilkn_id" doc="ilkn if id"></key>
                <value name="nif_pm_ids" type="uint32[DNX_DATA_MAX_NIF_ILKN_PMS_NOF]" doc="ILKN connected PMs on NIF side"></value>
                <value name="fabric_pm_ids" type="uint32[DNX_DATA_MAX_NIF_ILKN_PMS_NOF]" doc="ILKN connected PMs on Fabric side"></value>
            </table>
        </tables>
    </sub_module>

    <sub_module name="eth" doc="data about Ethernet ports">
        <defines>
            <define name="cdu_nof" doc="Number of CDU instances in the device"></define>
            <define name="cdum_nof" doc="Number of CDUM instances in the device"></define>
            <define name="cdu_pms_nof" doc="Number of pms in each CDU in the device"></define>           
            <define name="cdu_nof_per_core" doc="Number of CDU instances in each device core"></define>
            <define name="cdu_lanes_nof" doc="Number of lanes in each CDU"></define>
            <define name="cdu_mac_nof" doc="Number of MAC units per CDU"></define>
            <define name="mac_lanes_nof" doc="Number of lanes in each MAC"></define>
            <define name="cdu_logical_fifo_nof" doc="number of logical fifos in the CDU"></define>
            <define name="cdu_memory_entries_nof" doc="number of entries in the CDU memory, to be shared between all logical FIFOs"></define>
            <define name="priority_group_nof_entries_min" doc="minimum number of entries to allocate to a priority group (priority group = RMC)"></define>
            <define name="priority_groups_nof" doc="number of allowed priority groups per port (priority group = RMC)"></define>
            <define name="pad_size_min" doc="min padding size"></define>
            <define name="pad_size_max" doc="max padding size"></define>
            <define name="packet_size_max" doc="max packet size"></define>
            <define name="an_max_nof_abilities" doc="max auto-negotiation abilities"></define>
        </defines>
 
        <numerics>
        </numerics>
     
        <features>
        </features>
 
        <tables>
            <table name="pm_properties" doc="PM properties per PM">
                <key name="pm_index" doc="PM instance number."></key>
                <value name="phys" type="bcm_pbmp_t" doc="phys connected to the PM."></value>
                <value name="tvco_pll_index" type="int" doc="PM TVCO PLL index."></value>
            </table>
            <table name="cdu_pm_map" doc="map cdu to PM instance">
                <key name="cdu_index" doc="cdu instance number."></key>
                <value name="pms" type="int[DNX_DATA_MAX_NIF_ETH_CDU_PMS_NOF]" doc="array of pms in each cdu."></value>
            </table>
            <table name="max_speed" doc="Max speed for each ethernet interface type.">
                <key name="lane_num" doc="number of lanes for the given interface type."></key>
                <value name="speed" type="int" doc="Max speed value."></value>
            </table>
        </tables>
    </sub_module>

    <sub_module name="prd" doc="Priority Drop module">
        <defines>
            <define name="nof_control_frames" doc="Number of control frame properties to which each packet is compared in order to be recognized as control frame in the PRD parser"></define>
            <define name="nof_ether_type_codes" doc="Number of ether types supported by the PRD Parser"></define>
            <define name="nof_tcam_entries" doc="Number of entries in PRD Parser soft stage TCAM"></define>
            <define name="nof_mpls_special_labels" doc="Number of MPLS special labels recognized by the PRD parser"></define>
            <define name="nof_priorities" doc="Number of PRD Priorities"></define>
            <define name="custom_ether_type_code_min" doc="Min value of the configurable ether type codes"></define>
            <define name="custom_ether_type_code_max" doc="Max value of the configurable ether type codes"></define>
        </defines>
 
        <numerics>
        </numerics>

        <features>
        </features>
 
        <tables>
            <table name="ether_type" doc="Ether type codes and sizes for fixed ether types.">
                <key name="ether_type_code" doc="Ether type code in PRD parser"></key>
                <value name="ether_type_name" type="char *" doc="the name of the Ether type."></value>
                <value name="ether_type_size" type="uint32" doc="the size in bytes of the ether type header."></value>
            </table>
        </tables>
    </sub_module>
    <sub_module name="portmod" doc="information required for portmod.">
        <defines>
            <define name="pm_types_nof" doc="Number of pm types"></define>
        </defines>
 
        <numerics>
        </numerics>

        <features>
        </features>
 
        <tables>
            <table name="pm_types_and_interfaces" doc="fixed types and interfaces per device">
                <key name="index" doc="pm type index"></key>
                <value name="type" type="portmod_dispatch_type_t" doc="pm type"></value>
                <value name="instances" type="int" doc="the number of instances of the specified pm type"></value>
            </table>
            <table name="pm_supported_features" doc="supported features per Port Macro">
                <key name="pm_index" doc="port macro index in the device"></key>
                <value name="is_pam4_support" type="uint32" doc="are PAM4 speeds supported on this PM (50G)"></value>
                <value name="is_400g_support" type="uint32" doc="is PM support 400G mode"></value>
                <!-- double check if required. cannot be done in HW -->
                <value name="is_25g_support" type="uint32" doc="is PM support 25G speed"></value>
            </table>
        </tables>
    </sub_module>
    
    <sub_module name="schedulder" doc="data about NIF schedulder">
        <defines>
            <define name="rate_per_cdu_bit" doc="The Rate equivalent to 1 bit of CDU scheduler"></define>
            <define name="rate_per_rmc_bit" doc="The Rate equivalent to 1 bit of RMC scheduler"></define>
            <define name="nof_cdu_bits" doc="Number of bits in CDU scheduler"></define>
            <define name="nof_rmc_bits" doc="Number of bits in RMC scheduler"></define>
       </defines>
    </sub_module>
    
</device_data>




