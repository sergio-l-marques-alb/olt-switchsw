/** \file dnx/swstate/auto_generated/types/dnx_algo_port_types.h
 *
 * sw state types (structs/enums/typedefs)
 *
 * DO NOT EDIT THIS FILE!
 * This file is auto-generated.
 * Edits to this file will be lost when it is regenerated.
 *
 */
/*
 * $Copyright: (c) 2018 Broadcom.
 * Broadcom Proprietary and Confidential. All rights reserved.$
 */

#ifndef __DNX_ALGO_PORT_TYPES_H__
#define __DNX_ALGO_PORT_TYPES_H__

#include <soc/dnxc/swstate/dnxc_sw_state_h_includes.h>
#include <bcm/port.h>
#include <bcm_int/dnx/algo/port/algo_port_mgmt.h>
#include <soc/dnxc/swstate/types/sw_state_pbmp.h>
#include <soc/dnxc/swstate/types/sw_state_res_mngr.h>
/*
 * ENUMs
 */

/**
 * An enum that represents port state
 */
typedef enum {
    /**
     * Invalid (free) port
     */
    DNX_ALGO_PORT_STATE_INVALID = 0,
    /**
     * In the proccess of adding a port
     */
    DNX_ALGO_PORT_STATE_ADDED = 1,
    /**
     * In the proccess of removing a port
     */
    DNX_ALGO_PORT_STATE_REMOVED = 2,
    /**
     * Valid port
     */
    DNX_ALGO_PORT_STATE_VALID = 3
} dnx_algo_port_state_e;

/*
 * STRUCTs
 */

/**
 * handle with two keys
 */
typedef struct {
    /**
     * First key
     */
    int h0;
    /**
     * Second key
     */
    int h1;
} dnx_algo_port_db_2d_handle_t;

/**
 * General info about port
 */
typedef struct {
    /**
     * Port state - see dnx_algo_port_state_e
     */
    dnx_algo_port_state_e state;
    /**
     * Port type
     */
    int type;
    /**
     * port inteface
     */
    bcm_port_if_t interface_type;
    /**
     * inteface offset
     */
    int interface_offset;
    /**
     * NIF DB handle - first phy
     */
    int nif_handle;
    /**
     * TM DB  2d handle
     */
    dnx_algo_port_db_2d_handle_t tm_handle;
    /**
     * SCH DB  2d handle
     */
    dnx_algo_port_db_2d_handle_t sch_handle;
    /**
     * SCH Interface DB  2d handle
     */
    dnx_algo_port_db_2d_handle_t sch_if_handle;
    /**
     * PP DB  2d handle
     */
    dnx_algo_port_db_2d_handle_t pp_handle;
    /**
     * ILKN DB handle - ilkn id
     */
    int ilkn_handle;
    /**
     * TM interface DB handle - interface id
     */
    int tm_interface_handle;
    /**
     * Interface DB handle - interface id
     */
    int interface_handle;
    /**
     * handle to fabric DB - link-id
     */
    int fabric_handle;
} dnx_algo_port_db_logical_t;

/**
 * General NIF info about port
 */
typedef struct {
    /**
     * Boolean, is nif valid.
     */
    int valid;
    /**
     * phy bitmap
     */
    bcm_pbmp_t phys;
    /**
     * first phy used by nif port
     */
    int first_phy;
    /**
     * master logical port
     */
    bcm_port_t master_logical_port;
    /**
     * port logical FIFOs information
     */
    dnx_algo_port_rmc_info_t logical_fifos[BCM_PORT_MAX_NOF_PRIORITY_GROUPS];
    /**
     * Boolean, is latch down indication
     */
    int latch_down;
    /**
     * Boolean, original link training state stored before setting loopback
     */
    int loopback_original_link_training;
} dnx_algo_port_db_nif_t;

/**
 * General PP info about port
 */
typedef struct {
    /**
     * Boolean, is pp port valid.
     */
    int valid;
    /**
     * pp port
     */
    uint32 pp_port;
    /**
     * core id of pp port
     */
    bcm_core_t core;
    /**
     * Boolean, true if the PP port is allocated for LAG
     */
    int is_lag;
    /**
     * If the PP port is allocated for LAG holds the LAG ID
     */
    bcm_trunk_t lag_id;
    /**
     * master logical port
     */
    bcm_port_t master_logical_port;
    /**
     * header mode
     */
    dnx_algo_port_header_mode_e header_mode;
} dnx_algo_port_db_pp_t;

/**
 * General TM info about port
 */
typedef struct {
    /**
     * Boolean, is tm port valid.
     */
    int valid;
    /**
     * tm port
     */
    uint32 tm_port;
    /**
     * core id of tm port
     */
    bcm_core_t core;
    /**
     * channel id
     */
    int channel;
    /**
     * egress base queue pair
     */
    int base_q_pair;
    /**
     * flags to indicate port channelized application
     */
    uint32 port_app_flags;
    /**
     * number of port priorities
     */
    int priorities;
    /**
     * tdm mode of tm port
     */
    dnx_algo_port_tdm_mode_e tdm_mode;
    /**
     * master logical port
     */
    bcm_port_t master_logical_port;
} dnx_algo_port_db_tm_t;

/**
 * TM interface info
 */
typedef struct {
    /**
     * Boolean, is tm interfce valid.
     */
    int valid;
    /**
     * A flag that added with the master port
     */
    int is_channelized;
    /**
     * egress interface id
     */
    int egr_if;
    /**
     * master logical port - represents tdm channels only
     */
    bcm_port_t master_tdm_logical_port;
    /**
     * master logical port - represents non_tdm channels only
     */
    bcm_port_t master_non_tdm_logical_port;
    /**
     * master logical port
     */
    bcm_port_t master_logical_port;
} dnx_algo_port_db_tm_interface_t;

/**
 * Interface info
 */
typedef struct {
    /**
     * Boolean, is tm interfce valid.
     */
    int valid;
    /**
     * intrface core
     */
    bcm_core_t core;
    /**
     * Interface rate
     */
    int speed;
    /**
     * master logical port
     */
    bcm_port_t master_logical_port;
} dnx_algo_port_db_interface_t;

/**
 * Scheduler info
 */
typedef struct {
    /**
     * Boolean, is tm interfce valid.
     */
    int valid;
    /**
     * sch base hr id
     */
    int base_hr;
    /**
     * egr scheduler number priorities (HRs)
     */
    int sch_priorities;
    /**
     * master logical port
     */
    bcm_port_t master_logical_port;
} dnx_algo_port_db_sch_t;

/**
 * Scheduler interface_info
 */
typedef struct {
    /**
     * Boolean, is tm interfce valid.
     */
    int valid;
    /**
     * scheduler interface id
     */
    int sch_if;
    /**
     * master logical port
     */
    bcm_port_t master_logical_port;
} dnx_algo_port_db_sch_if_t;

/**
 * General fabric info about port
 */
typedef struct {
    /**
     * Boolean, is fabric link valid.
     */
    int valid;
    /**
     * fabric link id
     */
    int link;
    /**
     * master logical port
     */
    bcm_port_t master_logical_port;
    /**
     * link PRBS mode (PHY or MAC)
     */
    int prbs_mode;
    /**
     * fabric link rate
     */
    int speed;
    /**
     * Boolean, original link training state stored before setting loopback
     */
    int loopback_original_link_training;
} dnx_algo_port_db_fabric_t;

/**
 * General ilkn info about port
 */
typedef struct {
    /**
     * Boolean, is ilkn id valid.
     */
    int valid;
    /**
     * master logical port
     */
    bcm_port_t master_logical_port;
    /**
     * How many segments the ILKN port takes
     */
    int nof_segments;
    /**
     * Boolean, is ilkn over fabric
     */
    int is_over_fabric;
    /**
     * ILKN lanes bitmap (bits 0-23)
     */
    bcm_pbmp_t lanes;
} dnx_algo_port_db_ilkn_t;

/**
 * General data about algo port
 */
typedef struct {
    /**
     * dummy
     */
    int dummy;
} dnx_algo_port_db_general_t;

/**
 * DB for used by algo port
 */
typedef struct {
    /**
     * General data about algo port
     */
    dnx_algo_port_db_general_t general;
    /**
     * General info about port. key is logical port
     */
    dnx_algo_port_db_logical_t logical[SOC_MAX_NUM_PORTS];
    /**
     * General NIF info about port. Key is first phy
     */
    dnx_algo_port_db_nif_t* nif;
    /**
     * TM info about port. Per core X TM port. Keys are core X TM port
     */
    dnx_algo_port_db_tm_t** tm;
    /**
     * SCH info about port. Per core X base HR. Keys are core X base HR
     */
    dnx_algo_port_db_sch_t** sch;
    /**
     * PP info about port. Per core X PP port. Keys are core X PP port
     */
    dnx_algo_port_db_pp_t** pp;
    /**
     * PP PORT allcation manager
     */
    sw_state_algo_res_t* pp_alloc;
    /**
     * ILKN info about port. Key is ILKN ID
     */
    dnx_algo_port_db_ilkn_t* ilkn;
    /**
     * Fabric info about port. Key is link ID
     */
    dnx_algo_port_db_fabric_t* fabric;
    /**
     * Info Port TM interface. Key is TM interface ID
     */
    dnx_algo_port_db_tm_interface_t* tm_interface;
    /**
     * Info Port interface. Key is Interface ID
     */
    dnx_algo_port_db_interface_t* interface;
    /**
     * Info of SCH interface. Key is core X sch interface ID
     */
    dnx_algo_port_db_sch_if_t** sch_interface;
} dnx_algo_port_db_t;


#endif /* __DNX_ALGO_PORT_TYPES_H__ */
