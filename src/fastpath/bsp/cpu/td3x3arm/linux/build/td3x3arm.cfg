#
#######################################################################
##
## Module: pq2pro.cfg
##
## Function:  
##      This file defines the make rules and variables used to
##      build LVL7 software components from source code for
##      PQ3 MPC8544 based target.
##
##      The file is included by all component make files.
##
#######################################################################

CPU_TYPE= -DLVL7_TD3X3ARM

#0x00508544
L7_MODEL_ID=5276996

CPU_FLAGS=$(CPU_TYPE) -DSERVICE_PORT_PRESENT=1 -DL7_STACK_USAGE_STATS -DLVL7_DEBUG_BREAKIN -DPTRS_ARE_64BITS \
          -march=armv8-a -Wdeclaration-after-statement \
          -Wno-pointer-sign -Wno-unused-but-set-variable -Wno-enum-compare -Wno-switch -Wno-address -Wno-sequence-point \
          -Wno-stringop-truncation -Wno-format-overflow -Wno-format-truncation -Wno-stringop-overflow
# -Wno-pointer-to-int-cast -Wno-int-to-pointer-cast

CPU_FLAGS_CPP=$(CPU_TYPE) -DSERVICE_PORT_PRESENT=1 -DL7_STACK_USAGE_STATS -DLVL7_DEBUG_BREAKIN -DPTRS_ARE_64BITS \
          -march=armv8-a -Wdeclaration-after-statement \
          -Wno-pointer-sign -Wno-unused-but-set-variable -Wno-enum-compare -Wno-switch -Wno-address -Wno-sequence-point \
          -Wno-stringop-truncation -Wno-format-overflow -Wno-format-truncation -Wno-stringop-overflow

## From Makefile.linux-tc16sxg-5_x:
#KFLAGS := -D__LINUX_ARM_ARCH__=8 -D__KERNEL__ -nostdinc  -isystem $(KFLAG_INCLD) -I$(LINUX_INCLUDE) -I$(LINUX_INCLUDE)/linux \
#          -include $(LINUX_INCLUDE)/generated/uapi/linux/version.h -include $(LINUX_INCLUDE)/generated/autoconf.h \
#          -I$(LINUX_INCLUDE)/generated/uapi -I$(KERNDIR)/arch/$(ARCH) -I$(KERNDIR)/arch/$(ARCH)/include -I$(KERNDIR)/include/asm-generic -I$(KERNDIR)/arch/$(ARCH)/include/uapi -I$(KERNDIR)/include/uapi -I$(KERNDIR)/arch/$(ARCH)/include/generated -I$(KERNDIR)/../linux-inc/include \
#          -Wall -Wstrict-prototypes -Wno-trigraphs -Os -fno-strict-aliasing -fno-common -fno-pic -pipe -ffreestanding \
#          -march=armv8-a -fomit-frame-pointer -g -fno-stack-protector -Wdeclaration-after-statement -Wno-pointer-sign

CFLAGSLOCAL=
#-Wdeclaration-after-statement -Wno-pointer-to-int-cast -Wno-int-to-pointer-cast
CINCLUDES=
CPPINCLUDES=-I/opt/xldk/6.0.1/helix5/aarch64-broadcom-linux-gnu/include/c++/8.3.0

PRODUCT_TYPE:= -DL7_PRODUCT_ENTERPRISE
optLevel:= 

ifeq (1,$(BLD_L7_PRODUCT_SMB))
  PRODUCT_TYPE:= -DL7_PRODUCT_SMB
  optLevel:=
endif  

ifeq (1,$(BLD_L7_PRODUCT_SMARTPATH))
  PRODUCT_TYPE:= -DL7_PRODUCT_SMARTPATH
  optLevel:= -Os
endif  

#ifeq (1,$(BLD_L7_PRODUCT_ENTERPRISE))
#  CPU_FLAGS += -mlongcall
#endif

export CPU_TYPE PRODUCT_TYPE L7_MODEL_ID CPU_FLAGS
