FP_BASE=../../../../../..

#
#
# Product:      EmWeb
# Release: R6_2_0
#
# CONFIDENTIAL AND PROPRIETARY INFORMATION OF VIRATA CORPORATION
# THE EMWEB SOFTWARE ARCHITECTURE IS PATENTED (US PATENT #5,973,696)
# AND OTHER US AND INTERNATIONAL PATENTS PENDING.
# 'EMWEB' AND 'EMSTACK' ARE TRADEMARKS OF VIRATA CORPORATION
# 
# Notice to Users of this Software Product:
# 
# This software product of Virata Corporation ("Virata"), 5 Clock Tower
# Place, Suite 400, Maynard, MA  01754 (e-mail: info@virata.com) in 
# source and object code format embodies valuable intellectual property 
# including trade secrets, copyrights and patents which are the exclusive
# proprietary property of Virata. Access, use, reproduction, modification
# disclsoure and distribution are expressly prohibited unless authorized
# in writing by Virata.  Under no circumstances may you copy this
# software or distribute it to anyone else by any means whatsoever except in
# strict accordance with a license agreement between Virata and your
# company.  This software is also protected under patent, trademark and 
# copyright laws of the United States and foreign countries, as well as 
# under the license agreement, against any unauthorized copying, modification,
# or distribution.
# Please see your supervisor or manager regarding any questions that you may
# have about your right to use this software product.  Thank you for your
# cooperation.
# 
# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001 Virata Corporation
# All Rights Reserved
# 
# Virata Corporation
# 5 Clock Tower Place
# Suite 400
# Maynard, MA  01754
# 
# Voice: +1 (978) 461-0888
# Fax:   +1 (978) 461-2080
# 
# http://www.emweb.com/
#   support@agranat.com
#     sales@agranat.com
#
# EmWeb/Server Makefile
#
################################################################
### DO NOT EDIT THIS FILE
###
### If you think that something in this file needs to be changed
### to work in your build environment, first contact
###     support@agranat.com
### for assistance.
###
### The config.mak file in your configuration directory defines
### most of the variables that parameterize the rules here.
################################################################

srcdir	= .
FP_LSRC     = $(srcdir)/..
ROOT	= $(FP_LSRC)/..
LIB     = $(ROOT)/lib

include	$(FP_BASE)/src/l7tools/build/make.cfg

ifeq ($(L7_OS_VERSION),-D_L7_OS_LINUX_)
CONFIG = linux
HEADER_NAME = include
else
CONFIG = vxworks 
HEADER_NAME = headers
endif

include	$(ROOT)/config.$(CONFIG)/config.mak

default: server

IFLAGS  += -g -I$(FP_BASE)/src/l7public/common
IFLAGS  += -I$(FP_BASE)/src/l7public/api
IFLAGS  += -I$(FP_BASE)/src/l7public/porting
IFLAGS  += -I$(FP_LSRC)/include
IFLAGS  += -I$(FP_HWSRC)/$(HEADER_NAME)
IFLAGS  += -I$(ROOT)/$(CONFIG)

OBJECTS	= ews ews_file ews_doc ews_str ews_net ews_pars \
	  ews_serv ews_send ews_ctxt ews_cgi ews_auth ews_form ews_dist ews_urlhooks \
	  ews_xml ews_skel ews_tah session
SOURCES	= ews.c ews_file.c ews_doc.c ews_str.c ews_net.c ews_pars.c \
	  ews_serv.c ews_send.c ews_ctxt.c ews_cgi.c ews_auth.c \
	  ews_form.c ews_dist.c ews_urlhooks.c ews_xml.c ews_skel.c ews_tah.c session.c
INCLUDES	= ews.h ews_file.h ews_secu.h ews_str.h ews_pars.h \
		ews_serv.h ews_send.h ews_form.h ews_gway.h ews_optck.h ews_urlhooks.h \
		ews_xml.h session.h

IFLAGS     += -I$(FP_LSRC)/xml_parser -I$(FP_LSRC)/server -I$(FP_LSRC)/upnp

TARGETA = $(OD)/ews.a

server: _objdir $(TARGETA) .FORCE


include	$(LIB)/rules.mak

include $(SOURCES:.c=.d)
