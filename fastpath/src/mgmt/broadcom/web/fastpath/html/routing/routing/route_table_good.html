<EMWEB_HEAD C='
#include "usmdb_common.h"
#include "usmdb_sim_api.h"
#include "usmdb_ip_api.h"
'>
<EMWEB_IF ID=USMWEB_IF_LVL_HDR_NOT_REQ>
<!--
/*********************************************************************
*
* (C) Copyright Broadcom Corporation 2001-2007
*
**********************************************************************
*
* @filename file_download.html
*
* @purpose html content
*
* @comments 
*
* @create 01-Mar-2001
*
* @author gaunce
* @end
*
**********************************************************************/

**********************************************************************/
-->
</EMWEB_IF>

emweb:/USMWEB_PAGE_DTD_HEADER_GET;
<HTML>
<HEAD>
   emweb:/USMWEB_PAGE_META_DATA_GET; <!-- Style Sheet link and Meta data     -->
   <TITLE>emweb:/USMWEB_ROUTING_OEM_STRING_GET?1234;</TITLE>
</HEAD>

<BODY class ="bodyframeattributes" >

<form method="post" EMWEB_NAME=route_table_good>

<!-- ----------------------------------------------------------------------- -->
<!--         Web page header                                                 -->
<!-- ----------------------------------------------------------------------- -->
 emweb:/USMWEB_ROUTING_PAGE_HEADER_1ST_GET?1234;   <!-- Includes page title          -->
 emweb:/USMWEB_ROUTING_PAGE_HEADER_2ND_GET?1283;   <!-- Includes help page link      -->


<table CLASS="tablecontent" emweb:/USMWEB_TABLE_CONTENT_ALIGN;>

<TR>
 <TD class = "rowidentifierattributes"  width=50%>emweb:/USMWEB_ROUTING_GET_NLS_STRING?4107; </TD>
 <TD CLASS = "rowvalue"  width=50%>
 <EMWEB_STRING C=' return usmWebNumGoodRoutesGet(); '>
 </TD>

</TR>

<TR><TD COLSPAN=2>
<TABLE class="datatableattributes"  emweb:/USMWEB_DATA_TABLE_ALIGN;>

<THEAD>
<TR>
 <TH class = "datatableheading" >emweb:/USMWEB_ROUTING_GET_NLS_STRING?1532; </TH>    <!-- Network Address -->
 <TH class = "datatableheading" >emweb:/USMWEB_ROUTING_GET_NLS_STRING?1090; </TH>    <!-- Subnet Mask -->
 <TH class = "datatableheading" >emweb:/USMWEB_ROUTING_GET_NLS_STRING?1548; </TH>    <!-- Protocol -->
 <TH class = "datatableheading" >Next Hop emweb:/USMWEB_UNIT_SLOT_PORT_DISPLAY;  </TH>    <!-- Next Hop Slot.Port -->
 <TH class = "datatableheading" >emweb:/USMWEB_ROUTING_GET_NLS_STRING?1535; </TH>    <!-- Next Hop IP Address -->
</TR>
</THEAD>

<EMWEB_ITERATE
 C='
   static L7_routeEntry_t  routeEntry;  
   L7_RC_t rc;
   L7_uint32  unit;
   unit = usmDbThisUnitGet();
   
   if (ewsContextIterator(ewsContext) == NULL)
   {
     memset(&routeEntry, 0x00, sizeof(L7_routeEntry_t ));
   }
   rc = usmDbNextRouteEntryGet(unit, &routeEntry, L7_TRUE); 
   if (rc == L7_SUCCESS)
   {
     return (const void *) &routeEntry;
   }
   else
   {
     return NULL;
   }
   '>
      
   <EMWEB_STRING C='
   
   L7_routeEntry_t  routeTable_itr;
   L7_uint32  unit;
   unit = usmDbThisUnitGet();
                        
   if (ewsContextIterator(ewsContext) == NULL)
   {     
     memset(&routeTable_itr, 0x00, sizeof(L7_routeEntry_t ));
   }
   else 
   {
     memcpy(&routeTable_itr, (usmRouteInfoType_t  *) ewsContextIterator(ewsContext), sizeof(L7_routeEntry_t));  
   }
   return usmWebGoodRouteTableInfoGet(unit, &routeTable_itr);
   '>
  
</EMWEB_ITERATE> 
</TABLE></TD></TR>
 
</TABLE>
</TD></TR>

<TR><td colspan=3 emweb:/USMWEB_BUTTON_ALIGN;><BR>
<input class="buttonattributes" type="submit" name="Refresh">


<!-- ----------------------------------- -->
<!--         Web page footer             -->
<!-- ----------------------------------- -->
 emweb:/USMWEB_PAGE_FOOTER_GET;

</form>

</BODY>
</HTML>



