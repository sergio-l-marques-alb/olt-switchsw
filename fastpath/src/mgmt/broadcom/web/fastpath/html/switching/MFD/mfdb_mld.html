<EMWEB_HEAD C='
#include "usmdb_mfdb_api.h"
#include "usmdb_sim_api.h"
'>
<EMWEB_IF ID=USMWEB_IF_LVL_HDR_NOT_REQ>
<!--
/*********************************************************************
*
* (C) Copyright Broadcom Corporation 2001-2007
*
**********************************************************************
*
* @filename mfdb_mld.html
*
* @purpose html content
*
* @comments 
*
* @create 01-Mar-2001
*
* @author gaunce
* @end
*
**********************************************************************/

**********************************************************************/
-->
</EMWEB_IF>
emweb:/USMWEB_PAGE_DTD_HEADER_GET;
<HTML>
<HEAD>
   emweb:/USMWEB_PAGE_META_DATA_GET; <!-- Style Sheet link and Meta data     -->
   <TITLE>emweb:/USMWEB_SWITCHING_OEM_STRING_GET?1101;</TITLE>

<script type='text/javascript' language='JavaScript'>
function DisplayErrorMsg()
//******************************************************************************
//* Purpose: Display an input error message.
//* Return:  none
//******************************************************************************
{
    alert(document.forms[0].err_msg.value);
}

function check_error()
{
   if (document.forms[0].err_flag.value == 1) {
      DisplayErrorMsg();
   }
}
 
function screen_refresh()
{
   document.forms[0].submit();
}

</script>

</HEAD>

<BODY class ="bodyframeattributes" ONLOAD = 'check_error()'>

<form method="post" EMWEB_NAME=mfdb_mld>

<!-- ----------------------------------------------------------------------- -->
<!--         Web page header                                                 -->
<!-- ----------------------------------------------------------------------- -->
 emweb:/USMWEB_SWITCHING_PAGE_HEADER_1ST_GET?1101;   <!-- Includes page title          -->
 emweb:/USMWEB_SWITCHING_PAGE_HEADER_2ND_GET?2101;   <!-- Includes help page link      -->
    


<table CLASS="tablecontent" emweb:/USMWEB_TABLE_CONTENT_ALIGN;>



<TR><TD COLSPAN=4>
<TABLE class="datatableattributes"  emweb:/USMWEB_DATA_TABLE_ALIGN;>

<THEAD>
<TR>
 <TH class = "datatableheading" >emweb:/USMWEB_SWITCHING_GET_NLS_STRING?1004; </TH>  <!-- MAC Address -->        
 <TH class = "datatableheading" >emweb:/USMWEB_SWITCHING_GET_NLS_STRING?1538; </TH>  <!-- Type -->               
 <TH class = "datatableheading" >emweb:/USMWEB_SWITCHING_GET_NLS_STRING?5310; </TH>  <!-- Description -->               
 <TH class = "datatableheading" >Interface(s) </TH>  <!-- Slot.Ports -->     
</TR>
</THEAD>

<EMWEB_ITERATE
 C='
   L7_RC_t rc;     
   static usmWeb_MfdbEntry_t entry;
   L7_uint32 userId = L7_MFDB_PROTOCOL_MLD;
   L7_uint32 unit;
   unit = usmDbThisUnitGet();
   
   if (ewsContextIterator(ewsContext) == NULL)
   {
     memset(&entry, 0x00, sizeof(usmWeb_MfdbEntry_t ));   
     
     rc = usmDbMfdbComponentEntryGetNext(unit, entry.mfdbEntry.usmdbMfdbVidMac, userId, &entry.userEntry);
     
     if (rc == L7_SUCCESS)
     {
	    return (const void *) &entry;
     }
     else
     {
        return NULL;
     }
   }
   else 
   {
     rc = usmDbMfdbComponentEntryGetNext(unit, entry.mfdbEntry.usmdbMfdbVidMac, userId, &entry.userEntry);
     if (rc == L7_SUCCESS)
     {
	    return (const void *) &entry;
     }
     else
     {
        return NULL;
     }
   }
   
   '>
      
   <EMWEB_STRING C='
   
   usmWeb_MfdbEntry_t  entry_itr;
   L7_uint32 unit;
   unit = usmDbThisUnitGet();
                        
   if (ewsContextIterator(ewsContext) == NULL)
   {     
     memset(&entry_itr, 0x00, sizeof(usmWeb_MfdbEntry_t));
   }
   else 
   {
     memcpy(&entry_itr, (L7_uint32 *) ewsContextIterator(ewsContext), sizeof(usmWeb_MfdbEntry_t));  
   }
   return usmWebMfdbIgmpTableInfoGet(unit, &entry_itr);
   '>
  
</EMWEB_ITERATE> 

</TABLE>
</TD></TR>
          

 <INPUT TYPE="hidden" NAME="err_flag" SIZE="16" MAXLENGTH="15" EMWEB_TYPE=DECIMAL_UINT>
 <INPUT TYPE="hidden" NAME="err_msg" SIZE="128" MAXLENGTH="127" >


<tr></TR><TR><td colspan=4 emweb:/USMWEB_BUTTON_ALIGN;><BR>
<input class="buttonattributes" type="submit" name="Refresh"> 
<EMWEB_IF ID=USMWEB_IF_READWRITE >
<input class="buttonattributes" type="submit" name="Clear">
</EMWEB_IF>
</TD>
</TR> 
</TABLE>


<!-- ----------------------------------- -->
<!--         Web page footer             -->
<!-- ----------------------------------- -->
 emweb:/USMWEB_PAGE_FOOTER_GET;


</form>
</BODY>
</HTML>


