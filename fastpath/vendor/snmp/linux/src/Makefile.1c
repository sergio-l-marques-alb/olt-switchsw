
#
#
# Copyright (C) 1992-2006 by SNMP Research, Incorporated.
#
# This software is furnished under a license and may be used and copied
# only in accordance with the terms of such license and with the
# inclusion of the above copyright notice. This software or any other
# copies thereof may not be provided or otherwise made available to any
# other person. No title to and ownership of the software is hereby
# transferred.
#
# The information in this software is subject to change without notice
# and should not be construed as a commitment by SNMP Research, Incorporated.
#
# Restricted Rights Legend:
#  Use, duplication, or disclosure by the Government is subject to
#  restrictions as set forth in subparagraph (c)(1)(ii) of the Rights
#  in Technical Data and Computer Software clause at DFARS 252.227-7013;
#  subparagraphs (c)(4) and (d) of the Commercial Computer
#  Software-Restricted Rights Clause, FAR 52.227-19; and in similar
#  clauses in the NASA FAR Supplement and other corresponding
#  governmental regulations.
#
#

#
#                PROPRIETARY NOTICE
#
# This software is an unpublished work subject to a confidentiality agreement
# and is protected by copyright and trade secret law.  Unauthorized copying,
# redistribution or other use of this work is prohibited.
#
# The above notice of copyright on this source code product does not indicate
# any actual or intended publication of such source code.
#
#


TOPDIR = .


# Generated on Wed Aug 16 07:08:35 EDT 2006

# Config file is /amd/hive/manwork/norton/rel16.2/snmp/CONFIG/LUMA_EPIC

# 
# Operating System Information
#

RM = rm -f
RMDIR = rmdir
MOVE = mv
CP = cp
CAT = cat
MKDIR = mkdir
# PRESERVE is the flag to $(CP) to duplicate the modification time and
# permission modes of the original file or directory.
PRESERVE = -p


# Extensions to certain kinds of files are set here.
LIBEXT = a
BINEXT =
OBJEXT = o


LIBPRF = lib


              OS = -DLINUX
              os = linux
      SR_OSTYPE =
         OSFLAGS =
      SOCKETLIBS =
            LLIB =
      LINTLIBOPT =
        LINTOPTS =
     THREAD_LIBS = -lpthread
     SR_SEM_LIBS = -lrt
      EXTRA_DEFS = 


              CC = cc
              LD = cc
      DEBUGFLAGS = -g -Wall -fno-builtin -Wpointer-arith -Wstrict-prototypes
            LINT = lint
              AR = ar
             LEX = flex
            YACC = yacc
          AROPTS = cr
          RANLIB = touch

      EXTRA_SRCS =
      EXTRA_OBJS =

# for shared libraries
DYNCFLAGS = -fPIC
DYNLDFLAGS = -shared
DYN_LINK_FLAGS = -rdynamic
DYNLDLIBS =
DYNLD = ld 
DYN_LIB_LIBS = -ldl
SHLIBPRF = lib
SHLIBEXT = so
IPC_DEFAULT = -DSR_UDS_IPC
IPC_DEFAULT_LIB = uds


#
# Directories
#


OBD_V1 = 1

OBD_V2c = c

OBD_V3 =

OSBASEDIR = v$(OBD_V1)$(OBD_V2c)$(OBD_V3)


SRM_ARCH = $(shell /bin/arch)

OSLIBDIR = $(os)_$(SRM_ARCH)$(OSBASEDIR).lib
OSOBJDIR = $(os)_$(SRM_ARCH)$(OSBASEDIR).obj
OSBINDIR = $(os)_$(SRM_ARCH)$(OSBASEDIR).bin

SECUR_DIR = $(TOPDIR)/../basic

LIBDIR      = $(SECUR_DIR)/$(OSLIBDIR)
BINDIR      = $(SECUR_DIR)/$(OSBINDIR)
INSTALLDIR  = $(SECUR_DIR)/$(OSBINDIR)
MIBS_DIR    = $(TOPDIR)/mibs
RFCS_DIR    = $(TOPDIR)/mibs/rfcs
IDRAFTS_DIR = $(TOPDIR)/mibs/internet-drafts
IANA_DIR    = $(TOPDIR)/mibs/iana
MIBCOMP_DIR = $(SECUR_DIR)/$(OSBINDIR)

#
# Subordinant Makefile
#


BMFN_V1 = 1

BMFN_V2c = c

BMFN_V3 =

BASEMAKEFILENAME = Makev$(BMFN_V1)$(BMFN_V2c)$(BMFN_V3)


SUBMAKEFILE = $(BASEMAKEFILENAME).$(os)
#
# Make Command
#

MAKECMD = make -f $(SUBMAKEFILE)

MIBCOMP = mibgc

all::

install::

clean::
	-$(RM) -r $(BINDIR)


$(INSTALLDIR)::
	-$(MKDIR) $(INSTALLDIR)

# User Options Section

# Libraries, Agent, Emanate, and Utilities installation information


MANDIR = /usr/share/man

CONFIGDIR = /etc/srconf


# You should not need to change anything below this line.


all::
	( cd engine ; $(MAKECMD) all )
	( cd devkit ; $(MAKECMD) all )
	( cd devkit/mibtree ; $(MAKECMD) all )
	( cd devkit/mibtable ; $(MAKECMD) all )
clean::
	( cd engine ; $(MAKECMD) clean )
	( cd devkit ; $(MAKECMD) clean )
	( cd devkit/mibtree ; $(MAKECMD) clean )
	( cd devkit/mibtable ; $(MAKECMD) clean )
lint::
	-( cd engine ; $(MAKECMD) lint )
	-( cd devkit ; $(MAKECMD) lint )
	-( cd devkit/mibtree ; $(MAKECMD) lint )
	-( cd devkit/mibtable ; $(MAKECMD) lint )

all::
	( cd mibtools ; $(MAKECMD) all )
clean::
	( cd mibtools ; $(MAKECMD) clean )
install:: $(INSTALLDIR)
	-$(CP) mibtools/$(MIBCOMP)/$(OSOBJDIR)/$(MIBCOMP)$(BINEXT) \
	       $(INSTALLDIR)/$(MIBCOMP)$(BINEXT)
	-$(CP) mibtools/agttools/$(OSOBJDIR)/postmosy$(BINEXT) \
	       $(INSTALLDIR)/postmosy$(BINEXT)
	-$(CP) mibtools/mgrtools/$(OSOBJDIR)/mgrtool$(BINEXT) \
	       $(INSTALLDIR)/mgrtool$(BINEXT)
	-$(CP) mibtools/mosy/$(OSOBJDIR)/premosy$(BINEXT) \
	       $(INSTALLDIR)/premosy$(BINEXT)
lint::
	-( cd mibtools; $(MAKECMD) lint )

all:: 
	( cd $(MIBS_DIR)/common ; $(MAKECMD) all )
clean::
	( cd $(MIBS_DIR)/common ; $(MAKECMD) clean )

all:: 
	( cd $(MIBS_DIR)/rfcs/rfc1573 ; $(MAKECMD) all )
clean::
	( cd $(MIBS_DIR)/rfcs/rfc1573 ; $(MAKECMD) clean )

all:: 
	( cd $(MIBS_DIR)/rfcs/rfc1659 ; $(MAKECMD) all )
clean::
	( cd $(MIBS_DIR)/rfcs/rfc1659 ; $(MAKECMD) clean )


all::
	( cd snmpd/lib ; $(MAKECMD) all )
clean::
	( cd snmpd/lib ; $(MAKECMD) clean )
lint::
	-( cd snmpd/lib ; $(MAKECMD) lint )


all::
	( cd utility ; $(MAKECMD) all )
clean::
	( cd utility ; $(MAKECMD) clean )
install:: $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/getbulk$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/inform$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/setany$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/getnext$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/getmany$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/getone$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/getid$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/getmet$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/getroute$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/getsub$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/gettab$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/traprcv$(BINEXT) $(INSTALLDIR)
	-$(CP) utility/$(OSOBJDIR)/trapsend$(BINEXT) $(INSTALLDIR)

lint::
	-( cd utility ; $(MAKECMD) lint )

all::
	( cd epic ; $(MAKECMD) all )
clean::
	( cd epic ; $(MAKECMD) clean )
install:: $(INSTALLDIR)

lint::
	-( cd epic ; $(MAKECMD) lint )


all::
	( cd snmpd/unix ; $(MAKECMD) all )
clean::
	( cd snmpd/unix ; $(MAKECMD) clean )

install:: $(INSTALLDIR)
	-$(CP) snmpd/unix/$(OSOBJDIR)/snmpd$(BINEXT) $(INSTALLDIR)

lint::
	-( cd snmpd/unix ; $(MAKECMD) lint )


# Configuration file installation

V1 = 1

V2C = c

V3 =

# Make directories
install::
	-$(MKDIR) -p $(CONFIGDIR)
	-$(MKDIR) $(CONFIGDIR)/mgr
	-$(MKDIR) $(CONFIGDIR)/agt


install::
	-$(CP) $(SECUR_DIR)/config/agt/v$(V1)$(V2C)$(V3).cnf \
		$(CONFIGDIR)/agt/snmpd.cnf
	-$(CP) $(SECUR_DIR)/config/mgr/v$(V1)$(V2C)$(V3).cnf \
		$(CONFIGDIR)/mgr/mgr.cnf
	-$(CP) mibs/common/$(OSOBJDIR)/snmpinfo.dat \
		$(CONFIGDIR)/mgr/snmpinfo.dat
	-chmod 600 $(CONFIGDIR)/agt/snmpd.cnf


install::
	-$(MKDIR) $(CONFIGDIR)/epic
	$(CAT) $(SECUR_DIR)/config/epic/v$(V1)$(V2C)$(V3).add \
	       >> $(CONFIGDIR)/agt/snmpd.cnf


# Configuration file installation finished

clean::
	-$(RMDIR) $(LIBDIR)

CMDSRC = ./doc/user/manpages/commands
CMDTRG = $(MANDIR)/manl
CMDEXT = l

MIBSRC = ./doc/devel/manpages/mibtools
MIBTRG = $(MANDIR)/manl
MIBEXT = l

AGTSRC = ./doc/devel/manpages/agent
AGTTRG = $(MANDIR)/manl
AGTEXT = l

LMSRC = ./doc/devel/manpages/libs/seclib
LMTRG = $(MANDIR)/man3
LMEXT = 3

FMTSRC = ./doc/user/manpages/formats
FMTTRG = $(MANDIR)/man5
FMTEXT = 5


SED_CLIBMAN = sed s/SR_CLIBMAN/$(LMEXT)/g
SED_CMDMAN = sed s/SR_CMDMAN/$(CMDEXT)/g
SED_FMTMAN = sed s/SR_FMTMAN/$(FMTEXT)/g
SED_MAN = $(SED_CLIBMAN) | $(SED_CMDMAN) | $(SED_FMTMAN)

# Command manual page installation

install::
	-$(MKDIR) $(CMDTRG)
	cat $(CMDSRC)/getbulk.man | $(SED_MAN) > $(CMDTRG)/getbulk.$(CMDEXT)
	cat $(CMDSRC)/getid.man | $(SED_MAN) >   $(CMDTRG)/getid.$(CMDEXT)
	cat $(CMDSRC)/getmany.man | $(SED_MAN) > $(CMDTRG)/getmany.$(CMDEXT)
	cat $(CMDSRC)/getmet.man | $(SED_MAN) >  $(CMDTRG)/getmet.$(CMDEXT)
	cat $(CMDSRC)/getnext.man | $(SED_MAN) > $(CMDTRG)/getnext.$(CMDEXT)
	cat $(CMDSRC)/getone.man | $(SED_MAN) >  $(CMDTRG)/getone.$(CMDEXT)
	cat $(CMDSRC)/getroute.man | $(SED_MAN) > \
		$(CMDTRG)/getroute.$(CMDEXT)
	cat $(CMDSRC)/getsub.man | $(SED_MAN) >  $(CMDTRG)/getsub.$(CMDEXT)
	cat $(CMDSRC)/gettab.man | $(SED_MAN) >  $(CMDTRG)/gettab.$(CMDEXT)
	cat $(CMDSRC)/setany.man | $(SED_MAN) >  $(CMDTRG)/setany.$(CMDEXT)
	cat $(CMDSRC)/inform.man | $(SED_MAN) >  $(CMDTRG)/inform.$(CMDEXT)
	cat $(CMDSRC)/traprcv.man | $(SED_MAN) > $(CMDTRG)/traprcv.$(CMDEXT)
	cat $(CMDSRC)/trapsend.man | $(SED_MAN) > \
		$(CMDTRG)/trapsend.$(CMDEXT)
	-$(MKDIR) $(MIBTRG)
	cat $(MIBSRC)/mgrtool.man | $(SED_MAN) > $(MIBTRG)/mgrtool.$(MIBEXT)
	cat $(MIBSRC)/mosy.man | $(SED_MAN) >    $(MIBTRG)/mosy.$(MIBEXT)
	cat $(MIBSRC)/postmosy.man | $(SED_MAN) > \
		$(MIBTRG)/postmosy.$(MIBEXT)
	cat $(MIBSRC)/premosy.man | $(SED_MAN) > $(MIBTRG)/premosy.$(MIBEXT)
	cat $(CMDSRC)/snmpd.man | $(SED_MAN) >   $(CMDTRG)/snmpd.$(CMDEXT)


# Library manual page installation
install::
	-$(MKDIR) $(LMTRG)
	cat $(LMSRC)/log.man | $(SED_MAN) > \
		$(LMTRG)/log.$(LMEXT)

install::
	-$(MKDIR) $(AGTTRG)
	cat $(AGTSRC)/methods.man | $(SED_MAN) >$(AGTTRG)/methods.$(AGTEXT)


# Library manual page installation

install::
	-$(MKDIR) $(LMTRG)
	cat $(LMSRC)/log.man | $(SED_MAN) >$(LMTRG)/log.$(LMEXT)
	cat $(LMSRC)/BuildAuthentication.man | $(SED_MAN) > \
		$(LMTRG)/BuildAuthentication.$(LMEXT)
	cat $(LMSRC)/BuildNextVarBind.man | $(SED_MAN) > \
		$(LMTRG)/BuildNextVarBind.$(LMEXT)
	cat $(LMSRC)/BuildPdu.man | $(SED_MAN) >$(LMTRG)/BuildPdu.$(LMEXT)
	cat $(LMSRC)/CheckEndOfMIB.man | $(SED_MAN) > \
		$(LMTRG)/CheckEndOfMIB.$(LMEXT)
	cat $(LMSRC)/CheckOID.man | $(SED_MAN) >$(LMTRG)/CheckOID.$(LMEXT)
	cat $(LMSRC)/CloneOID.man | $(SED_MAN) >$(LMTRG)/CloneOID.$(LMEXT)
	cat $(LMSRC)/CloseUp.man | $(SED_MAN) >$(LMTRG)/CloseUp.$(LMEXT)
	cat $(LMSRC)/CmpOID.man | $(SED_MAN) >$(LMTRG)/CmpOID.$(LMEXT)
	cat $(LMSRC)/CmpOIDClass.man | $(SED_MAN) > \
		$(LMTRG)/CmpOIDClass.$(LMEXT)
	cat $(LMSRC)/CreateVarBind.man | $(SED_MAN) > \
		$(LMTRG)/CreateVarBind.$(LMEXT)
	cat $(LMSRC)/FreeAuthentication.man | $(SED_MAN) > \
		$(LMTRG)/FreeAuthentication.$(LMEXT)
	cat $(LMSRC)/FreeOID.man | $(SED_MAN) >$(LMTRG)/FreeOID.$(LMEXT)
	cat $(LMSRC)/FreeOctetString.man | $(SED_MAN) > \
		$(LMTRG)/FreeOctetString.$(LMEXT)
	cat $(LMSRC)/FreePdu.man | $(SED_MAN) >$(LMTRG)/FreePdu.$(LMEXT)
	cat $(LMSRC)/FreeVarBindList.man | $(SED_MAN) > \
		$(LMTRG)/FreeVarBindList.$(LMEXT)
	cat $(LMSRC)/GetResponse.man | $(SED_MAN) > \
		$(LMTRG)/GetResponse.$(LMEXT)
	cat $(LMSRC)/GetTimeNow.man | $(SED_MAN) >$(LMTRG)/GetTimeNow.$(LMEXT)
	cat $(LMSRC)/GetType.man | $(SED_MAN) >$(LMTRG)/GetType.$(LMEXT)
	cat $(LMSRC)/InitSecure.man | $(SED_MAN) >$(LMTRG)/InitSecure.$(LMEXT)
	cat $(LMSRC)/InitializeIO.man | $(SED_MAN) > \
		$(LMTRG)/InitializeIO.$(LMEXT)
	cat $(LMSRC)/InitializeTrapIO.man | $(SED_MAN) > \
		$(LMTRG)/InitializeTrapIO.$(LMEXT)
	cat $(LMSRC)/LinkVarBind.man | $(SED_MAN) > \
		$(LMTRG)/LinkVarBind.$(LMEXT)
	cat $(LMSRC)/MakeDotFromOID.man | $(SED_MAN) > \
		$(LMTRG)/MakeDotFromOID.$(LMEXT)
	cat $(LMSRC)/MakeOID.man | $(SED_MAN) > \
		$(LMTRG)/MakeOID.$(LMEXT)
	cat $(LMSRC)/MakeOIDFromDot.man | $(SED_MAN) > \
		$(LMTRG)/MakeOIDFromDot.$(LMEXT)
	cat $(LMSRC)/MakeOIDSubLen.man | $(SED_MAN) > \
		$(LMTRG)/MakeOIDSubLen.$(LMEXT)
	cat $(LMSRC)/MakeOctetString.man | $(SED_MAN) > \
		$(LMTRG)/MakeOctetString.$(LMEXT)
	cat $(LMSRC)/MakeOctetStringFromHex.man | $(SED_MAN) > \
		$(LMTRG)/MakeOctetStringFromHex.$(LMEXT)
	cat $(LMSRC)/MakeOctetStringFromText.man | $(SED_MAN) > \
		$(LMTRG)/MakeOctetStringFromText.$(LMEXT)
	cat $(LMSRC)/MakePdu.man | $(SED_MAN) >$(LMTRG)/MakePdu.$(LMEXT)
	cat $(LMSRC)/MakeReqId.man | $(SED_MAN) >$(LMTRG)/MakeReqId.$(LMEXT)
	cat $(LMSRC)/MakeVarBindWithNull.man | $(SED_MAN) >\
		$(LMTRG)/MakeVarBindWithNull.$(LMEXT)
	cat $(LMSRC)/MakeVarBindWithValue.man | $(SED_MAN) >\
		$(LMTRG)/MakeVarBindWithValue.$(LMEXT)
	cat $(LMSRC)/NewMIBFromFile.man | $(SED_MAN) > \
		$(LMTRG)/NewMIBFromFile.$(LMEXT)
	cat $(LMSRC)/ParseAuthentication.man | $(SED_MAN) > \
		$(LMTRG)/ParseAuthentication.$(LMEXT)
	cat $(LMSRC)/ParsePdu.man | $(SED_MAN) > \
		$(LMTRG)/ParsePdu.$(LMEXT)
	cat $(LMSRC)/PrintErrorCode.man | $(SED_MAN) > \
		$(LMTRG)/PrintErrorCode.$(LMEXT)
	cat $(LMSRC)/PrintOctetString.man | $(SED_MAN) > \
		$(LMTRG)/PrintOctetString.$(LMEXT)
	cat $(LMSRC)/PrintPacket.man | $(SED_MAN) > \
		$(LMTRG)/PrintPacket.$(LMEXT)
	cat $(LMSRC)/PrintVarBindList.man | $(SED_MAN) > \
		$(LMTRG)/PrintVarBindList.$(LMEXT)
	cat $(LMSRC)/SendRequest.man | $(SED_MAN) > \
		$(LMTRG)/SendRequest.$(LMEXT)


# File format manual page installation

install::
	-$(MKDIR) $(FMTTRG)
	cat $(FMTSRC)/mgrcnf.man | $(SED_MAN) >$(FMTTRG)/mgrcnf.$(FMTEXT)
	cat $(FMTSRC)/snmpdcnf.man | $(SED_MAN) >$(FMTTRG)/snmpdcnf.$(FMTEXT)
	cat $(FMTSRC)/snmpinfo.man | $(SED_MAN) >$(FMTTRG)/snmpinfo.$(FMTEXT)

all::
	@echo "Build complete."
